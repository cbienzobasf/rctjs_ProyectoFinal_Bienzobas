function Y1(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Jc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rf={exports:{}},il={},sf={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function J1(){if(My)return ke;My=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,z={};function b(M,q,ce){this.props=M,this.context=q,this.refs=z,this.updater=ce||O}b.prototype.isReactComponent={},b.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},b.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Z(){}Z.prototype=b.prototype;function re(M,q,ce){this.props=M,this.context=q,this.refs=z,this.updater=ce||O}var G=re.prototype=new Z;G.constructor=re,F(G,b.prototype),G.isPureReactComponent=!0;var J=Array.isArray,pe=Object.prototype.hasOwnProperty,se={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function C(M,q,ce){var ye,Se={},Oe=null,Fe=null;if(q!=null)for(ye in q.ref!==void 0&&(Fe=q.ref),q.key!==void 0&&(Oe=""+q.key),q)pe.call(q,ye)&&!P.hasOwnProperty(ye)&&(Se[ye]=q[ye]);var Ue=arguments.length-2;if(Ue===1)Se.children=ce;else if(1<Ue){for(var ze=Array(Ue),ot=0;ot<Ue;ot++)ze[ot]=arguments[ot+2];Se.children=ze}if(M&&M.defaultProps)for(ye in Ue=M.defaultProps,Ue)Se[ye]===void 0&&(Se[ye]=Ue[ye]);return{$$typeof:n,type:M,key:Oe,ref:Fe,props:Se,_owner:se.current}}function k(M,q){return{$$typeof:n,type:M.type,key:q,ref:M.ref,props:M.props,_owner:M._owner}}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function V(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ce){return q[ce]})}var j=/\/+/g;function x(M,q){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):q.toString(36)}function Qe(M,q,ce,ye,Se){var Oe=typeof M;(Oe==="undefined"||Oe==="boolean")&&(M=null);var Fe=!1;if(M===null)Fe=!0;else switch(Oe){case"string":case"number":Fe=!0;break;case"object":switch(M.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=M,Se=Se(Fe),M=ye===""?"."+x(Fe,0):ye,J(Se)?(ce="",M!=null&&(ce=M.replace(j,"$&/")+"/"),Qe(Se,q,ce,"",function(ot){return ot})):Se!=null&&(D(Se)&&(Se=k(Se,ce+(!Se.key||Fe&&Fe.key===Se.key?"":(""+Se.key).replace(j,"$&/")+"/")+M)),q.push(Se)),1;if(Fe=0,ye=ye===""?".":ye+":",J(M))for(var Ue=0;Ue<M.length;Ue++){Oe=M[Ue];var ze=ye+x(Oe,Ue);Fe+=Qe(Oe,q,ce,ze,Se)}else if(ze=S(M),typeof ze=="function")for(M=ze.call(M),Ue=0;!(Oe=M.next()).done;)Oe=Oe.value,ze=ye+x(Oe,Ue++),Fe+=Qe(Oe,q,ce,ze,Se);else if(Oe==="object")throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Fe}function ht(M,q,ce){if(M==null)return M;var ye=[],Se=0;return Qe(M,ye,"","",function(Oe){return q.call(ce,Oe,Se++)}),ye}function Ke(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(ce){(M._status===0||M._status===-1)&&(M._status=1,M._result=ce)},function(ce){(M._status===0||M._status===-1)&&(M._status=2,M._result=ce)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var Ne={current:null},ee={transition:null},me={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ee,ReactCurrentOwner:se};function oe(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:ht,forEach:function(M,q,ce){ht(M,function(){q.apply(this,arguments)},ce)},count:function(M){var q=0;return ht(M,function(){q++}),q},toArray:function(M){return ht(M,function(q){return q})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ke.Component=b,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=re,ke.StrictMode=i,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ke.act=oe,ke.cloneElement=function(M,q,ce){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ye=F({},M.props),Se=M.key,Oe=M.ref,Fe=M._owner;if(q!=null){if(q.ref!==void 0&&(Oe=q.ref,Fe=se.current),q.key!==void 0&&(Se=""+q.key),M.type&&M.type.defaultProps)var Ue=M.type.defaultProps;for(ze in q)pe.call(q,ze)&&!P.hasOwnProperty(ze)&&(ye[ze]=q[ze]===void 0&&Ue!==void 0?Ue[ze]:q[ze])}var ze=arguments.length-2;if(ze===1)ye.children=ce;else if(1<ze){Ue=Array(ze);for(var ot=0;ot<ze;ot++)Ue[ot]=arguments[ot+2];ye.children=Ue}return{$$typeof:n,type:M.type,key:Se,ref:Oe,props:ye,_owner:Fe}},ke.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:a,_context:M},M.Consumer=M},ke.createElement=C,ke.createFactory=function(M){var q=C.bind(null,M);return q.type=M,q},ke.createRef=function(){return{current:null}},ke.forwardRef=function(M){return{$$typeof:d,render:M}},ke.isValidElement=D,ke.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:Ke}},ke.memo=function(M,q){return{$$typeof:y,type:M,compare:q===void 0?null:q}},ke.startTransition=function(M){var q=ee.transition;ee.transition={};try{M()}finally{ee.transition=q}},ke.unstable_act=oe,ke.useCallback=function(M,q){return Ne.current.useCallback(M,q)},ke.useContext=function(M){return Ne.current.useContext(M)},ke.useDebugValue=function(){},ke.useDeferredValue=function(M){return Ne.current.useDeferredValue(M)},ke.useEffect=function(M,q){return Ne.current.useEffect(M,q)},ke.useId=function(){return Ne.current.useId()},ke.useImperativeHandle=function(M,q,ce){return Ne.current.useImperativeHandle(M,q,ce)},ke.useInsertionEffect=function(M,q){return Ne.current.useInsertionEffect(M,q)},ke.useLayoutEffect=function(M,q){return Ne.current.useLayoutEffect(M,q)},ke.useMemo=function(M,q){return Ne.current.useMemo(M,q)},ke.useReducer=function(M,q,ce){return Ne.current.useReducer(M,q,ce)},ke.useRef=function(M){return Ne.current.useRef(M)},ke.useState=function(M){return Ne.current.useState(M)},ke.useSyncExternalStore=function(M,q,ce){return Ne.current.useSyncExternalStore(M,q,ce)},ke.useTransition=function(){return Ne.current.useTransition()},ke.version="18.3.1",ke}var jy;function fp(){return jy||(jy=1,sf.exports=J1()),sf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function Z1(){if(Fy)return il;Fy=1;var n=fp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var _,E={},S=null,O=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(O=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(E[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:d,key:S,ref:O,props:E,_owner:o.current}}return il.Fragment=t,il.jsx=c,il.jsxs=c,il}var Uy;function eI(){return Uy||(Uy=1,rf.exports=Z1()),rf.exports}var T=eI(),R=fp();const Vt=Jc(R),tI=Y1({__proto__:null,default:Vt},[R]);var ec={},of={exports:{}},on={},af={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function nI(){return By||(By=1,function(n){function e(ee,me){var oe=ee.length;ee.push(me);e:for(;0<oe;){var M=oe-1>>>1,q=ee[M];if(0<o(q,me))ee[M]=me,ee[oe]=q,oe=M;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var me=ee[0],oe=ee.pop();if(oe!==me){ee[0]=oe;e:for(var M=0,q=ee.length,ce=q>>>1;M<ce;){var ye=2*(M+1)-1,Se=ee[ye],Oe=ye+1,Fe=ee[Oe];if(0>o(Se,oe))Oe<q&&0>o(Fe,Se)?(ee[M]=Fe,ee[Oe]=oe,M=Oe):(ee[M]=Se,ee[ye]=oe,M=ye);else if(Oe<q&&0>o(Fe,oe))ee[M]=Fe,ee[Oe]=oe,M=Oe;else break e}}return me}function o(ee,me){var oe=ee.sortIndex-me.sortIndex;return oe!==0?oe:ee.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],_=1,E=null,S=3,O=!1,F=!1,z=!1,b=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(ee){for(var me=t(y);me!==null;){if(me.callback===null)i(y);else if(me.startTime<=ee)i(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(y)}}function J(ee){if(z=!1,G(ee),!F)if(t(p)!==null)F=!0,Ke(pe);else{var me=t(y);me!==null&&Ne(J,me.startTime-ee)}}function pe(ee,me){F=!1,z&&(z=!1,Z(C),C=-1),O=!0;var oe=S;try{for(G(me),E=t(p);E!==null&&(!(E.expirationTime>me)||ee&&!V());){var M=E.callback;if(typeof M=="function"){E.callback=null,S=E.priorityLevel;var q=M(E.expirationTime<=me);me=n.unstable_now(),typeof q=="function"?E.callback=q:E===t(p)&&i(p),G(me)}else i(p);E=t(p)}if(E!==null)var ce=!0;else{var ye=t(y);ye!==null&&Ne(J,ye.startTime-me),ce=!1}return ce}finally{E=null,S=oe,O=!1}}var se=!1,P=null,C=-1,k=5,D=-1;function V(){return!(n.unstable_now()-D<k)}function j(){if(P!==null){var ee=n.unstable_now();D=ee;var me=!0;try{me=P(!0,ee)}finally{me?x():(se=!1,P=null)}}else se=!1}var x;if(typeof re=="function")x=function(){re(j)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,ht=Qe.port2;Qe.port1.onmessage=j,x=function(){ht.postMessage(null)}}else x=function(){b(j,0)};function Ke(ee){P=ee,se||(se=!0,x())}function Ne(ee,me){C=b(function(){ee(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){F||O||(F=!0,Ke(pe))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var me=3;break;default:me=S}var oe=S;S=me;try{return ee()}finally{S=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,me){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var oe=S;S=ee;try{return me()}finally{S=oe}},n.unstable_scheduleCallback=function(ee,me,oe){var M=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?M+oe:M):oe=M,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=oe+q,ee={id:_++,callback:me,priorityLevel:ee,startTime:oe,expirationTime:q,sortIndex:-1},oe>M?(ee.sortIndex=oe,e(y,ee),t(p)===null&&ee===t(y)&&(z?(Z(C),C=-1):z=!0,Ne(J,oe-M))):(ee.sortIndex=q,e(p,ee),F||O||(F=!0,Ke(pe))),ee},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ee){var me=S;return function(){var oe=S;S=me;try{return ee.apply(this,arguments)}finally{S=oe}}}}(lf)),lf}var $y;function rI(){return $y||($y=1,af.exports=nI()),af.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function iI(){if(zy)return on;zy=1;var n=fp(),e=rI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function S(r){return p.call(E,r)?!0:p.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function O(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function F(r,s,l,h){if(s===null||typeof s>"u"||O(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(r,s,l,h,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];b[s]=new z(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function re(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Z,re);b[s]=new z(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Z,re);b[s]=new z(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Z,re);b[s]=new z(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,l,h){var f=b.hasOwnProperty(s)?b[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(F(s,l,f,h)&&(l=null),h||f===null?S(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pe=Symbol.for("react.element"),se=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ee=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,M;function q(r){if(M===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+r}var ce=!1;function ye(r,s){if(!r||ce)return"";ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var h=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){h=H}r.call(s.prototype)}else{try{throw Error()}catch(H){h=H}r()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),g=h.stack.split(`
`),w=f.length-1,A=g.length-1;1<=w&&0<=A&&f[w]!==g[A];)A--;for(;1<=w&&0<=A;w--,A--)if(f[w]!==g[A]){if(w!==1||A!==1)do if(w--,A--,0>A||f[w]!==g[A]){var N=`
`+f[w].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=w&&0<=A);break}}}finally{ce=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?q(r):""}function Se(r){switch(r.tag){case 5:return q(r.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return r=ye(r.type,!1),r;case 11:return r=ye(r.type.render,!1),r;case 1:return r=ye(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case se:return"Portal";case k:return"Profiler";case C:return"StrictMode";case x:return"Suspense";case Qe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ht:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case Ke:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ze(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ot(r){var s=ze(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){h=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Dn(r){r._valueTracker||(r._valueTracker=ot(r))}function Rr(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=ze(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function vn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function _n(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function qe(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ue(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ai(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function Cr(r,s){ai(r,s);var l=Ue(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Bs(r,s.type,l):s.hasOwnProperty("defaultValue")&&Bs(r,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Fl(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Bs(r,s,l){(s!=="number"||vn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ar=Array.isArray;function xr(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Ue(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function da(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function $s(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Ar(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Ue(l)}}function zs(r,s){var l=Ue(s.value),h=Ue(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function fa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function gt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?gt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var kr,pa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(kr=kr||document.createElement("div"),kr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=kr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function li(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ns=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(r){ns.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ts[s]=ts[r]})});function ma(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ts.hasOwnProperty(r)&&ts[r]?(""+s).trim():s+"px"}function ga(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=ma(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var ya=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(r,s){if(s){if(ya[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function _a(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function Hs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ws=null,En=null,er=null;function qs(r){if(r=za(r)){if(typeof Ws!="function")throw Error(t(280));var s=r.stateNode;s&&(s=mu(s),Ws(r.stateNode,r.type,s))}}function tr(r){En?er?er.push(r):er=[r]:En=r}function Ea(){if(En){var r=En,s=er;if(er=En=null,qs(r),s)for(r=0;r<s.length;r++)qs(s[r])}}function is(r,s){return r(s)}function wa(){}var Pr=!1;function Ta(r,s,l){if(Pr)return r(s,l);Pr=!0;try{return is(r,s,l)}finally{Pr=!1,(En!==null||er!==null)&&(wa(),Ea())}}function lt(r,s){var l=r.stateNode;if(l===null)return null;var h=mu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Ks=!1;if(d)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Ks=!1}function ss(r,s,l,h,f,g,w,A,N){var H=Array.prototype.slice.call(arguments,3);try{s.apply(l,H)}catch(X){this.onError(X)}}var os=!1,Gs=null,Ln=!1,Ia=null,Nh={onError:function(r){os=!0,Gs=r}};function Qs(r,s,l,h,f,g,w,A,N){os=!1,Gs=null,ss.apply(Nh,arguments)}function Ul(r,s,l,h,f,g,w,A,N){if(Qs.apply(this,arguments),os){if(os){var H=Gs;os=!1,Gs=null}else throw Error(t(198));Ln||(Ln=!0,Ia=H)}}function Vn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function as(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Mn(r){if(Vn(r)!==r)throw Error(t(188))}function Bl(r){var s=r.alternate;if(!s){if(s=Vn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return Mn(f),r;if(g===h)return Mn(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=g;else{for(var w=!1,A=f.child;A;){if(A===l){w=!0,l=f,h=g;break}if(A===h){w=!0,h=f,l=g;break}A=A.sibling}if(!w){for(A=g.child;A;){if(A===l){w=!0,l=g,h=f;break}if(A===h){w=!0,h=g,l=f;break}A=A.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Sa(r){return r=Bl(r),r!==null?Xs(r):null}function Xs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Xs(r);if(s!==null)return s;r=r.sibling}return null}var Ys=e.unstable_scheduleCallback,Ra=e.unstable_cancelCallback,$l=e.unstable_shouldYield,Oh=e.unstable_requestPaint,Xe=e.unstable_now,zl=e.unstable_getCurrentPriorityLevel,ls=e.unstable_ImmediatePriority,ui=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,Ca=e.unstable_LowPriority,Hl=e.unstable_IdlePriority,us=null,cn=null;function Wl(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(us,r,void 0,(r.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Kl,Aa=Math.log,ql=Math.LN2;function Kl(r){return r>>>=0,r===0?32:31-(Aa(r)/ql|0)|0}var Js=64,Zs=4194304;function ci(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function cs(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var A=w&~f;A!==0?h=ci(A):(g&=w,g!==0&&(h=ci(g)))}else w=l&~f,w!==0?h=ci(w):g!==0&&(h=ci(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-Gt(s),f=1<<l,h|=r[l],s&=~f;return h}function Dh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-Gt(g),A=1<<w,N=f[w];N===-1?(!(A&l)||A&h)&&(f[w]=Dh(A,s)):N<=s&&(r.expiredLanes|=A),g&=~A}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function hs(){var r=Js;return Js<<=1,!(Js&4194240)&&(Js=64),r}function hi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function di(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Gt(s),r[s]=l}function Ge(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-Gt(l),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function fi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-Gt(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var Ve=0;function pi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Gl,eo,Ql,Xl,Yl,xa=!1,nr=[],Pt=null,jn=null,Fn=null,mi=new Map,Tn=new Map,rr=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jl(r,s){switch(r){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":mi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(s.pointerId)}}function Jt(r,s,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=za(s),s!==null&&eo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Lh(r,s,l,h,f){switch(s){case"focusin":return Pt=Jt(Pt,r,s,l,h,f),!0;case"dragenter":return jn=Jt(jn,r,s,l,h,f),!0;case"mouseover":return Fn=Jt(Fn,r,s,l,h,f),!0;case"pointerover":var g=f.pointerId;return mi.set(g,Jt(mi.get(g)||null,r,s,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Tn.set(g,Jt(Tn.get(g)||null,r,s,l,h,f)),!0}return!1}function Zl(r){var s=gs(r.target);if(s!==null){var l=Vn(s);if(l!==null){if(s=l.tag,s===13){if(s=as(l),s!==null){r.blockedOn=s,Yl(r.priority,function(){Ql(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Or(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=to(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);rs=h,l.target.dispatchEvent(h),rs=null}else return s=za(l),s!==null&&eo(s),r.blockedOn=l,!1;s.shift()}return!0}function ds(r,s,l){Or(r)&&l.delete(s)}function eu(){xa=!1,Pt!==null&&Or(Pt)&&(Pt=null),jn!==null&&Or(jn)&&(jn=null),Fn!==null&&Or(Fn)&&(Fn=null),mi.forEach(ds),Tn.forEach(ds)}function Un(r,s){r.blockedOn===s&&(r.blockedOn=null,xa||(xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eu)))}function Bn(r){function s(f){return Un(f,r)}if(0<nr.length){Un(nr[0],r);for(var l=1;l<nr.length;l++){var h=nr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Pt!==null&&Un(Pt,r),jn!==null&&Un(jn,r),Fn!==null&&Un(Fn,r),mi.forEach(s),Tn.forEach(s),l=0;l<rr.length;l++)h=rr[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<rr.length&&(l=rr[0],l.blockedOn===null);)Zl(l),l.blockedOn===null&&rr.shift()}var Dr=J.ReactCurrentBatchConfig,gi=!0;function et(r,s,l,h){var f=Ve,g=Dr.transition;Dr.transition=null;try{Ve=1,ka(r,s,l,h)}finally{Ve=f,Dr.transition=g}}function Vh(r,s,l,h){var f=Ve,g=Dr.transition;Dr.transition=null;try{Ve=4,ka(r,s,l,h)}finally{Ve=f,Dr.transition=g}}function ka(r,s,l,h){if(gi){var f=to(r,s,l,h);if(f===null)Kh(r,s,h,fs,l),Jl(r,h);else if(Lh(f,r,s,l,h))h.stopPropagation();else if(Jl(r,h),s&4&&-1<bh.indexOf(r)){for(;f!==null;){var g=za(f);if(g!==null&&Gl(g),g=to(r,s,l,h),g===null&&Kh(r,s,h,fs,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else Kh(r,s,h,null,l)}}var fs=null;function to(r,s,l,h){if(fs=null,r=Hs(h),r=gs(r),r!==null)if(s=Vn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=as(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return fs=r,null}function Pa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zl()){case ls:return 1;case ui:return 4;case wn:case Ca:return 16;case Hl:return 536870912;default:return 16}default:return 16}}var dn=null,no=null,Zt=null;function Na(){if(Zt)return Zt;var r,s=no,l=s.length,h,f="value"in dn?dn.value:dn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var w=l-r;for(h=1;h<=w&&s[l-h]===f[g-h];h++);return Zt=f.slice(r,1<h?1-h:void 0)}function ro(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ir(){return!0}function Oa(){return!1}function Nt(r){function s(l,h,f,g,w){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ir:Oa,this.isPropagationStopped=Oa,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),s}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=Nt($n),sr=oe({},$n,{view:0,detail:0}),Mh=Nt(sr),so,br,yi,ps=oe({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==yi&&(yi&&r.type==="mousemove"?(so=r.screenX-yi.screenX,br=r.screenY-yi.screenY):br=so=0,yi=r),so)},movementY:function(r){return"movementY"in r?r.movementY:br}}),oo=Nt(ps),Da=oe({},ps,{dataTransfer:0}),tu=Nt(Da),ao=oe({},sr,{relatedTarget:0}),lo=Nt(ao),nu=oe({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Lr=Nt(nu),ru=oe({},$n,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),iu=Nt(ru),su=oe({},$n,{data:0}),ba=Nt(su),uo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ou[r])?!!s[r]:!1}function or(){return au}var u=oe({},sr,{key:function(r){if(r.key){var s=uo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ro(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(r){return r.type==="keypress"?ro(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ro(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Nt(u),v=oe({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Nt(v),U=oe({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),W=Nt(U),ie=oe({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=Nt(ie),vt=oe({},ps,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Nt(vt),St=[9,13,27,32],dt=d&&"CompositionEvent"in window,In=null;d&&"documentMode"in document&&(In=document.documentMode);var fn=d&&"TextEvent"in window&&!In,ms=d&&(!dt||In&&8<In&&11>=In),co=" ",Nm=!1;function Om(r,s){switch(r){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ho=!1;function QT(r,s){switch(r){case"compositionend":return Dm(s);case"keypress":return s.which!==32?null:(Nm=!0,co);case"textInput":return r=s.data,r===co&&Nm?null:r;default:return null}}function XT(r,s){if(ho)return r==="compositionend"||!dt&&Om(r,s)?(r=Na(),Zt=no=dn=null,ho=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ms&&s.locale!=="ko"?null:s.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!YT[r.type]:s==="textarea"}function Lm(r,s,l,h){tr(h),s=du(s,"onChange"),0<s.length&&(l=new io("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var La=null,Va=null;function JT(r){Zm(r,0)}function lu(r){var s=yo(r);if(Rr(s))return r}function ZT(r,s){if(r==="change")return s}var Vm=!1;if(d){var jh;if(d){var Fh="oninput"in document;if(!Fh){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),Fh=typeof Mm.oninput=="function"}jh=Fh}else jh=!1;Vm=jh&&(!document.documentMode||9<document.documentMode)}function jm(){La&&(La.detachEvent("onpropertychange",Fm),Va=La=null)}function Fm(r){if(r.propertyName==="value"&&lu(Va)){var s=[];Lm(s,Va,r,Hs(r)),Ta(JT,s)}}function e1(r,s,l){r==="focusin"?(jm(),La=s,Va=l,La.attachEvent("onpropertychange",Fm)):r==="focusout"&&jm()}function t1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return lu(Va)}function n1(r,s){if(r==="click")return lu(s)}function r1(r,s){if(r==="input"||r==="change")return lu(s)}function i1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:i1;function Ma(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!zn(r[f],s[f]))return!1}return!0}function Um(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Bm(r,s){var l=Um(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Um(l)}}function $m(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?$m(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function zm(){for(var r=window,s=vn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=vn(r.document)}return s}function Uh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function s1(r){var s=zm(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&$m(l.ownerDocument.documentElement,l)){if(h!==null&&Uh(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=Bm(l,g);var w=Bm(l,h);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var o1=d&&"documentMode"in document&&11>=document.documentMode,fo=null,Bh=null,ja=null,$h=!1;function Hm(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$h||fo==null||fo!==vn(h)||(h=fo,"selectionStart"in h&&Uh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ja&&Ma(ja,h)||(ja=h,h=du(Bh,"onSelect"),0<h.length&&(s=new io("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=fo)))}function uu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var po={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionend:uu("Transition","TransitionEnd")},zh={},Wm={};d&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function cu(r){if(zh[r])return zh[r];if(!po[r])return r;var s=po[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Wm)return zh[r]=s[l];return r}var qm=cu("animationend"),Km=cu("animationiteration"),Gm=cu("animationstart"),Qm=cu("transitionend"),Xm=new Map,Ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(r,s){Xm.set(r,s),a(s,[r])}for(var Hh=0;Hh<Ym.length;Hh++){var Wh=Ym[Hh],a1=Wh.toLowerCase(),l1=Wh[0].toUpperCase()+Wh.slice(1);vi(a1,"on"+l1)}vi(qm,"onAnimationEnd"),vi(Km,"onAnimationIteration"),vi(Gm,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(Qm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function Jm(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,Ul(h,s,void 0,r),r.currentTarget=null}function Zm(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var w=h.length-1;0<=w;w--){var A=h[w],N=A.instance,H=A.currentTarget;if(A=A.listener,N!==g&&f.isPropagationStopped())break e;Jm(f,A,H),g=N}else for(w=0;w<h.length;w++){if(A=h[w],N=A.instance,H=A.currentTarget,A=A.listener,N!==g&&f.isPropagationStopped())break e;Jm(f,A,H),g=N}}}if(Ln)throw r=Ia,Ln=!1,Ia=null,r}function Je(r,s){var l=s[Zh];l===void 0&&(l=s[Zh]=new Set);var h=r+"__bubble";l.has(h)||(eg(s,r,2,!1),l.add(h))}function qh(r,s,l){var h=0;s&&(h|=4),eg(l,r,h,s)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Ua(r){if(!r[hu]){r[hu]=!0,i.forEach(function(l){l!=="selectionchange"&&(u1.has(l)||qh(l,!1,r),qh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[hu]||(s[hu]=!0,qh("selectionchange",!1,s))}}function eg(r,s,l,h){switch(Pa(s)){case 1:var f=et;break;case 4:f=Vh;break;default:f=ka}l=f.bind(null,s,l,r),f=void 0,!Ks||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Kh(r,s,l,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var A=h.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(w===4)for(w=h.return;w!==null;){var N=w.tag;if((N===3||N===4)&&(N=w.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;w=w.return}for(;A!==null;){if(w=gs(A),w===null)return;if(N=w.tag,N===5||N===6){h=g=w;continue e}A=A.parentNode}}h=h.return}Ta(function(){var H=g,X=Hs(l),te=[];e:{var Q=Xm.get(r);if(Q!==void 0){var ae=io,he=r;switch(r){case"keypress":if(ro(l)===0)break e;case"keydown":case"keyup":ae=m;break;case"focusin":he="focus",ae=lo;break;case"focusout":he="blur",ae=lo;break;case"beforeblur":case"afterblur":ae=lo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=W;break;case qm:case Km:case Gm:ae=Lr;break;case Qm:ae=We;break;case"scroll":ae=Mh;break;case"wheel":ae=Me;break;case"copy":case"cut":case"paste":ae=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=I}var de=(s&4)!==0,ut=!de&&r==="scroll",B=de?Q!==null?Q+"Capture":null:Q;de=[];for(var L=H,$;L!==null;){$=L;var ne=$.stateNode;if($.tag===5&&ne!==null&&($=ne,B!==null&&(ne=lt(L,B),ne!=null&&de.push(Ba(L,ne,$)))),ut)break;L=L.return}0<de.length&&(Q=new ae(Q,he,null,l,X),te.push({event:Q,listeners:de}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",Q&&l!==rs&&(he=l.relatedTarget||l.fromElement)&&(gs(he)||he[Vr]))break e;if((ae||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,ae?(he=l.relatedTarget||l.toElement,ae=H,he=he?gs(he):null,he!==null&&(ut=Vn(he),he!==ut||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=H),ae!==he)){if(de=oo,ne="onMouseLeave",B="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(de=I,ne="onPointerLeave",B="onPointerEnter",L="pointer"),ut=ae==null?Q:yo(ae),$=he==null?Q:yo(he),Q=new de(ne,L+"leave",ae,l,X),Q.target=ut,Q.relatedTarget=$,ne=null,gs(X)===H&&(de=new de(B,L+"enter",he,l,X),de.target=$,de.relatedTarget=ut,ne=de),ut=ne,ae&&he)t:{for(de=ae,B=he,L=0,$=de;$;$=mo($))L++;for($=0,ne=B;ne;ne=mo(ne))$++;for(;0<L-$;)de=mo(de),L--;for(;0<$-L;)B=mo(B),$--;for(;L--;){if(de===B||B!==null&&de===B.alternate)break t;de=mo(de),B=mo(B)}de=null}else de=null;ae!==null&&tg(te,Q,ae,de,!1),he!==null&&ut!==null&&tg(te,ut,he,de,!0)}}e:{if(Q=H?yo(H):window,ae=Q.nodeName&&Q.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Q.type==="file")var fe=ZT;else if(bm(Q))if(Vm)fe=r1;else{fe=t1;var ve=e1}else(ae=Q.nodeName)&&ae.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(fe=n1);if(fe&&(fe=fe(r,H))){Lm(te,fe,l,X);break e}ve&&ve(r,Q,H),r==="focusout"&&(ve=Q._wrapperState)&&ve.controlled&&Q.type==="number"&&Bs(Q,"number",Q.value)}switch(ve=H?yo(H):window,r){case"focusin":(bm(ve)||ve.contentEditable==="true")&&(fo=ve,Bh=H,ja=null);break;case"focusout":ja=Bh=fo=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Hm(te,l,X);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":Hm(te,l,X)}var _e;if(dt)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ho?Om(r,l)&&(Ie="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(ms&&l.locale!=="ko"&&(ho||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ho&&(_e=Na()):(dn=X,no="value"in dn?dn.value:dn.textContent,ho=!0)),ve=du(H,Ie),0<ve.length&&(Ie=new ba(Ie,r,null,l,X),te.push({event:Ie,listeners:ve}),_e?Ie.data=_e:(_e=Dm(l),_e!==null&&(Ie.data=_e)))),(_e=fn?QT(r,l):XT(r,l))&&(H=du(H,"onBeforeInput"),0<H.length&&(X=new ba("onBeforeInput","beforeinput",null,l,X),te.push({event:X,listeners:H}),X.data=_e))}Zm(te,s)})}function Ba(r,s,l){return{instance:r,listener:s,currentTarget:l}}function du(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=lt(r,l),g!=null&&h.unshift(Ba(r,g,f)),g=lt(r,s),g!=null&&h.push(Ba(r,g,f))),r=r.return}return h}function mo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function tg(r,s,l,h,f){for(var g=s._reactName,w=[];l!==null&&l!==h;){var A=l,N=A.alternate,H=A.stateNode;if(N!==null&&N===h)break;A.tag===5&&H!==null&&(A=H,f?(N=lt(l,g),N!=null&&w.unshift(Ba(l,N,A))):f||(N=lt(l,g),N!=null&&w.push(Ba(l,N,A)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var c1=/\r\n?/g,h1=/\u0000|\uFFFD/g;function ng(r){return(typeof r=="string"?r:""+r).replace(c1,`
`).replace(h1,"")}function fu(r,s,l){if(s=ng(s),ng(r)!==s&&l)throw Error(t(425))}function pu(){}var Gh=null,Qh=null;function Xh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Yh=typeof setTimeout=="function"?setTimeout:void 0,d1=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,f1=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(r){return rg.resolve(null).then(r).catch(p1)}:Yh;function p1(r){setTimeout(function(){throw r})}function Jh(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),Bn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);Bn(s)}function _i(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ig(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var go=Math.random().toString(36).slice(2),ar="__reactFiber$"+go,$a="__reactProps$"+go,Vr="__reactContainer$"+go,Zh="__reactEvents$"+go,m1="__reactListeners$"+go,g1="__reactHandles$"+go;function gs(r){var s=r[ar];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Vr]||l[ar]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=ig(r);r!==null;){if(l=r[ar])return l;r=ig(r)}return s}r=l,l=r.parentNode}return null}function za(r){return r=r[ar]||r[Vr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function yo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function mu(r){return r[$a]||null}var ed=[],vo=-1;function Ei(r){return{current:r}}function Ze(r){0>vo||(r.current=ed[vo],ed[vo]=null,vo--)}function Ye(r,s){vo++,ed[vo]=r.current,r.current=s}var wi={},jt=Ei(wi),en=Ei(!1),ys=wi;function _o(r,s){var l=r.type.contextTypes;if(!l)return wi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function tn(r){return r=r.childContextTypes,r!=null}function gu(){Ze(en),Ze(jt)}function sg(r,s,l){if(jt.current!==wi)throw Error(t(168));Ye(jt,s),Ye(en,l)}function og(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,Fe(r)||"Unknown",f));return oe({},l,h)}function yu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||wi,ys=jt.current,Ye(jt,r),Ye(en,en.current),!0}function ag(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=og(r,s,ys),h.__reactInternalMemoizedMergedChildContext=r,Ze(en),Ze(jt),Ye(jt,r)):Ze(en),Ye(en,l)}var Mr=null,vu=!1,td=!1;function lg(r){Mr===null?Mr=[r]:Mr.push(r)}function y1(r){vu=!0,lg(r)}function Ti(){if(!td&&Mr!==null){td=!0;var r=0,s=Ve;try{var l=Mr;for(Ve=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Mr=null,vu=!1}catch(f){throw Mr!==null&&(Mr=Mr.slice(r+1)),Ys(ls,Ti),f}finally{Ve=s,td=!1}}return null}var Eo=[],wo=0,_u=null,Eu=0,Sn=[],Rn=0,vs=null,jr=1,Fr="";function _s(r,s){Eo[wo++]=Eu,Eo[wo++]=_u,_u=r,Eu=s}function ug(r,s,l){Sn[Rn++]=jr,Sn[Rn++]=Fr,Sn[Rn++]=vs,vs=r;var h=jr;r=Fr;var f=32-Gt(h)-1;h&=~(1<<f),l+=1;var g=32-Gt(s)+f;if(30<g){var w=f-f%5;g=(h&(1<<w)-1).toString(32),h>>=w,f-=w,jr=1<<32-Gt(s)+f|l<<f|h,Fr=g+r}else jr=1<<g|l<<f|h,Fr=r}function nd(r){r.return!==null&&(_s(r,1),ug(r,1,0))}function rd(r){for(;r===_u;)_u=Eo[--wo],Eo[wo]=null,Eu=Eo[--wo],Eo[wo]=null;for(;r===vs;)vs=Sn[--Rn],Sn[Rn]=null,Fr=Sn[--Rn],Sn[Rn]=null,jr=Sn[--Rn],Sn[Rn]=null}var pn=null,mn=null,tt=!1,Hn=null;function cg(r,s){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function hg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,pn=r,mn=_i(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,pn=r,mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=vs!==null?{id:jr,overflow:Fr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,pn=r,mn=null,!0):!1;default:return!1}}function id(r){return(r.mode&1)!==0&&(r.flags&128)===0}function sd(r){if(tt){var s=mn;if(s){var l=s;if(!hg(r,s)){if(id(r))throw Error(t(418));s=_i(l.nextSibling);var h=pn;s&&hg(r,s)?cg(h,l):(r.flags=r.flags&-4097|2,tt=!1,pn=r)}}else{if(id(r))throw Error(t(418));r.flags=r.flags&-4097|2,tt=!1,pn=r}}}function dg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function wu(r){if(r!==pn)return!1;if(!tt)return dg(r),tt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Xh(r.type,r.memoizedProps)),s&&(s=mn)){if(id(r))throw fg(),Error(t(418));for(;s;)cg(r,s),s=_i(s.nextSibling)}if(dg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){mn=_i(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}mn=null}}else mn=pn?_i(r.stateNode.nextSibling):null;return!0}function fg(){for(var r=mn;r;)r=_i(r.nextSibling)}function To(){mn=pn=null,tt=!1}function od(r){Hn===null?Hn=[r]:Hn.push(r)}var v1=J.ReactCurrentBatchConfig;function Ha(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var A=f.refs;w===null?delete A[g]:A[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Tu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function pg(r){var s=r._init;return s(r._payload)}function mg(r){function s(B,L){if(r){var $=B.deletions;$===null?(B.deletions=[L],B.flags|=16):$.push(L)}}function l(B,L){if(!r)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function h(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function f(B,L){return B=Pi(B,L),B.index=0,B.sibling=null,B}function g(B,L,$){return B.index=$,r?($=B.alternate,$!==null?($=$.index,$<L?(B.flags|=2,L):$):(B.flags|=2,L)):(B.flags|=1048576,L)}function w(B){return r&&B.alternate===null&&(B.flags|=2),B}function A(B,L,$,ne){return L===null||L.tag!==6?(L=Yd($,B.mode,ne),L.return=B,L):(L=f(L,$),L.return=B,L)}function N(B,L,$,ne){var fe=$.type;return fe===P?X(B,L,$.props.children,ne,$.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ke&&pg(fe)===L.type)?(ne=f(L,$.props),ne.ref=Ha(B,L,$),ne.return=B,ne):(ne=qu($.type,$.key,$.props,null,B.mode,ne),ne.ref=Ha(B,L,$),ne.return=B,ne)}function H(B,L,$,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=Jd($,B.mode,ne),L.return=B,L):(L=f(L,$.children||[]),L.return=B,L)}function X(B,L,$,ne,fe){return L===null||L.tag!==7?(L=As($,B.mode,ne,fe),L.return=B,L):(L=f(L,$),L.return=B,L)}function te(B,L,$){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Yd(""+L,B.mode,$),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case pe:return $=qu(L.type,L.key,L.props,null,B.mode,$),$.ref=Ha(B,null,L),$.return=B,$;case se:return L=Jd(L,B.mode,$),L.return=B,L;case Ke:var ne=L._init;return te(B,ne(L._payload),$)}if(Ar(L)||me(L))return L=As(L,B.mode,$,null),L.return=B,L;Tu(B,L)}return null}function Q(B,L,$,ne){var fe=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return fe!==null?null:A(B,L,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case pe:return $.key===fe?N(B,L,$,ne):null;case se:return $.key===fe?H(B,L,$,ne):null;case Ke:return fe=$._init,Q(B,L,fe($._payload),ne)}if(Ar($)||me($))return fe!==null?null:X(B,L,$,ne,null);Tu(B,$)}return null}function ae(B,L,$,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return B=B.get($)||null,A(L,B,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case pe:return B=B.get(ne.key===null?$:ne.key)||null,N(L,B,ne,fe);case se:return B=B.get(ne.key===null?$:ne.key)||null,H(L,B,ne,fe);case Ke:var ve=ne._init;return ae(B,L,$,ve(ne._payload),fe)}if(Ar(ne)||me(ne))return B=B.get($)||null,X(L,B,ne,fe,null);Tu(L,ne)}return null}function he(B,L,$,ne){for(var fe=null,ve=null,_e=L,Ie=L=0,At=null;_e!==null&&Ie<$.length;Ie++){_e.index>Ie?(At=_e,_e=null):At=_e.sibling;var $e=Q(B,_e,$[Ie],ne);if($e===null){_e===null&&(_e=At);break}r&&_e&&$e.alternate===null&&s(B,_e),L=g($e,L,Ie),ve===null?fe=$e:ve.sibling=$e,ve=$e,_e=At}if(Ie===$.length)return l(B,_e),tt&&_s(B,Ie),fe;if(_e===null){for(;Ie<$.length;Ie++)_e=te(B,$[Ie],ne),_e!==null&&(L=g(_e,L,Ie),ve===null?fe=_e:ve.sibling=_e,ve=_e);return tt&&_s(B,Ie),fe}for(_e=h(B,_e);Ie<$.length;Ie++)At=ae(_e,B,Ie,$[Ie],ne),At!==null&&(r&&At.alternate!==null&&_e.delete(At.key===null?Ie:At.key),L=g(At,L,Ie),ve===null?fe=At:ve.sibling=At,ve=At);return r&&_e.forEach(function(Ni){return s(B,Ni)}),tt&&_s(B,Ie),fe}function de(B,L,$,ne){var fe=me($);if(typeof fe!="function")throw Error(t(150));if($=fe.call($),$==null)throw Error(t(151));for(var ve=fe=null,_e=L,Ie=L=0,At=null,$e=$.next();_e!==null&&!$e.done;Ie++,$e=$.next()){_e.index>Ie?(At=_e,_e=null):At=_e.sibling;var Ni=Q(B,_e,$e.value,ne);if(Ni===null){_e===null&&(_e=At);break}r&&_e&&Ni.alternate===null&&s(B,_e),L=g(Ni,L,Ie),ve===null?fe=Ni:ve.sibling=Ni,ve=Ni,_e=At}if($e.done)return l(B,_e),tt&&_s(B,Ie),fe;if(_e===null){for(;!$e.done;Ie++,$e=$.next())$e=te(B,$e.value,ne),$e!==null&&(L=g($e,L,Ie),ve===null?fe=$e:ve.sibling=$e,ve=$e);return tt&&_s(B,Ie),fe}for(_e=h(B,_e);!$e.done;Ie++,$e=$.next())$e=ae(_e,B,Ie,$e.value,ne),$e!==null&&(r&&$e.alternate!==null&&_e.delete($e.key===null?Ie:$e.key),L=g($e,L,Ie),ve===null?fe=$e:ve.sibling=$e,ve=$e);return r&&_e.forEach(function(X1){return s(B,X1)}),tt&&_s(B,Ie),fe}function ut(B,L,$,ne){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case pe:e:{for(var fe=$.key,ve=L;ve!==null;){if(ve.key===fe){if(fe=$.type,fe===P){if(ve.tag===7){l(B,ve.sibling),L=f(ve,$.props.children),L.return=B,B=L;break e}}else if(ve.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Ke&&pg(fe)===ve.type){l(B,ve.sibling),L=f(ve,$.props),L.ref=Ha(B,ve,$),L.return=B,B=L;break e}l(B,ve);break}else s(B,ve);ve=ve.sibling}$.type===P?(L=As($.props.children,B.mode,ne,$.key),L.return=B,B=L):(ne=qu($.type,$.key,$.props,null,B.mode,ne),ne.ref=Ha(B,L,$),ne.return=B,B=ne)}return w(B);case se:e:{for(ve=$.key;L!==null;){if(L.key===ve)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){l(B,L.sibling),L=f(L,$.children||[]),L.return=B,B=L;break e}else{l(B,L);break}else s(B,L);L=L.sibling}L=Jd($,B.mode,ne),L.return=B,B=L}return w(B);case Ke:return ve=$._init,ut(B,L,ve($._payload),ne)}if(Ar($))return he(B,L,$,ne);if(me($))return de(B,L,$,ne);Tu(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,L!==null&&L.tag===6?(l(B,L.sibling),L=f(L,$),L.return=B,B=L):(l(B,L),L=Yd($,B.mode,ne),L.return=B,B=L),w(B)):l(B,L)}return ut}var Io=mg(!0),gg=mg(!1),Iu=Ei(null),Su=null,So=null,ad=null;function ld(){ad=So=Su=null}function ud(r){var s=Iu.current;Ze(Iu),r._currentValue=s}function cd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Ro(r,s){Su=r,ad=So=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(nn=!0),r.firstContext=null)}function Cn(r){var s=r._currentValue;if(ad!==r)if(r={context:r,memoizedValue:s,next:null},So===null){if(Su===null)throw Error(t(308));So=r,Su.dependencies={lanes:0,firstContext:r}}else So=So.next=r;return s}var Es=null;function hd(r){Es===null?Es=[r]:Es.push(r)}function yg(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,hd(s)):(l.next=f.next,f.next=l),s.interleaved=l,Ur(r,h)}function Ur(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Ii=!1;function dd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Br(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Si(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Be&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Ur(r,l)}return f=h.interleaved,f===null?(s.next=s,hd(h)):(s.next=f.next,f.next=s),h.interleaved=s,Ur(r,l)}function Ru(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,fi(r,l)}}function _g(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Cu(r,s,l,h){var f=r.updateQueue;Ii=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var N=A,H=N.next;N.next=null,w===null?g=H:w.next=H,w=N;var X=r.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==w&&(A===null?X.firstBaseUpdate=H:A.next=H,X.lastBaseUpdate=N))}if(g!==null){var te=f.baseState;w=0,X=H=N=null,A=g;do{var Q=A.lane,ae=A.eventTime;if((h&Q)===Q){X!==null&&(X=X.next={eventTime:ae,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var he=r,de=A;switch(Q=s,ae=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){te=he.call(ae,te,Q);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,Q=typeof he=="function"?he.call(ae,te,Q):he,Q==null)break e;te=oe({},te,Q);break e;case 2:Ii=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,Q=f.effects,Q===null?f.effects=[A]:Q.push(A))}else ae={eventTime:ae,lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(H=X=ae,N=te):X=X.next=ae,w|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);if(X===null&&(N=te),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=X,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Is|=w,r.lanes=w,r.memoizedState=te}}function Eg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Wa={},lr=Ei(Wa),qa=Ei(Wa),Ka=Ei(Wa);function ws(r){if(r===Wa)throw Error(t(174));return r}function fd(r,s){switch(Ye(Ka,s),Ye(qa,r),Ye(lr,Wa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}Ze(lr),Ye(lr,s)}function Co(){Ze(lr),Ze(qa),Ze(Ka)}function wg(r){ws(Ka.current);var s=ws(lr.current),l=yt(s,r.type);s!==l&&(Ye(qa,r),Ye(lr,l))}function pd(r){qa.current===r&&(Ze(lr),Ze(qa))}var rt=Ei(0);function Au(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var md=[];function gd(){for(var r=0;r<md.length;r++)md[r]._workInProgressVersionPrimary=null;md.length=0}var xu=J.ReactCurrentDispatcher,yd=J.ReactCurrentBatchConfig,Ts=0,it=null,_t=null,Rt=null,ku=!1,Ga=!1,Qa=0,_1=0;function Ft(){throw Error(t(321))}function vd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!zn(r[l],s[l]))return!1;return!0}function _d(r,s,l,h,f,g){if(Ts=g,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,xu.current=r===null||r.memoizedState===null?I1:S1,r=l(h,f),Ga){g=0;do{if(Ga=!1,Qa=0,25<=g)throw Error(t(301));g+=1,Rt=_t=null,s.updateQueue=null,xu.current=R1,r=l(h,f)}while(Ga)}if(xu.current=Ou,s=_t!==null&&_t.next!==null,Ts=0,Rt=_t=it=null,ku=!1,s)throw Error(t(300));return r}function Ed(){var r=Qa!==0;return Qa=0,r}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?it.memoizedState=Rt=r:Rt=Rt.next=r,Rt}function An(){if(_t===null){var r=it.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var s=Rt===null?it.memoizedState:Rt.next;if(s!==null)Rt=s,_t=r;else{if(r===null)throw Error(t(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Rt===null?it.memoizedState=Rt=r:Rt=Rt.next=r}return Rt}function Xa(r,s){return typeof s=="function"?s(r):s}function wd(r){var s=An(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=_t,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var A=w=null,N=null,H=g;do{var X=H.lane;if((Ts&X)===X)N!==null&&(N=N.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:r(h,H.action);else{var te={lane:X,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};N===null?(A=N=te,w=h):N=N.next=te,it.lanes|=X,Is|=X}H=H.next}while(H!==null&&H!==g);N===null?w=h:N.next=A,zn(h,s.memoizedState)||(nn=!0),s.memoizedState=h,s.baseState=w,s.baseQueue=N,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,it.lanes|=g,Is|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Td(r){var s=An(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);zn(g,s.memoizedState)||(nn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function Tg(){}function Ig(r,s){var l=it,h=An(),f=s(),g=!zn(h.memoizedState,f);if(g&&(h.memoizedState=f,nn=!0),h=h.queue,Id(Cg.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,Rg.bind(null,l,h,f,s),void 0,null),Ct===null)throw Error(t(349));Ts&30||Sg(l,s,f)}return f}function Sg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Rg(r,s,l,h){s.value=l,s.getSnapshot=h,Ag(s)&&xg(r)}function Cg(r,s,l){return l(function(){Ag(s)&&xg(r)})}function Ag(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!zn(r,l)}catch{return!0}}function xg(r){var s=Ur(r,1);s!==null&&Gn(s,r,1,-1)}function kg(r){var s=ur();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:r},s.queue=r,r=r.dispatch=T1.bind(null,it,r),[s.memoizedState,r]}function Ya(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function Pg(){return An().memoizedState}function Pu(r,s,l,h){var f=ur();it.flags|=r,f.memoizedState=Ya(1|s,l,void 0,h===void 0?null:h)}function Nu(r,s,l,h){var f=An();h=h===void 0?null:h;var g=void 0;if(_t!==null){var w=_t.memoizedState;if(g=w.destroy,h!==null&&vd(h,w.deps)){f.memoizedState=Ya(s,l,g,h);return}}it.flags|=r,f.memoizedState=Ya(1|s,l,g,h)}function Ng(r,s){return Pu(8390656,8,r,s)}function Id(r,s){return Nu(2048,8,r,s)}function Og(r,s){return Nu(4,2,r,s)}function Dg(r,s){return Nu(4,4,r,s)}function bg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Lg(r,s,l){return l=l!=null?l.concat([r]):null,Nu(4,4,bg.bind(null,s,r),l)}function Sd(){}function Vg(r,s){var l=An();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&vd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function Mg(r,s){var l=An();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&vd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function jg(r,s,l){return Ts&21?(zn(l,s)||(l=hs(),it.lanes|=l,Is|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,nn=!0),r.memoizedState=l)}function E1(r,s){var l=Ve;Ve=l!==0&&4>l?l:4,r(!0);var h=yd.transition;yd.transition={};try{r(!1),s()}finally{Ve=l,yd.transition=h}}function Fg(){return An().memoizedState}function w1(r,s,l){var h=xi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Ug(r))Bg(s,l);else if(l=yg(r,s,l,h),l!==null){var f=Yt();Gn(l,r,h,f),$g(l,s,h)}}function T1(r,s,l){var h=xi(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ug(r))Bg(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,A=g(w,l);if(f.hasEagerState=!0,f.eagerState=A,zn(A,w)){var N=s.interleaved;N===null?(f.next=f,hd(s)):(f.next=N.next,N.next=f),s.interleaved=f;return}}catch{}finally{}l=yg(r,s,f,h),l!==null&&(f=Yt(),Gn(l,r,h,f),$g(l,s,h))}}function Ug(r){var s=r.alternate;return r===it||s!==null&&s===it}function Bg(r,s){Ga=ku=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function $g(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,fi(r,l)}}var Ou={readContext:Cn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},I1={readContext:Cn,useCallback:function(r,s){return ur().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:Ng,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Pu(4194308,4,bg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Pu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Pu(4,2,r,s)},useMemo:function(r,s){var l=ur();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=ur();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=w1.bind(null,it,r),[h.memoizedState,r]},useRef:function(r){var s=ur();return r={current:r},s.memoizedState=r},useState:kg,useDebugValue:Sd,useDeferredValue:function(r){return ur().memoizedState=r},useTransition:function(){var r=kg(!1),s=r[0];return r=E1.bind(null,r[1]),ur().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=it,f=ur();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ct===null)throw Error(t(349));Ts&30||Sg(h,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Ng(Cg.bind(null,h,g,r),[r]),h.flags|=2048,Ya(9,Rg.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=ur(),s=Ct.identifierPrefix;if(tt){var l=Fr,h=jr;l=(h&~(1<<32-Gt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=Qa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=_1++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},S1={readContext:Cn,useCallback:Vg,useContext:Cn,useEffect:Id,useImperativeHandle:Lg,useInsertionEffect:Og,useLayoutEffect:Dg,useMemo:Mg,useReducer:wd,useRef:Pg,useState:function(){return wd(Xa)},useDebugValue:Sd,useDeferredValue:function(r){var s=An();return jg(s,_t.memoizedState,r)},useTransition:function(){var r=wd(Xa)[0],s=An().memoizedState;return[r,s]},useMutableSource:Tg,useSyncExternalStore:Ig,useId:Fg,unstable_isNewReconciler:!1},R1={readContext:Cn,useCallback:Vg,useContext:Cn,useEffect:Id,useImperativeHandle:Lg,useInsertionEffect:Og,useLayoutEffect:Dg,useMemo:Mg,useReducer:Td,useRef:Pg,useState:function(){return Td(Xa)},useDebugValue:Sd,useDeferredValue:function(r){var s=An();return _t===null?s.memoizedState=r:jg(s,_t.memoizedState,r)},useTransition:function(){var r=Td(Xa)[0],s=An().memoizedState;return[r,s]},useMutableSource:Tg,useSyncExternalStore:Ig,useId:Fg,unstable_isNewReconciler:!1};function Wn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Rd(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Du={isMounted:function(r){return(r=r._reactInternals)?Vn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=Yt(),f=xi(r),g=Br(h,f);g.payload=s,l!=null&&(g.callback=l),s=Si(r,g,f),s!==null&&(Gn(s,r,f,h),Ru(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=Yt(),f=xi(r),g=Br(h,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Si(r,g,f),s!==null&&(Gn(s,r,f,h),Ru(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Yt(),h=xi(r),f=Br(l,h);f.tag=2,s!=null&&(f.callback=s),s=Si(r,f,h),s!==null&&(Gn(s,r,h,l),Ru(s,r,h))}};function zg(r,s,l,h,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,w):s.prototype&&s.prototype.isPureReactComponent?!Ma(l,h)||!Ma(f,g):!0}function Hg(r,s,l){var h=!1,f=wi,g=s.contextType;return typeof g=="object"&&g!==null?g=Cn(g):(f=tn(s)?ys:jt.current,h=s.contextTypes,g=(h=h!=null)?_o(r,f):wi),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Du,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Wg(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Du.enqueueReplaceState(s,s.state,null)}function Cd(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},dd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Cn(g):(g=tn(s)?ys:jt.current,f.context=_o(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Rd(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Du.enqueueReplaceState(f,f.state,null),Cu(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Ao(r,s){try{var l="",h=s;do l+=Se(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Ad(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function xd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var C1=typeof WeakMap=="function"?WeakMap:Map;function qg(r,s,l){l=Br(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){Uu||(Uu=!0,zd=h),xd(r,s)},l}function Kg(r,s,l){l=Br(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){xd(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){xd(r,s),typeof h!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function Gg(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new C1;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=U1.bind(null,r,s,l),s.then(r,r))}function Qg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Xg(r,s,l,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Br(-1,1),s.tag=2,Si(l,s,1))),l.lanes|=1),r)}var A1=J.ReactCurrentOwner,nn=!1;function Xt(r,s,l,h){s.child=r===null?gg(s,null,l,h):Io(s,r.child,l,h)}function Yg(r,s,l,h,f){l=l.render;var g=s.ref;return Ro(s,f),h=_d(r,s,l,h,g,f),l=Ed(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,$r(r,s,f)):(tt&&l&&nd(s),s.flags|=1,Xt(r,s,h,f),s.child)}function Jg(r,s,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!Xd(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Zg(r,s,g,h,f)):(r=qu(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ma,l(w,h)&&r.ref===s.ref)return $r(r,s,f)}return s.flags|=1,r=Pi(g,h),r.ref=s.ref,r.return=s,s.child=r}function Zg(r,s,l,h,f){if(r!==null){var g=r.memoizedProps;if(Ma(g,h)&&r.ref===s.ref)if(nn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(nn=!0);else return s.lanes=r.lanes,$r(r,s,f)}return kd(r,s,l,h,f)}function ey(r,s,l){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(ko,gn),gn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ye(ko,gn),gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,Ye(ko,gn),gn|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,Ye(ko,gn),gn|=h;return Xt(r,s,f,l),s.child}function ty(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function kd(r,s,l,h,f){var g=tn(l)?ys:jt.current;return g=_o(s,g),Ro(s,f),l=_d(r,s,l,h,g,f),h=Ed(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,$r(r,s,f)):(tt&&h&&nd(s),s.flags|=1,Xt(r,s,l,f),s.child)}function ny(r,s,l,h,f){if(tn(l)){var g=!0;yu(s)}else g=!1;if(Ro(s,f),s.stateNode===null)Lu(r,s),Hg(s,l,h),Cd(s,l,h,f),h=!0;else if(r===null){var w=s.stateNode,A=s.memoizedProps;w.props=A;var N=w.context,H=l.contextType;typeof H=="object"&&H!==null?H=Cn(H):(H=tn(l)?ys:jt.current,H=_o(s,H));var X=l.getDerivedStateFromProps,te=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function";te||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==h||N!==H)&&Wg(s,w,h,H),Ii=!1;var Q=s.memoizedState;w.state=Q,Cu(s,h,w,f),N=s.memoizedState,A!==h||Q!==N||en.current||Ii?(typeof X=="function"&&(Rd(s,l,X,h),N=s.memoizedState),(A=Ii||zg(s,l,A,h,Q,N,H))?(te||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=N),w.props=h,w.state=N,w.context=H,h=A):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{w=s.stateNode,vg(r,s),A=s.memoizedProps,H=s.type===s.elementType?A:Wn(s.type,A),w.props=H,te=s.pendingProps,Q=w.context,N=l.contextType,typeof N=="object"&&N!==null?N=Cn(N):(N=tn(l)?ys:jt.current,N=_o(s,N));var ae=l.getDerivedStateFromProps;(X=typeof ae=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==te||Q!==N)&&Wg(s,w,h,N),Ii=!1,Q=s.memoizedState,w.state=Q,Cu(s,h,w,f);var he=s.memoizedState;A!==te||Q!==he||en.current||Ii?(typeof ae=="function"&&(Rd(s,l,ae,h),he=s.memoizedState),(H=Ii||zg(s,l,H,h,Q,he,N)||!1)?(X||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,he,N),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,he,N)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),w.props=h,w.state=he,w.context=N,h=H):(typeof w.componentDidUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),h=!1)}return Pd(r,s,l,h,g,f)}function Pd(r,s,l,h,f,g){ty(r,s);var w=(s.flags&128)!==0;if(!h&&!w)return f&&ag(s,l,!1),$r(r,s,g);h=s.stateNode,A1.current=s;var A=w&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&w?(s.child=Io(s,r.child,null,g),s.child=Io(s,null,A,g)):Xt(r,s,A,g),s.memoizedState=h.state,f&&ag(s,l,!0),s.child}function ry(r){var s=r.stateNode;s.pendingContext?sg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&sg(r,s.context,!1),fd(r,s.containerInfo)}function iy(r,s,l,h,f){return To(),od(f),s.flags|=256,Xt(r,s,l,h),s.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function Od(r){return{baseLanes:r,cachePool:null,transitions:null}}function sy(r,s,l){var h=s.pendingProps,f=rt.current,g=!1,w=(s.flags&128)!==0,A;if((A=w)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ye(rt,f&1),r===null)return sd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=h.children,r=h.fallback,g?(h=s.mode,g=s.child,w={mode:"hidden",children:w},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Ku(w,h,0,null),r=As(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Od(l),s.memoizedState=Nd,r):Dd(s,w));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return x1(r,s,w,h,A,f,l);if(g){g=h.fallback,w=s.mode,f=r.child,A=f.sibling;var N={mode:"hidden",children:h.children};return!(w&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=N,s.deletions=null):(h=Pi(f,N),h.subtreeFlags=f.subtreeFlags&14680064),A!==null?g=Pi(A,g):(g=As(g,w,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,w=r.child.memoizedState,w=w===null?Od(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,s.memoizedState=Nd,h}return g=r.child,r=g.sibling,h=Pi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Dd(r,s){return s=Ku({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function bu(r,s,l,h){return h!==null&&od(h),Io(s,r.child,null,l),r=Dd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function x1(r,s,l,h,f,g,w){if(l)return s.flags&256?(s.flags&=-257,h=Ad(Error(t(422))),bu(r,s,w,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Ku({mode:"visible",children:h.children},f,0,null),g=As(g,f,w,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Io(s,r.child,null,w),s.child.memoizedState=Od(w),s.memoizedState=Nd,g);if(!(s.mode&1))return bu(r,s,w,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var A=h.dgst;return h=A,g=Error(t(419)),h=Ad(g,h,void 0),bu(r,s,w,h)}if(A=(w&r.childLanes)!==0,nn||A){if(h=Ct,h!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Ur(r,f),Gn(h,r,f,-1))}return Qd(),h=Ad(Error(t(421))),bu(r,s,w,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=B1.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,mn=_i(f.nextSibling),pn=s,tt=!0,Hn=null,r!==null&&(Sn[Rn++]=jr,Sn[Rn++]=Fr,Sn[Rn++]=vs,jr=r.id,Fr=r.overflow,vs=s),s=Dd(s,h.children),s.flags|=4096,s)}function oy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),cd(r.return,s,l)}function bd(r,s,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function ay(r,s,l){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Xt(r,s,h.children,l),h=rt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&oy(r,l,s);else if(r.tag===19)oy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ye(rt,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Au(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),bd(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Au(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}bd(s,!0,l,null,g);break;case"together":bd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Lu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function $r(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Is|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Pi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Pi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function k1(r,s,l){switch(s.tag){case 3:ry(s),To();break;case 5:wg(s);break;case 1:tn(s.type)&&yu(s);break;case 4:fd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Ye(Iu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ye(rt,rt.current&1),s.flags|=128,null):l&s.child.childLanes?sy(r,s,l):(Ye(rt,rt.current&1),r=$r(r,s,l),r!==null?r.sibling:null);Ye(rt,rt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return ay(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ye(rt,rt.current),h)break;return null;case 22:case 23:return s.lanes=0,ey(r,s,l)}return $r(r,s,l)}var ly,Ld,uy,cy;ly=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ld=function(){},uy=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,ws(lr.current);var g=null;switch(l){case"input":f=_n(r,f),h=_n(r,h),g=[];break;case"select":f=oe({},f,{value:void 0}),h=oe({},h,{value:void 0}),g=[];break;case"textarea":f=da(r,f),h=da(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=pu)}va(l,h);var w;l=null;for(H in f)if(!h.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var A=f[H];for(w in A)A.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in h){var N=h[H];if(A=f!=null?f[H]:void 0,h.hasOwnProperty(H)&&N!==A&&(N!=null||A!=null))if(H==="style")if(A){for(w in A)!A.hasOwnProperty(w)||N&&N.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in N)N.hasOwnProperty(w)&&A[w]!==N[w]&&(l||(l={}),l[w]=N[w])}else l||(g||(g=[]),g.push(H,l)),l=N;else H==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,A=A?A.__html:void 0,N!=null&&A!==N&&(g=g||[]).push(H,N)):H==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(H,""+N):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(N!=null&&H==="onScroll"&&Je("scroll",r),g||A===N||(g=[])):(g=g||[]).push(H,N))}l&&(g=g||[]).push("style",l);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},cy=function(r,s,l,h){l!==h&&(s.flags|=4)};function Ja(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function P1(r,s,l){var h=s.pendingProps;switch(rd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return tn(s.type)&&gu(),Ut(s),null;case 3:return h=s.stateNode,Co(),Ze(en),Ze(jt),gd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(wu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Hn!==null&&(qd(Hn),Hn=null))),Ld(r,s),Ut(s),null;case 5:pd(s);var f=ws(Ka.current);if(l=s.type,r!==null&&s.stateNode!=null)uy(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ut(s),null}if(r=ws(lr.current),wu(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[ar]=s,h[$a]=g,r=(s.mode&1)!==0,l){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(f=0;f<Fa.length;f++)Je(Fa[f],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":qe(h,g),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Je("invalid",h);break;case"textarea":$s(h,g),Je("invalid",h)}va(l,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var A=g[w];w==="children"?typeof A=="string"?h.textContent!==A&&(g.suppressHydrationWarning!==!0&&fu(h.textContent,A,r),f=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&fu(h.textContent,A,r),f=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&Je("scroll",h)}switch(l){case"input":Dn(h),Fl(h,g,!0);break;case"textarea":Dn(h),fa(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=pu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=w.createElement(l,{is:h.is}):(r=w.createElement(l),l==="select"&&(w=r,h.multiple?w.multiple=!0:h.size&&(w.size=h.size))):r=w.createElementNS(r,l),r[ar]=s,r[$a]=h,ly(r,s,!1,!1),s.stateNode=r;e:{switch(w=_a(l,h),l){case"dialog":Je("cancel",r),Je("close",r),f=h;break;case"iframe":case"object":case"embed":Je("load",r),f=h;break;case"video":case"audio":for(f=0;f<Fa.length;f++)Je(Fa[f],r);f=h;break;case"source":Je("error",r),f=h;break;case"img":case"image":case"link":Je("error",r),Je("load",r),f=h;break;case"details":Je("toggle",r),f=h;break;case"input":qe(r,h),f=_n(r,h),Je("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=oe({},h,{value:void 0}),Je("invalid",r);break;case"textarea":$s(r,h),f=da(r,h),Je("invalid",r);break;default:f=h}va(l,f),A=f;for(g in A)if(A.hasOwnProperty(g)){var N=A[g];g==="style"?ga(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&pa(r,N)):g==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&li(r,N):typeof N=="number"&&li(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&Je("scroll",r):N!=null&&G(r,g,N,w))}switch(l){case"input":Dn(r),Fl(r,h,!1);break;case"textarea":Dn(r),fa(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?xr(r,!!h.multiple,g,!1):h.defaultValue!=null&&xr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=pu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)cy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=ws(Ka.current),ws(lr.current),wu(s)){if(h=s.stateNode,l=s.memoizedProps,h[ar]=s,(g=h.nodeValue!==l)&&(r=pn,r!==null))switch(r.tag){case 3:fu(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&fu(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[ar]=s,s.stateNode=h}return Ut(s),null;case 13:if(Ze(rt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(tt&&mn!==null&&s.mode&1&&!(s.flags&128))fg(),To(),s.flags|=98560,g=!1;else if(g=wu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ar]=s}else To(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ut(s),g=!1}else Hn!==null&&(qd(Hn),Hn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||rt.current&1?Et===0&&(Et=3):Qd())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return Co(),Ld(r,s),r===null&&Ua(s.stateNode.containerInfo),Ut(s),null;case 10:return ud(s.type._context),Ut(s),null;case 17:return tn(s.type)&&gu(),Ut(s),null;case 19:if(Ze(rt),g=s.memoizedState,g===null)return Ut(s),null;if(h=(s.flags&128)!==0,w=g.rendering,w===null)if(h)Ja(g,!1);else{if(Et!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=Au(r),w!==null){for(s.flags|=128,Ja(g,!1),h=w.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ye(rt,rt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Xe()>Po&&(s.flags|=128,h=!0,Ja(g,!1),s.lanes=4194304)}else{if(!h)if(r=Au(w),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ja(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!tt)return Ut(s),null}else 2*Xe()-g.renderingStartTime>Po&&l!==1073741824&&(s.flags|=128,h=!0,Ja(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(l=g.last,l!==null?l.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Xe(),s.sibling=null,l=rt.current,Ye(rt,h?l&1|2:l&1),s):(Ut(s),null);case 22:case 23:return Gd(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?gn&1073741824&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function N1(r,s){switch(rd(s),s.tag){case 1:return tn(s.type)&&gu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Co(),Ze(en),Ze(jt),gd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return pd(s),null;case 13:if(Ze(rt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));To()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ze(rt),null;case 4:return Co(),null;case 10:return ud(s.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var Vu=!1,Bt=!1,O1=typeof WeakSet=="function"?WeakSet:Set,ue=null;function xo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(r,s,h)}else l.current=null}function Vd(r,s,l){try{l()}catch(h){at(r,s,h)}}var hy=!1;function D1(r,s){if(Gh=gi,r=zm(),Uh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,A=-1,N=-1,H=0,X=0,te=r,Q=null;t:for(;;){for(var ae;te!==l||f!==0&&te.nodeType!==3||(A=w+f),te!==g||h!==0&&te.nodeType!==3||(N=w+h),te.nodeType===3&&(w+=te.nodeValue.length),(ae=te.firstChild)!==null;)Q=te,te=ae;for(;;){if(te===r)break t;if(Q===l&&++H===f&&(A=w),Q===g&&++X===h&&(N=w),(ae=te.nextSibling)!==null)break;te=Q,Q=te.parentNode}te=ae}l=A===-1||N===-1?null:{start:A,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qh={focusedElem:r,selectionRange:l},gi=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var he=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,ut=he.memoizedState,B=s.stateNode,L=B.getSnapshotBeforeUpdate(s.elementType===s.type?de:Wn(s.type,de),ut);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){at(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return he=hy,hy=!1,he}function Za(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Vd(s,l,g)}f=f.next}while(f!==h)}}function Mu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Md(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function dy(r){var s=r.alternate;s!==null&&(r.alternate=null,dy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ar],delete s[$a],delete s[Zh],delete s[m1],delete s[g1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function fy(r){return r.tag===5||r.tag===3||r.tag===4}function py(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=pu));else if(h!==4&&(r=r.child,r!==null))for(jd(r,s,l),r=r.sibling;r!==null;)jd(r,s,l),r=r.sibling}function Fd(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Fd(r,s,l),r=r.sibling;r!==null;)Fd(r,s,l),r=r.sibling}var Ot=null,qn=!1;function Ri(r,s,l){for(l=l.child;l!==null;)my(r,s,l),l=l.sibling}function my(r,s,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(us,l)}catch{}switch(l.tag){case 5:Bt||xo(l,s);case 6:var h=Ot,f=qn;Ot=null,Ri(r,s,l),Ot=h,qn=f,Ot!==null&&(qn?(r=Ot,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(qn?(r=Ot,l=l.stateNode,r.nodeType===8?Jh(r.parentNode,l):r.nodeType===1&&Jh(r,l),Bn(r)):Jh(Ot,l.stateNode));break;case 4:h=Ot,f=qn,Ot=l.stateNode.containerInfo,qn=!0,Ri(r,s,l),Ot=h,qn=f;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&Vd(l,s,w),f=f.next}while(f!==h)}Ri(r,s,l);break;case 1:if(!Bt&&(xo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(A){at(l,s,A)}Ri(r,s,l);break;case 21:Ri(r,s,l);break;case 22:l.mode&1?(Bt=(h=Bt)||l.memoizedState!==null,Ri(r,s,l),Bt=h):Ri(r,s,l);break;default:Ri(r,s,l)}}function gy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new O1),s.forEach(function(h){var f=$1.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function Kn(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,w=s,A=w;e:for(;A!==null;){switch(A.tag){case 5:Ot=A.stateNode,qn=!1;break e;case 3:Ot=A.stateNode.containerInfo,qn=!0;break e;case 4:Ot=A.stateNode.containerInfo,qn=!0;break e}A=A.return}if(Ot===null)throw Error(t(160));my(g,w,f),Ot=null,qn=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(H){at(f,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)yy(s,r),s=s.sibling}function yy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kn(s,r),cr(r),h&4){try{Za(3,r,r.return),Mu(3,r)}catch(de){at(r,r.return,de)}try{Za(5,r,r.return)}catch(de){at(r,r.return,de)}}break;case 1:Kn(s,r),cr(r),h&512&&l!==null&&xo(l,l.return);break;case 5:if(Kn(s,r),cr(r),h&512&&l!==null&&xo(l,l.return),r.flags&32){var f=r.stateNode;try{li(f,"")}catch(de){at(r,r.return,de)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,A=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&ai(f,g),_a(A,w);var H=_a(A,g);for(w=0;w<N.length;w+=2){var X=N[w],te=N[w+1];X==="style"?ga(f,te):X==="dangerouslySetInnerHTML"?pa(f,te):X==="children"?li(f,te):G(f,X,te,H)}switch(A){case"input":Cr(f,g);break;case"textarea":zs(f,g);break;case"select":var Q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ae=g.value;ae!=null?xr(f,!!g.multiple,ae,!1):Q!==!!g.multiple&&(g.defaultValue!=null?xr(f,!!g.multiple,g.defaultValue,!0):xr(f,!!g.multiple,g.multiple?[]:"",!1))}f[$a]=g}catch(de){at(r,r.return,de)}}break;case 6:if(Kn(s,r),cr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(de){at(r,r.return,de)}}break;case 3:if(Kn(s,r),cr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Bn(s.containerInfo)}catch(de){at(r,r.return,de)}break;case 4:Kn(s,r),cr(r);break;case 13:Kn(s,r),cr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||($d=Xe())),h&4&&gy(r);break;case 22:if(X=l!==null&&l.memoizedState!==null,r.mode&1?(Bt=(H=Bt)||X,Kn(s,r),Bt=H):Kn(s,r),cr(r),h&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!X&&r.mode&1)for(ue=r,X=r.child;X!==null;){for(te=ue=X;ue!==null;){switch(Q=ue,ae=Q.child,Q.tag){case 0:case 11:case 14:case 15:Za(4,Q,Q.return);break;case 1:xo(Q,Q.return);var he=Q.stateNode;if(typeof he.componentWillUnmount=="function"){h=Q,l=Q.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(de){at(h,l,de)}}break;case 5:xo(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Ey(te);continue}}ae!==null?(ae.return=Q,ue=ae):Ey(te)}X=X.sibling}e:for(X=null,te=r;;){if(te.tag===5){if(X===null){X=te;try{f=te.stateNode,H?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=te.stateNode,N=te.memoizedProps.style,w=N!=null&&N.hasOwnProperty("display")?N.display:null,A.style.display=ma("display",w))}catch(de){at(r,r.return,de)}}}else if(te.tag===6){if(X===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(de){at(r,r.return,de)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;X===te&&(X=null),te=te.return}X===te&&(X=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Kn(s,r),cr(r),h&4&&gy(r);break;case 21:break;default:Kn(s,r),cr(r)}}function cr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(fy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(li(f,""),h.flags&=-33);var g=py(r);Fd(r,g,f);break;case 3:case 4:var w=h.stateNode.containerInfo,A=py(r);jd(r,A,w);break;default:throw Error(t(161))}}catch(N){at(r,r.return,N)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function b1(r,s,l){ue=r,vy(r)}function vy(r,s,l){for(var h=(r.mode&1)!==0;ue!==null;){var f=ue,g=f.child;if(f.tag===22&&h){var w=f.memoizedState!==null||Vu;if(!w){var A=f.alternate,N=A!==null&&A.memoizedState!==null||Bt;A=Vu;var H=Bt;if(Vu=w,(Bt=N)&&!H)for(ue=f;ue!==null;)w=ue,N=w.child,w.tag===22&&w.memoizedState!==null?wy(f):N!==null?(N.return=w,ue=N):wy(f);for(;g!==null;)ue=g,vy(g),g=g.sibling;ue=f,Vu=A,Bt=H}_y(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,ue=g):_y(r)}}function _y(r){for(;ue!==null;){var s=ue;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Bt||Mu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Bt)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Wn(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Eg(s,g,h);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Eg(s,w,l)}break;case 5:var A=s.stateNode;if(l===null&&s.flags&4){l=A;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var X=H.memoizedState;if(X!==null){var te=X.dehydrated;te!==null&&Bn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||s.flags&512&&Md(s)}catch(Q){at(s,s.return,Q)}}if(s===r){ue=null;break}if(l=s.sibling,l!==null){l.return=s.return,ue=l;break}ue=s.return}}function Ey(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ue=l;break}ue=s.return}}function wy(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Mu(4,s)}catch(N){at(s,l,N)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(N){at(s,f,N)}}var g=s.return;try{Md(s)}catch(N){at(s,g,N)}break;case 5:var w=s.return;try{Md(s)}catch(N){at(s,w,N)}}}catch(N){at(s,s.return,N)}if(s===r){ue=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ue=A;break}ue=s.return}}var L1=Math.ceil,ju=J.ReactCurrentDispatcher,Ud=J.ReactCurrentOwner,xn=J.ReactCurrentBatchConfig,Be=0,Ct=null,ft=null,Dt=0,gn=0,ko=Ei(0),Et=0,el=null,Is=0,Fu=0,Bd=0,tl=null,rn=null,$d=0,Po=1/0,zr=null,Uu=!1,zd=null,Ci=null,Bu=!1,Ai=null,$u=0,nl=0,Hd=null,zu=-1,Hu=0;function Yt(){return Be&6?Xe():zu!==-1?zu:zu=Xe()}function xi(r){return r.mode&1?Be&2&&Dt!==0?Dt&-Dt:v1.transition!==null?(Hu===0&&(Hu=hs()),Hu):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Pa(r.type)),r):1}function Gn(r,s,l,h){if(50<nl)throw nl=0,Hd=null,Error(t(185));di(r,l,h),(!(Be&2)||r!==Ct)&&(r===Ct&&(!(Be&2)&&(Fu|=l),Et===4&&ki(r,Dt)),sn(r,h),l===1&&Be===0&&!(s.mode&1)&&(Po=Xe()+500,vu&&Ti()))}function sn(r,s){var l=r.callbackNode;Nr(r,s);var h=cs(r,r===Ct?Dt:0);if(h===0)l!==null&&Ra(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&Ra(l),s===1)r.tag===0?y1(Iy.bind(null,r)):lg(Iy.bind(null,r)),f1(function(){!(Be&6)&&Ti()}),l=null;else{switch(pi(h)){case 1:l=ls;break;case 4:l=ui;break;case 16:l=wn;break;case 536870912:l=Hl;break;default:l=wn}l=Ny(l,Ty.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Ty(r,s){if(zu=-1,Hu=0,Be&6)throw Error(t(327));var l=r.callbackNode;if(No()&&r.callbackNode!==l)return null;var h=cs(r,r===Ct?Dt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Wu(r,h);else{s=h;var f=Be;Be|=2;var g=Ry();(Ct!==r||Dt!==s)&&(zr=null,Po=Xe()+500,Rs(r,s));do try{j1();break}catch(A){Sy(r,A)}while(!0);ld(),ju.current=g,Be=f,ft!==null?s=0:(Ct=null,Dt=0,s=Et)}if(s!==0){if(s===2&&(f=hn(r),f!==0&&(h=f,s=Wd(r,f))),s===1)throw l=el,Rs(r,0),ki(r,h),sn(r,Xe()),l;if(s===6)ki(r,h);else{if(f=r.current.alternate,!(h&30)&&!V1(f)&&(s=Wu(r,h),s===2&&(g=hn(r),g!==0&&(h=g,s=Wd(r,g))),s===1))throw l=el,Rs(r,0),ki(r,h),sn(r,Xe()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Cs(r,rn,zr);break;case 3:if(ki(r,h),(h&130023424)===h&&(s=$d+500-Xe(),10<s)){if(cs(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Yt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Yh(Cs.bind(null,r,rn,zr),s);break}Cs(r,rn,zr);break;case 4:if(ki(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var w=31-Gt(h);g=1<<w,w=s[w],w>f&&(f=w),h&=~g}if(h=f,h=Xe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*L1(h/1960))-h,10<h){r.timeoutHandle=Yh(Cs.bind(null,r,rn,zr),h);break}Cs(r,rn,zr);break;case 5:Cs(r,rn,zr);break;default:throw Error(t(329))}}}return sn(r,Xe()),r.callbackNode===l?Ty.bind(null,r):null}function Wd(r,s){var l=tl;return r.current.memoizedState.isDehydrated&&(Rs(r,s).flags|=256),r=Wu(r,s),r!==2&&(s=rn,rn=l,s!==null&&qd(s)),r}function qd(r){rn===null?rn=r:rn.push.apply(rn,r)}function V1(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!zn(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(r,s){for(s&=~Bd,s&=~Fu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Gt(s),h=1<<l;r[l]=-1,s&=~h}}function Iy(r){if(Be&6)throw Error(t(327));No();var s=cs(r,0);if(!(s&1))return sn(r,Xe()),null;var l=Wu(r,s);if(r.tag!==0&&l===2){var h=hn(r);h!==0&&(s=h,l=Wd(r,h))}if(l===1)throw l=el,Rs(r,0),ki(r,s),sn(r,Xe()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Cs(r,rn,zr),sn(r,Xe()),null}function Kd(r,s){var l=Be;Be|=1;try{return r(s)}finally{Be=l,Be===0&&(Po=Xe()+500,vu&&Ti())}}function Ss(r){Ai!==null&&Ai.tag===0&&!(Be&6)&&No();var s=Be;Be|=1;var l=xn.transition,h=Ve;try{if(xn.transition=null,Ve=1,r)return r()}finally{Ve=h,xn.transition=l,Be=s,!(Be&6)&&Ti()}}function Gd(){gn=ko.current,Ze(ko)}function Rs(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,d1(l)),ft!==null)for(l=ft.return;l!==null;){var h=l;switch(rd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&gu();break;case 3:Co(),Ze(en),Ze(jt),gd();break;case 5:pd(h);break;case 4:Co();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:ud(h.type._context);break;case 22:case 23:Gd()}l=l.return}if(Ct=r,ft=r=Pi(r.current,null),Dt=gn=s,Et=0,el=null,Bd=Fu=Is=0,rn=tl=null,Es!==null){for(s=0;s<Es.length;s++)if(l=Es[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var w=g.next;g.next=f,h.next=w}l.pending=h}Es=null}return r}function Sy(r,s){do{var l=ft;try{if(ld(),xu.current=Ou,ku){for(var h=it.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}ku=!1}if(Ts=0,Rt=_t=it=null,Ga=!1,Qa=0,Ud.current=null,l===null||l.return===null){Et=1,el=s,ft=null;break}e:{var g=r,w=l.return,A=l,N=s;if(s=Dt,A.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=N,X=A,te=X.tag;if(!(X.mode&1)&&(te===0||te===11||te===15)){var Q=X.alternate;Q?(X.updateQueue=Q.updateQueue,X.memoizedState=Q.memoizedState,X.lanes=Q.lanes):(X.updateQueue=null,X.memoizedState=null)}var ae=Qg(w);if(ae!==null){ae.flags&=-257,Xg(ae,w,A,g,s),ae.mode&1&&Gg(g,H,s),s=ae,N=H;var he=s.updateQueue;if(he===null){var de=new Set;de.add(N),s.updateQueue=de}else he.add(N);break e}else{if(!(s&1)){Gg(g,H,s),Qd();break e}N=Error(t(426))}}else if(tt&&A.mode&1){var ut=Qg(w);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Xg(ut,w,A,g,s),od(Ao(N,A));break e}}g=N=Ao(N,A),Et!==4&&(Et=2),tl===null?tl=[g]:tl.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=qg(g,N,s);_g(g,B);break e;case 1:A=N;var L=g.type,$=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ci===null||!Ci.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=Kg(g,A,s);_g(g,ne);break e}}g=g.return}while(g!==null)}Ay(l)}catch(fe){s=fe,ft===l&&l!==null&&(ft=l=l.return);continue}break}while(!0)}function Ry(){var r=ju.current;return ju.current=Ou,r===null?Ou:r}function Qd(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||!(Is&268435455)&&!(Fu&268435455)||ki(Ct,Dt)}function Wu(r,s){var l=Be;Be|=2;var h=Ry();(Ct!==r||Dt!==s)&&(zr=null,Rs(r,s));do try{M1();break}catch(f){Sy(r,f)}while(!0);if(ld(),Be=l,ju.current=h,ft!==null)throw Error(t(261));return Ct=null,Dt=0,Et}function M1(){for(;ft!==null;)Cy(ft)}function j1(){for(;ft!==null&&!$l();)Cy(ft)}function Cy(r){var s=Py(r.alternate,r,gn);r.memoizedProps=r.pendingProps,s===null?Ay(r):ft=s,Ud.current=null}function Ay(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=N1(l,s),l!==null){l.flags&=32767,ft=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,ft=null;return}}else if(l=P1(l,s,gn),l!==null){ft=l;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);Et===0&&(Et=5)}function Cs(r,s,l){var h=Ve,f=xn.transition;try{xn.transition=null,Ve=1,F1(r,s,l,h)}finally{xn.transition=f,Ve=h}return null}function F1(r,s,l,h){do No();while(Ai!==null);if(Be&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Ge(r,g),r===Ct&&(ft=Ct=null,Dt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Bu||(Bu=!0,Ny(wn,function(){return No(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=xn.transition,xn.transition=null;var w=Ve;Ve=1;var A=Be;Be|=4,Ud.current=null,D1(r,l),yy(l,r),s1(Qh),gi=!!Gh,Qh=Gh=null,r.current=l,b1(l),Oh(),Be=A,Ve=w,xn.transition=g}else r.current=l;if(Bu&&(Bu=!1,Ai=r,$u=f),g=r.pendingLanes,g===0&&(Ci=null),Wl(l.stateNode),sn(r,Xe()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(Uu)throw Uu=!1,r=zd,zd=null,r;return $u&1&&r.tag!==0&&No(),g=r.pendingLanes,g&1?r===Hd?nl++:(nl=0,Hd=r):nl=0,Ti(),null}function No(){if(Ai!==null){var r=pi($u),s=xn.transition,l=Ve;try{if(xn.transition=null,Ve=16>r?16:r,Ai===null)var h=!1;else{if(r=Ai,Ai=null,$u=0,Be&6)throw Error(t(331));var f=Be;for(Be|=4,ue=r.current;ue!==null;){var g=ue,w=g.child;if(ue.flags&16){var A=g.deletions;if(A!==null){for(var N=0;N<A.length;N++){var H=A[N];for(ue=H;ue!==null;){var X=ue;switch(X.tag){case 0:case 11:case 15:Za(8,X,g)}var te=X.child;if(te!==null)te.return=X,ue=te;else for(;ue!==null;){X=ue;var Q=X.sibling,ae=X.return;if(dy(X),X===H){ue=null;break}if(Q!==null){Q.return=ae,ue=Q;break}ue=ae}}}var he=g.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var ut=de.sibling;de.sibling=null,de=ut}while(de!==null)}}ue=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,ue=w;else e:for(;ue!==null;){if(g=ue,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Za(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,ue=B;break e}ue=g.return}}var L=r.current;for(ue=L;ue!==null;){w=ue;var $=w.child;if(w.subtreeFlags&2064&&$!==null)$.return=w,ue=$;else e:for(w=L;ue!==null;){if(A=ue,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Mu(9,A)}}catch(fe){at(A,A.return,fe)}if(A===w){ue=null;break e}var ne=A.sibling;if(ne!==null){ne.return=A.return,ue=ne;break e}ue=A.return}}if(Be=f,Ti(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(us,r)}catch{}h=!0}return h}finally{Ve=l,xn.transition=s}}return!1}function xy(r,s,l){s=Ao(l,s),s=qg(r,s,1),r=Si(r,s,1),s=Yt(),r!==null&&(di(r,1,s),sn(r,s))}function at(r,s,l){if(r.tag===3)xy(r,r,l);else for(;s!==null;){if(s.tag===3){xy(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ci===null||!Ci.has(h))){r=Ao(l,r),r=Kg(s,r,1),s=Si(s,r,1),r=Yt(),s!==null&&(di(s,1,r),sn(s,r));break}}s=s.return}}function U1(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=Yt(),r.pingedLanes|=r.suspendedLanes&l,Ct===r&&(Dt&l)===l&&(Et===4||Et===3&&(Dt&130023424)===Dt&&500>Xe()-$d?Rs(r,0):Bd|=l),sn(r,s)}function ky(r,s){s===0&&(r.mode&1?(s=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):s=1);var l=Yt();r=Ur(r,s),r!==null&&(di(r,s,l),sn(r,l))}function B1(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),ky(r,l)}function $1(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),ky(r,l)}var Py;Py=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||en.current)nn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return nn=!1,k1(r,s,l);nn=!!(r.flags&131072)}else nn=!1,tt&&s.flags&1048576&&ug(s,Eu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Lu(r,s),r=s.pendingProps;var f=_o(s,jt.current);Ro(s,l),f=_d(null,s,h,r,f,l);var g=Ed();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,tn(h)?(g=!0,yu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,dd(s),f.updater=Du,s.stateNode=f,f._reactInternals=s,Cd(s,h,r,l),s=Pd(null,s,h,!0,g,l)):(s.tag=0,tt&&g&&nd(s),Xt(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Lu(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=H1(h),r=Wn(h,r),f){case 0:s=kd(null,s,h,r,l);break e;case 1:s=ny(null,s,h,r,l);break e;case 11:s=Yg(null,s,h,r,l);break e;case 14:s=Jg(null,s,h,Wn(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Wn(h,f),kd(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Wn(h,f),ny(r,s,h,f,l);case 3:e:{if(ry(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,vg(r,s),Cu(s,h,null,l);var w=s.memoizedState;if(h=w.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Ao(Error(t(423)),s),s=iy(r,s,h,l,f);break e}else if(h!==f){f=Ao(Error(t(424)),s),s=iy(r,s,h,l,f);break e}else for(mn=_i(s.stateNode.containerInfo.firstChild),pn=s,tt=!0,Hn=null,l=gg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(To(),h===f){s=$r(r,s,l);break e}Xt(r,s,h,l)}s=s.child}return s;case 5:return wg(s),r===null&&sd(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,Xh(h,f)?w=null:g!==null&&Xh(h,g)&&(s.flags|=32),ty(r,s),Xt(r,s,w,l),s.child;case 6:return r===null&&sd(s),null;case 13:return sy(r,s,l);case 4:return fd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Io(s,null,h,l):Xt(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Wn(h,f),Yg(r,s,h,f,l);case 7:return Xt(r,s,s.pendingProps,l),s.child;case 8:return Xt(r,s,s.pendingProps.children,l),s.child;case 12:return Xt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,Ye(Iu,h._currentValue),h._currentValue=w,g!==null)if(zn(g.value,w)){if(g.children===f.children&&!en.current){s=$r(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){w=g.child;for(var N=A.firstContext;N!==null;){if(N.context===h){if(g.tag===1){N=Br(-1,l&-l),N.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var X=H.pending;X===null?N.next=N:(N.next=X.next,X.next=N),H.pending=N}}g.lanes|=l,N=g.alternate,N!==null&&(N.lanes|=l),cd(g.return,l,s),A.lanes|=l;break}N=N.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,A=w.alternate,A!==null&&(A.lanes|=l),cd(w,l,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Xt(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Ro(s,l),f=Cn(f),h=h(f),s.flags|=1,Xt(r,s,h,l),s.child;case 14:return h=s.type,f=Wn(h,s.pendingProps),f=Wn(h.type,f),Jg(r,s,h,f,l);case 15:return Zg(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Wn(h,f),Lu(r,s),s.tag=1,tn(h)?(r=!0,yu(s)):r=!1,Ro(s,l),Hg(s,h,f),Cd(s,h,f,l),Pd(null,s,h,!0,r,l);case 19:return ay(r,s,l);case 22:return ey(r,s,l)}throw Error(t(156,s.tag))};function Ny(r,s){return Ys(r,s)}function z1(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,s,l,h){return new z1(r,s,l,h)}function Xd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function H1(r){if(typeof r=="function")return Xd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===ht)return 14}return 2}function Pi(r,s){var l=r.alternate;return l===null?(l=kn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function qu(r,s,l,h,f,g){var w=2;if(h=r,typeof r=="function")Xd(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case P:return As(l.children,f,g,s);case C:w=8,f|=8;break;case k:return r=kn(12,l,s,f|2),r.elementType=k,r.lanes=g,r;case x:return r=kn(13,l,s,f),r.elementType=x,r.lanes=g,r;case Qe:return r=kn(19,l,s,f),r.elementType=Qe,r.lanes=g,r;case Ne:return Ku(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:w=10;break e;case V:w=9;break e;case j:w=11;break e;case ht:w=14;break e;case Ke:w=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=kn(w,l,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function As(r,s,l,h){return r=kn(7,r,h,s),r.lanes=l,r}function Ku(r,s,l,h){return r=kn(22,r,h,s),r.elementType=Ne,r.lanes=l,r.stateNode={isHidden:!1},r}function Yd(r,s,l){return r=kn(6,r,null,s),r.lanes=l,r}function Jd(r,s,l){return s=kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function W1(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hi(0),this.expirationTimes=hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Zd(r,s,l,h,f,g,w,A,N){return r=new W1(r,s,l,A,N),s===1?(s=1,g===!0&&(s|=8)):s=0,g=kn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},dd(g),r}function q1(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function Oy(r){if(!r)return wi;r=r._reactInternals;e:{if(Vn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(tn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(tn(l))return og(r,l,s)}return s}function Dy(r,s,l,h,f,g,w,A,N){return r=Zd(l,h,!0,r,f,g,w,A,N),r.context=Oy(null),l=r.current,h=Yt(),f=xi(l),g=Br(h,f),g.callback=s??null,Si(l,g,f),r.current.lanes=f,di(r,f,h),sn(r,h),r}function Gu(r,s,l,h){var f=s.current,g=Yt(),w=xi(f);return l=Oy(l),s.context===null?s.context=l:s.pendingContext=l,s=Br(g,w),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Si(f,s,w),r!==null&&(Gn(r,f,w,g),Ru(r,f,w)),w}function Qu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function by(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function ef(r,s){by(r,s),(r=r.alternate)&&by(r,s)}var Ly=typeof reportError=="function"?reportError:function(r){console.error(r)};function tf(r){this._internalRoot=r}Xu.prototype.render=tf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Gu(r,s,null,null)},Xu.prototype.unmount=tf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ss(function(){Gu(null,r,null,null)}),s[Vr]=null}};function Xu(r){this._internalRoot=r}Xu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Xl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<rr.length&&s!==0&&s<rr[l].priority;l++);rr.splice(l,0,r),l===0&&Zl(r)}};function nf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Yu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Vy(){}function K1(r,s,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var H=Qu(w);g.call(H)}}var w=Dy(s,h,r,0,null,!1,!1,"",Vy);return r._reactRootContainer=w,r[Vr]=w.current,Ua(r.nodeType===8?r.parentNode:r),Ss(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var A=h;h=function(){var H=Qu(N);A.call(H)}}var N=Zd(r,0,!1,null,null,!1,!1,"",Vy);return r._reactRootContainer=N,r[Vr]=N.current,Ua(r.nodeType===8?r.parentNode:r),Ss(function(){Gu(s,N,l,h)}),N}function Ju(r,s,l,h,f){var g=l._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var A=f;f=function(){var N=Qu(w);A.call(N)}}Gu(s,w,r,f)}else w=K1(l,s,r,f,h);return Qu(w)}Gl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ci(s.pendingLanes);l!==0&&(fi(s,l|1),sn(s,Xe()),!(Be&6)&&(Po=Xe()+500,Ti()))}break;case 13:Ss(function(){var h=Ur(r,1);if(h!==null){var f=Yt();Gn(h,r,1,f)}}),ef(r,1)}},eo=function(r){if(r.tag===13){var s=Ur(r,134217728);if(s!==null){var l=Yt();Gn(s,r,134217728,l)}ef(r,134217728)}},Ql=function(r){if(r.tag===13){var s=xi(r),l=Ur(r,s);if(l!==null){var h=Yt();Gn(l,r,s,h)}ef(r,s)}},Xl=function(){return Ve},Yl=function(r,s){var l=Ve;try{return Ve=r,s()}finally{Ve=l}},Ws=function(r,s,l){switch(s){case"input":if(Cr(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=mu(h);if(!f)throw Error(t(90));Rr(h),Cr(h,f)}}}break;case"textarea":zs(r,l);break;case"select":s=l.value,s!=null&&xr(r,!!l.multiple,s,!1)}},is=Kd,wa=Ss;var G1={usingClientEntryPoint:!1,Events:[za,yo,mu,tr,Ea,Kd]},rl={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q1={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Sa(r),r===null?null:r.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zu.isDisabled&&Zu.supportsFiber)try{us=Zu.inject(Q1),cn=Zu}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G1,on.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nf(s))throw Error(t(200));return q1(r,s,null,l)},on.createRoot=function(r,s){if(!nf(r))throw Error(t(299));var l=!1,h="",f=Ly;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Zd(r,1,!1,null,null,l,!1,h,f),r[Vr]=s.current,Ua(r.nodeType===8?r.parentNode:r),new tf(s)},on.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Sa(s),r=r===null?null:r.stateNode,r},on.flushSync=function(r){return Ss(r)},on.hydrate=function(r,s,l){if(!Yu(s))throw Error(t(200));return Ju(null,r,s,!0,l)},on.hydrateRoot=function(r,s,l){if(!nf(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",w=Ly;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=Dy(s,null,r,1,l??null,f,!1,g,w),r[Vr]=s.current,Ua(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Xu(s)},on.render=function(r,s,l){if(!Yu(s))throw Error(t(200));return Ju(null,r,s,!1,l)},on.unmountComponentAtNode=function(r){if(!Yu(r))throw Error(t(40));return r._reactRootContainer?(Ss(function(){Ju(null,null,r,!1,function(){r._reactRootContainer=null,r[Vr]=null})}),!0):!1},on.unstable_batchedUpdates=Kd,on.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Yu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ju(r,s,l,!1,h)},on.version="18.3.1-next-f1338f8080-20240426",on}var Hy;function K_(){if(Hy)return of.exports;Hy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),of.exports=iI(),of.exports}var Wy;function sI(){if(Wy)return ec;Wy=1;var n=K_();return ec.createRoot=n.createRoot,ec.hydrateRoot=n.hydrateRoot,ec}var oI=sI(),aI=K_();const jo=Jc(aI);/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gl.apply(this,arguments)}var ji;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ji||(ji={}));const qy="popstate";function lI(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:c,hash:d}=i.location;return Of("",{pathname:a,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Tc(o)}return cI(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function G_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uI(){return Math.random().toString(36).substr(2,8)}function Ky(n,e){return{usr:n.state,key:n.key,idx:e}}function Of(n,e,t,i){return t===void 0&&(t=null),gl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ta(e):e,{state:t,key:e&&e.key||i||uI()})}function Tc(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ta(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function cI(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,d=ji.Pop,p=null,y=_();y==null&&(y=0,c.replaceState(gl({},c.state,{idx:y}),""));function _(){return(c.state||{idx:null}).idx}function E(){d=ji.Pop;let b=_(),Z=b==null?null:b-y;y=b,p&&p({action:d,location:z.location,delta:Z})}function S(b,Z){d=ji.Push;let re=Of(z.location,b,Z);y=_()+1;let G=Ky(re,y),J=z.createHref(re);try{c.pushState(G,"",J)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(J)}a&&p&&p({action:d,location:z.location,delta:1})}function O(b,Z){d=ji.Replace;let re=Of(z.location,b,Z);y=_();let G=Ky(re,y),J=z.createHref(re);c.replaceState(G,"",J),a&&p&&p({action:d,location:z.location,delta:0})}function F(b){let Z=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof b=="string"?b:Tc(b);return re=re.replace(/ $/,"%20"),mt(Z,"No window.location.(origin|href) available to create URL for href: "+re),new URL(re,Z)}let z={get action(){return d},get location(){return n(o,c)},listen(b){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(qy,E),p=b,()=>{o.removeEventListener(qy,E),p=null}},createHref(b){return e(o,b)},createURL:F,encodeLocation(b){let Z=F(b);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:S,replace:O,go(b){return c.go(b)}};return z}var Gy;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Gy||(Gy={}));function hI(n,e,t){return t===void 0&&(t="/"),dI(n,e,t)}function dI(n,e,t,i){let o=typeof e=="string"?ta(e):e,a=pp(o.pathname||"/",t);if(a==null)return null;let c=Q_(n);fI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=RI(a);d=TI(c[p],y)}return d}function Q_(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,c,d)=>{let p={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(mt(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=Ui([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(mt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Q_(a.children,e,_,y)),!(a.path==null&&!a.index)&&e.push({path:y,score:EI(y,a.index),routesMeta:_})};return n.forEach((a,c)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,c);else for(let p of X_(a.path))o(a,c,p)}),e}function X_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=X_(i.join("/")),d=[];return d.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function fI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const pI=/^:[\w-]+$/,mI=3,gI=2,yI=1,vI=10,_I=-2,Qy=n=>n==="*";function EI(n,e){let t=n.split("/"),i=t.length;return t.some(Qy)&&(i+=_I),e&&(i+=gI),t.filter(o=>!Qy(o)).reduce((o,a)=>o+(pI.test(a)?mI:a===""?yI:vI),i)}function wI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function TI(n,e,t){let{routesMeta:i}=n,o={},a="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],y=d===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=II({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),S=p.route;if(!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:Ui([a,E.pathname]),pathnameBase:kI(Ui([a,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(a=Ui([a,E.pathnameBase]))}return c}function II(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=SI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((y,_,E)=>{let{paramName:S,isOptional:O}=_;if(S==="*"){let z=d[E]||"";c=a.slice(0,a.length-z.length).replace(/(.)\/+$/,"$1")}const F=d[E];return O&&!F?y[S]=void 0:y[S]=(F||"").replace(/%2F/g,"/"),y},{}),pathname:a,pathnameBase:c,pattern:n}}function SI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),G_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function RI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return G_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function pp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function CI(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ta(n):n;return{pathname:t?t.startsWith("/")?t:AI(t,e):e,search:PI(i),hash:NI(o)}}function AI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function uf(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Y_(n,e){let t=xI(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function J_(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=ta(n):(o=gl({},n),mt(!o.pathname||!o.pathname.includes("?"),uf("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),uf("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),uf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),E-=1;o.pathname=S.join("/")}d=E>=0?e[E]:"/"}let p=CI(o,d),y=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}const Ui=n=>n.join("/").replace(/\/\/+/g,"/"),kI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),PI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function OI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Z_=["post","put","patch","delete"];new Set(Z_);const DI=["get",...Z_];new Set(DI);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yl.apply(this,arguments)}const mp=R.createContext(null),bI=R.createContext(null),Ms=R.createContext(null),Zc=R.createContext(null),Ji=R.createContext({outlet:null,matches:[],isDataRoute:!1}),e0=R.createContext(null);function LI(n,e){let{relative:t}=e===void 0?{}:e;Cl()||mt(!1);let{basename:i,navigator:o}=R.useContext(Ms),{hash:a,pathname:c,search:d}=r0(n,{relative:t}),p=c;return i!=="/"&&(p=c==="/"?i:Ui([i,c])),o.createHref({pathname:p,search:d,hash:a})}function Cl(){return R.useContext(Zc)!=null}function eh(){return Cl()||mt(!1),R.useContext(Zc).location}function t0(n){R.useContext(Ms).static||R.useLayoutEffect(n)}function gp(){let{isDataRoute:n}=R.useContext(Ji);return n?GI():VI()}function VI(){Cl()||mt(!1);let n=R.useContext(mp),{basename:e,future:t,navigator:i}=R.useContext(Ms),{matches:o}=R.useContext(Ji),{pathname:a}=eh(),c=JSON.stringify(Y_(o,t.v7_relativeSplatPath)),d=R.useRef(!1);return t0(()=>{d.current=!0}),R.useCallback(function(y,_){if(_===void 0&&(_={}),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=J_(y,JSON.parse(c),a,_.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ui([e,E.pathname])),(_.replace?i.replace:i.push)(E,_.state,_)},[e,i,c,a,n])}function n0(){let{matches:n}=R.useContext(Ji),e=n[n.length-1];return e?e.params:{}}function r0(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=R.useContext(Ms),{matches:o}=R.useContext(Ji),{pathname:a}=eh(),c=JSON.stringify(Y_(o,i.v7_relativeSplatPath));return R.useMemo(()=>J_(n,JSON.parse(c),a,t==="path"),[n,c,a,t])}function MI(n,e){return jI(n,e)}function jI(n,e,t,i){Cl()||mt(!1);let{navigator:o}=R.useContext(Ms),{matches:a}=R.useContext(Ji),c=a[a.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let y=eh(),_;if(e){var E;let b=typeof e=="string"?ta(e):e;p==="/"||(E=b.pathname)!=null&&E.startsWith(p)||mt(!1),_=b}else _=y;let S=_.pathname||"/",O=S;if(p!=="/"){let b=p.replace(/^\//,"").split("/");O="/"+S.replace(/^\//,"").split("/").slice(b.length).join("/")}let F=hI(n,{pathname:O}),z=zI(F&&F.map(b=>Object.assign({},b,{params:Object.assign({},d,b.params),pathname:Ui([p,o.encodeLocation?o.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?p:Ui([p,o.encodeLocation?o.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,i);return e&&z?R.createElement(Zc.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:ji.Pop}},z):z}function FI(){let n=KI(),e=OI(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:o},t):null,null)}const UI=R.createElement(FI,null);class BI extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?R.createElement(Ji.Provider,{value:this.props.routeContext},R.createElement(e0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $I(n){let{routeContext:e,match:t,children:i}=n,o=R.useContext(mp);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(Ji.Provider,{value:e},i)}function zI(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let c=n,d=(o=t)==null?void 0:o.errors;if(d!=null){let _=c.findIndex(E=>E.route.id&&(d==null?void 0:d[E.route.id])!==void 0);_>=0||mt(!1),c=c.slice(0,Math.min(c.length,_+1))}let p=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let _=0;_<c.length;_++){let E=c[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:S,errors:O}=t,F=E.route.loader&&S[E.route.id]===void 0&&(!O||O[E.route.id]===void 0);if(E.route.lazy||F){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((_,E,S)=>{let O,F=!1,z=null,b=null;t&&(O=d&&E.route.id?d[E.route.id]:void 0,z=E.route.errorElement||UI,p&&(y<0&&S===0?(F=!0,b=null):y===S&&(F=!0,b=E.route.hydrateFallbackElement||null)));let Z=e.concat(c.slice(0,S+1)),re=()=>{let G;return O?G=z:F?G=b:E.route.Component?G=R.createElement(E.route.Component,null):E.route.element?G=E.route.element:G=_,R.createElement($I,{match:E,routeContext:{outlet:_,matches:Z,isDataRoute:t!=null},children:G})};return t&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?R.createElement(BI,{location:t.location,revalidation:t.revalidation,component:z,error:O,children:re(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):re()},null)}var i0=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(i0||{}),Ic=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Ic||{});function HI(n){let e=R.useContext(mp);return e||mt(!1),e}function WI(n){let e=R.useContext(bI);return e||mt(!1),e}function qI(n){let e=R.useContext(Ji);return e||mt(!1),e}function s0(n){let e=qI(),t=e.matches[e.matches.length-1];return t.route.id||mt(!1),t.route.id}function KI(){var n;let e=R.useContext(e0),t=WI(Ic.UseRouteError),i=s0(Ic.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function GI(){let{router:n}=HI(i0.UseNavigateStable),e=s0(Ic.UseNavigateStable),t=R.useRef(!1);return t0(()=>{t.current=!0}),R.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,yl({fromRouteId:e},a)))},[n,e])}const Xy={};function QI(n,e){Xy[e]||(Xy[e]=!0,console.warn(e))}const Yy=(n,e,t)=>QI(n,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function XI(n,e){(n==null?void 0:n.v7_startTransition)===void 0&&Yy("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(n==null?void 0:n.v7_relativeSplatPath)===void 0&&!e&&Yy("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Di(n){mt(!1)}function YI(n){let{basename:e="/",children:t=null,location:i,navigationType:o=ji.Pop,navigator:a,static:c=!1,future:d}=n;Cl()&&mt(!1);let p=e.replace(/^\/*/,"/"),y=R.useMemo(()=>({basename:p,navigator:a,static:c,future:yl({v7_relativeSplatPath:!1},d)}),[p,d,a,c]);typeof i=="string"&&(i=ta(i));let{pathname:_="/",search:E="",hash:S="",state:O=null,key:F="default"}=i,z=R.useMemo(()=>{let b=pp(_,p);return b==null?null:{location:{pathname:b,search:E,hash:S,state:O,key:F},navigationType:o}},[p,_,E,S,O,F,o]);return z==null?null:R.createElement(Ms.Provider,{value:y},R.createElement(Zc.Provider,{children:t,value:z}))}function JI(n){let{children:e,location:t}=n;return MI(Df(e),t)}new Promise(()=>{});function Df(n,e){e===void 0&&(e=[]);let t=[];return R.Children.forEach(n,(i,o)=>{if(!R.isValidElement(i))return;let a=[...e,o];if(i.type===R.Fragment){t.push.apply(t,Df(i.props.children,a));return}i.type!==Di&&mt(!1),!i.props.index||!i.props.children||mt(!1);let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Df(i.props.children,a)),t.push(c)}),t}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bf(){return bf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bf.apply(this,arguments)}function ZI(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function eS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tS(n,e){return n.button===0&&(!e||e==="_self")&&!eS(n)}const nS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rS="6";try{window.__reactRouterVersion=rS}catch{}const iS="startTransition",Jy=tI[iS];function sS(n){let{basename:e,children:t,future:i,window:o}=n,a=R.useRef();a.current==null&&(a.current=lI({window:o,v5Compat:!0}));let c=a.current,[d,p]=R.useState({action:c.action,location:c.location}),{v7_startTransition:y}=i||{},_=R.useCallback(E=>{y&&Jy?Jy(()=>p(E)):p(E)},[p,y]);return R.useLayoutEffect(()=>c.listen(_),[c,_]),R.useEffect(()=>XI(i),[i]),R.createElement(YI,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:i})}const oS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=R.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:a,replace:c,state:d,target:p,to:y,preventScrollReset:_,viewTransition:E}=e,S=ZI(e,nS),{basename:O}=R.useContext(Ms),F,z=!1;if(typeof y=="string"&&aS.test(y)&&(F=y,oS))try{let G=new URL(window.location.href),J=y.startsWith("//")?new URL(G.protocol+y):new URL(y),pe=pp(J.pathname,O);J.origin===G.origin&&pe!=null?y=pe+J.search+J.hash:z=!0}catch{}let b=LI(y,{relative:o}),Z=lS(y,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:E});function re(G){i&&i(G),G.defaultPrevented||Z(G)}return R.createElement("a",bf({},S,{href:F||b,onClick:z||a?i:re,ref:t,target:p}))});var Zy;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Zy||(Zy={}));var ev;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ev||(ev={}));function lS(n,e){let{target:t,replace:i,state:o,preventScrollReset:a,relative:c,viewTransition:d}=e===void 0?{}:e,p=gp(),y=eh(),_=r0(n,{relative:c});return R.useCallback(E=>{if(tS(E,t)){E.preventDefault();let S=i!==void 0?i:Tc(y)===Tc(_);p(n,{replace:S,state:o,preventScrollReset:a,relative:c,viewTransition:d})}},[y,p,_,i,o,t,n,a,c,d])}var tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},uS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},a0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=a>>2,E=(a&3)<<4|d>>4;let S=(d&15)<<2|y>>6,O=y&63;p||(O=64,c||(S=64)),i.push(t[_],t[E],t[S],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(o0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||E==null)throw new cS;const S=a<<2|d>>4;if(i.push(S),y!==64){const O=d<<4&240|y>>2;if(i.push(O),E!==64){const F=y<<6&192|E;i.push(F)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(n){const e=o0(n);return a0.encodeByteArray(e,!0)},Sc=function(n){return hS(n).replace(/\./g,"")},l0=function(n){try{return a0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=()=>dS().__FIREBASE_DEFAULTS__,pS=()=>{if(typeof process>"u"||typeof tv>"u")return;const n=tv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&l0(n[1]);return e&&JSON.parse(e)},th=()=>{try{return fS()||pS()||mS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},u0=n=>{var e,t;return(t=(e=th())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},c0=n=>{const e=u0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},h0=()=>{var n;return(n=th())===null||n===void 0?void 0:n.config},d0=n=>{var e;return(e=th())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Sc(JSON.stringify(t)),Sc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function vS(){var n;const e=(n=th())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ES(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TS(){const n=Kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IS(){return!vS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SS(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="FirebaseError";class Tr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=CS,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?AS(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Tr(o,d,i)}}function AS(n,e){return n.replace(xS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const xS=/\{\$([^}]+)}/g;function kS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ho(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(nv(a)&&nv(c)){if(!Ho(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function nv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function PS(n,e){const t=new NS(n,e);return t.subscribe.bind(t)}class NS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");OS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=cf),o.error===void 0&&(o.error=cf),o.complete===void 0&&(o.complete=cf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(n){return n&&n._delegate?n._delegate:n}class Wi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new gS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LS(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bS(n){return n===xs?void 0:n}function LS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const MS={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},jS=De.INFO,FS={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},US=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=FS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=jS,this._logHandler=US,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const BS=(n,e)=>e.some(t=>n instanceof t);let rv,iv;function $S(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zS(){return iv||(iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,Lf=new WeakMap,m0=new WeakMap,hf=new WeakMap,vp=new WeakMap;function HS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Bi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&p0.set(t,n)}).catch(()=>{}),vp.set(e,n),e}function WS(n){if(Lf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Lf.set(n,e)}let Vf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||m0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qS(n){Vf=n(Vf)}function KS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(df(this),e,...t);return m0.set(i,e.sort?e.sort():[e]),Bi(i)}:zS().includes(n)?function(...e){return n.apply(df(this),e),Bi(p0.get(this))}:function(...e){return Bi(n.apply(df(this),e))}}function GS(n){return typeof n=="function"?KS(n):(n instanceof IDBTransaction&&WS(n),BS(n,$S())?new Proxy(n,Vf):n)}function Bi(n){if(n instanceof IDBRequest)return HS(n);if(hf.has(n))return hf.get(n);const e=GS(n);return e!==n&&(hf.set(n,e),vp.set(e,n)),e}const df=n=>vp.get(n);function QS(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Bi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Bi(c.result),p.oldVersion,p.newVersion,Bi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const XS=["get","getKey","getAll","getAllKeys","count"],YS=["put","add","delete","clear"],ff=new Map;function sv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ff.get(e))return ff.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=YS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||XS.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return ff.set(e,a),a}qS(n=>({...n,get:(e,t,i)=>sv(e,t)||n.get(e,t,i),has:(e,t)=>!!sv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ZS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function ZS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mf="@firebase/app",ov="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new yp("@firebase/app"),eR="@firebase/app-compat",tR="@firebase/analytics-compat",nR="@firebase/analytics",rR="@firebase/app-check-compat",iR="@firebase/app-check",sR="@firebase/auth",oR="@firebase/auth-compat",aR="@firebase/database",lR="@firebase/data-connect",uR="@firebase/database-compat",cR="@firebase/functions",hR="@firebase/functions-compat",dR="@firebase/installations",fR="@firebase/installations-compat",pR="@firebase/messaging",mR="@firebase/messaging-compat",gR="@firebase/performance",yR="@firebase/performance-compat",vR="@firebase/remote-config",_R="@firebase/remote-config-compat",ER="@firebase/storage",wR="@firebase/storage-compat",TR="@firebase/firestore",IR="@firebase/vertexai",SR="@firebase/firestore-compat",RR="firebase",CR="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]",AR={[Mf]:"fire-core",[eR]:"fire-core-compat",[nR]:"fire-analytics",[tR]:"fire-analytics-compat",[iR]:"fire-app-check",[rR]:"fire-app-check-compat",[sR]:"fire-auth",[oR]:"fire-auth-compat",[aR]:"fire-rtdb",[lR]:"fire-data-connect",[uR]:"fire-rtdb-compat",[cR]:"fire-fn",[hR]:"fire-fn-compat",[dR]:"fire-iid",[fR]:"fire-iid-compat",[pR]:"fire-fcm",[mR]:"fire-fcm-compat",[gR]:"fire-perf",[yR]:"fire-perf-compat",[vR]:"fire-rc",[_R]:"fire-rc-compat",[ER]:"fire-gcs",[wR]:"fire-gcs-compat",[TR]:"fire-fst",[SR]:"fire-fst-compat",[IR]:"fire-vertex","fire-js":"fire-js",[RR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new Map,xR=new Map,Ff=new Map;function av(n,e){try{n.container.addComponent(e)}catch(t){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ds(n){const e=n.name;if(Ff.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,n);for(const t of Rc.values())av(t,n);for(const t of xR.values())av(t,n);return!0}function nh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Nn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new Al("app","Firebase",kR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Wi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=CR;function g0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:jf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw $i.create("bad-app-name",{appName:String(o)});if(t||(t=h0()),!t)throw $i.create("no-options");const a=Rc.get(o);if(a){if(Ho(t,a.options)&&Ho(i,a.config))return a;throw $i.create("duplicate-app",{appName:o})}const c=new VS(o);for(const p of Ff.values())c.addComponent(p);const d=new PR(t,i,c);return Rc.set(o,d),d}function _p(n=jf){const e=Rc.get(n);if(!e&&n===jf&&h0())return g0();if(!e)throw $i.create("no-app",{appName:n});return e}function fr(n,e,t){var i;let o=(i=AR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(d.join(" "));return}Ds(new Wi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firebase-heartbeat-database",OR=1,vl="firebase-heartbeat-store";let pf=null;function y0(){return pf||(pf=QS(NR,OR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw $i.create("idb-open",{originalErrorMessage:n.message})})),pf}async function DR(n){try{const t=(await y0()).transaction(vl),i=await t.objectStore(vl).get(v0(n));return await t.done,i}catch(e){if(e instanceof Tr)ti.warn(e.message);else{const t=$i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(t.message)}}}async function lv(n,e){try{const i=(await y0()).transaction(vl,"readwrite");await i.objectStore(vl).put(e,v0(n)),await i.done}catch(t){if(t instanceof Tr)ti.warn(t.message);else{const i=$i.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ti.warn(i.message)}}}function v0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,LR=30;class VR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>LR){const c=FR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ti.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uv(),{heartbeatsToSend:i,unsentEntries:o}=MR(this._heartbeatsCache.heartbeats),a=Sc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ti.warn(t),""}}}function uv(){return new Date().toISOString().substring(0,10)}function MR(n,e=bR){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),cv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),cv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class jR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SS()?RS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return lv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return lv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function cv(n){return Sc(JSON.stringify({version:2,heartbeats:n})).length}function FR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(n){Ds(new Wi("platform-logger",e=>new JS(e),"PRIVATE")),Ds(new Wi("heartbeat",e=>new VR(e),"PRIVATE")),fr(Mf,ov,n),fr(Mf,ov,"esm2017"),fr("fire-js","")}UR("");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,_0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function k(){}k.prototype=C.prototype,P.D=C.prototype,P.prototype=new k,P.prototype.constructor=P,P.C=function(D,V,j){for(var x=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)x[Qe-2]=arguments[Qe];return C.prototype[V].apply(D,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,C,k){k||(k=0);var D=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)D[V]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(V=0;16>V;++V)D[V]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=P.g[0],k=P.g[1],V=P.g[2];var j=P.g[3],x=C+(j^k&(V^j))+D[0]+3614090360&4294967295;C=k+(x<<7&4294967295|x>>>25),x=j+(V^C&(k^V))+D[1]+3905402710&4294967295,j=C+(x<<12&4294967295|x>>>20),x=V+(k^j&(C^k))+D[2]+606105819&4294967295,V=j+(x<<17&4294967295|x>>>15),x=k+(C^V&(j^C))+D[3]+3250441966&4294967295,k=V+(x<<22&4294967295|x>>>10),x=C+(j^k&(V^j))+D[4]+4118548399&4294967295,C=k+(x<<7&4294967295|x>>>25),x=j+(V^C&(k^V))+D[5]+1200080426&4294967295,j=C+(x<<12&4294967295|x>>>20),x=V+(k^j&(C^k))+D[6]+2821735955&4294967295,V=j+(x<<17&4294967295|x>>>15),x=k+(C^V&(j^C))+D[7]+4249261313&4294967295,k=V+(x<<22&4294967295|x>>>10),x=C+(j^k&(V^j))+D[8]+1770035416&4294967295,C=k+(x<<7&4294967295|x>>>25),x=j+(V^C&(k^V))+D[9]+2336552879&4294967295,j=C+(x<<12&4294967295|x>>>20),x=V+(k^j&(C^k))+D[10]+4294925233&4294967295,V=j+(x<<17&4294967295|x>>>15),x=k+(C^V&(j^C))+D[11]+2304563134&4294967295,k=V+(x<<22&4294967295|x>>>10),x=C+(j^k&(V^j))+D[12]+1804603682&4294967295,C=k+(x<<7&4294967295|x>>>25),x=j+(V^C&(k^V))+D[13]+4254626195&4294967295,j=C+(x<<12&4294967295|x>>>20),x=V+(k^j&(C^k))+D[14]+2792965006&4294967295,V=j+(x<<17&4294967295|x>>>15),x=k+(C^V&(j^C))+D[15]+1236535329&4294967295,k=V+(x<<22&4294967295|x>>>10),x=C+(V^j&(k^V))+D[1]+4129170786&4294967295,C=k+(x<<5&4294967295|x>>>27),x=j+(k^V&(C^k))+D[6]+3225465664&4294967295,j=C+(x<<9&4294967295|x>>>23),x=V+(C^k&(j^C))+D[11]+643717713&4294967295,V=j+(x<<14&4294967295|x>>>18),x=k+(j^C&(V^j))+D[0]+3921069994&4294967295,k=V+(x<<20&4294967295|x>>>12),x=C+(V^j&(k^V))+D[5]+3593408605&4294967295,C=k+(x<<5&4294967295|x>>>27),x=j+(k^V&(C^k))+D[10]+38016083&4294967295,j=C+(x<<9&4294967295|x>>>23),x=V+(C^k&(j^C))+D[15]+3634488961&4294967295,V=j+(x<<14&4294967295|x>>>18),x=k+(j^C&(V^j))+D[4]+3889429448&4294967295,k=V+(x<<20&4294967295|x>>>12),x=C+(V^j&(k^V))+D[9]+568446438&4294967295,C=k+(x<<5&4294967295|x>>>27),x=j+(k^V&(C^k))+D[14]+3275163606&4294967295,j=C+(x<<9&4294967295|x>>>23),x=V+(C^k&(j^C))+D[3]+4107603335&4294967295,V=j+(x<<14&4294967295|x>>>18),x=k+(j^C&(V^j))+D[8]+1163531501&4294967295,k=V+(x<<20&4294967295|x>>>12),x=C+(V^j&(k^V))+D[13]+2850285829&4294967295,C=k+(x<<5&4294967295|x>>>27),x=j+(k^V&(C^k))+D[2]+4243563512&4294967295,j=C+(x<<9&4294967295|x>>>23),x=V+(C^k&(j^C))+D[7]+1735328473&4294967295,V=j+(x<<14&4294967295|x>>>18),x=k+(j^C&(V^j))+D[12]+2368359562&4294967295,k=V+(x<<20&4294967295|x>>>12),x=C+(k^V^j)+D[5]+4294588738&4294967295,C=k+(x<<4&4294967295|x>>>28),x=j+(C^k^V)+D[8]+2272392833&4294967295,j=C+(x<<11&4294967295|x>>>21),x=V+(j^C^k)+D[11]+1839030562&4294967295,V=j+(x<<16&4294967295|x>>>16),x=k+(V^j^C)+D[14]+4259657740&4294967295,k=V+(x<<23&4294967295|x>>>9),x=C+(k^V^j)+D[1]+2763975236&4294967295,C=k+(x<<4&4294967295|x>>>28),x=j+(C^k^V)+D[4]+1272893353&4294967295,j=C+(x<<11&4294967295|x>>>21),x=V+(j^C^k)+D[7]+4139469664&4294967295,V=j+(x<<16&4294967295|x>>>16),x=k+(V^j^C)+D[10]+3200236656&4294967295,k=V+(x<<23&4294967295|x>>>9),x=C+(k^V^j)+D[13]+681279174&4294967295,C=k+(x<<4&4294967295|x>>>28),x=j+(C^k^V)+D[0]+3936430074&4294967295,j=C+(x<<11&4294967295|x>>>21),x=V+(j^C^k)+D[3]+3572445317&4294967295,V=j+(x<<16&4294967295|x>>>16),x=k+(V^j^C)+D[6]+76029189&4294967295,k=V+(x<<23&4294967295|x>>>9),x=C+(k^V^j)+D[9]+3654602809&4294967295,C=k+(x<<4&4294967295|x>>>28),x=j+(C^k^V)+D[12]+3873151461&4294967295,j=C+(x<<11&4294967295|x>>>21),x=V+(j^C^k)+D[15]+530742520&4294967295,V=j+(x<<16&4294967295|x>>>16),x=k+(V^j^C)+D[2]+3299628645&4294967295,k=V+(x<<23&4294967295|x>>>9),x=C+(V^(k|~j))+D[0]+4096336452&4294967295,C=k+(x<<6&4294967295|x>>>26),x=j+(k^(C|~V))+D[7]+1126891415&4294967295,j=C+(x<<10&4294967295|x>>>22),x=V+(C^(j|~k))+D[14]+2878612391&4294967295,V=j+(x<<15&4294967295|x>>>17),x=k+(j^(V|~C))+D[5]+4237533241&4294967295,k=V+(x<<21&4294967295|x>>>11),x=C+(V^(k|~j))+D[12]+1700485571&4294967295,C=k+(x<<6&4294967295|x>>>26),x=j+(k^(C|~V))+D[3]+2399980690&4294967295,j=C+(x<<10&4294967295|x>>>22),x=V+(C^(j|~k))+D[10]+4293915773&4294967295,V=j+(x<<15&4294967295|x>>>17),x=k+(j^(V|~C))+D[1]+2240044497&4294967295,k=V+(x<<21&4294967295|x>>>11),x=C+(V^(k|~j))+D[8]+1873313359&4294967295,C=k+(x<<6&4294967295|x>>>26),x=j+(k^(C|~V))+D[15]+4264355552&4294967295,j=C+(x<<10&4294967295|x>>>22),x=V+(C^(j|~k))+D[6]+2734768916&4294967295,V=j+(x<<15&4294967295|x>>>17),x=k+(j^(V|~C))+D[13]+1309151649&4294967295,k=V+(x<<21&4294967295|x>>>11),x=C+(V^(k|~j))+D[4]+4149444226&4294967295,C=k+(x<<6&4294967295|x>>>26),x=j+(k^(C|~V))+D[11]+3174756917&4294967295,j=C+(x<<10&4294967295|x>>>22),x=V+(C^(j|~k))+D[2]+718787259&4294967295,V=j+(x<<15&4294967295|x>>>17),x=k+(j^(V|~C))+D[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+j&4294967295}i.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var k=C-this.blockSize,D=this.B,V=this.h,j=0;j<C;){if(V==0)for(;j<=k;)o(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<C;)if(D[V++]=P.charCodeAt(j++),V==this.blockSize){o(this,D),V=0;break}}else for(;j<C;)if(D[V++]=P[j++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=C},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var k=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=k&255,k/=256;for(this.u(P),P=Array(16),C=k=0;4>C;++C)for(var D=0;32>D;D+=8)P[k++]=this.g[C]>>>D&255;return P};function a(P,C){var k=d;return Object.prototype.hasOwnProperty.call(k,P)?k[P]:k[P]=C(P)}function c(P,C){this.h=C;for(var k=[],D=!0,V=P.length-1;0<=V;V--){var j=P[V]|0;D&&j==C||(k[V]=j,D=!1)}this.g=k}var d={};function p(P){return-128<=P&&128>P?a(P,function(C){return new c([C|0],0>C?-1:0)}):new c([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return E;if(0>P)return b(y(-P));for(var C=[],k=1,D=0;P>=k;D++)C[D]=P/k|0,k*=4294967296;return new c(C,0)}function _(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return b(_(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(C,8)),D=E,V=0;V<P.length;V+=8){var j=Math.min(8,P.length-V),x=parseInt(P.substring(V,V+j),C);8>j?(j=y(Math.pow(C,j)),D=D.j(j).add(y(x))):(D=D.j(k),D=D.add(y(x)))}return D}var E=p(0),S=p(1),O=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-b(this).m();for(var P=0,C=1,k=0;k<this.g.length;k++){var D=this.i(k);P+=(0<=D?D:4294967296+D)*C,C*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(F(this))return"0";if(z(this))return"-"+b(this).toString(P);for(var C=y(Math.pow(P,6)),k=this,D="";;){var V=J(k,C).g;k=Z(k,V.j(C));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(P);if(k=V,F(k))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function F(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function z(P){return P.h==-1}n.l=function(P){return P=Z(this,P),z(P)?-1:F(P)?0:1};function b(P){for(var C=P.g.length,k=[],D=0;D<C;D++)k[D]=~P.g[D];return new c(k,~P.h).add(S)}n.abs=function(){return z(this)?b(this):this},n.add=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],D=0,V=0;V<=C;V++){var j=D+(this.i(V)&65535)+(P.i(V)&65535),x=(j>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);D=x>>>16,j&=65535,x&=65535,k[V]=x<<16|j}return new c(k,k[k.length-1]&-2147483648?-1:0)};function Z(P,C){return P.add(b(C))}n.j=function(P){if(F(this)||F(P))return E;if(z(this))return z(P)?b(this).j(b(P)):b(b(this).j(P));if(z(P))return b(this.j(b(P)));if(0>this.l(O)&&0>P.l(O))return y(this.m()*P.m());for(var C=this.g.length+P.g.length,k=[],D=0;D<2*C;D++)k[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<P.g.length;V++){var j=this.i(D)>>>16,x=this.i(D)&65535,Qe=P.i(V)>>>16,ht=P.i(V)&65535;k[2*D+2*V]+=x*ht,re(k,2*D+2*V),k[2*D+2*V+1]+=j*ht,re(k,2*D+2*V+1),k[2*D+2*V+1]+=x*Qe,re(k,2*D+2*V+1),k[2*D+2*V+2]+=j*Qe,re(k,2*D+2*V+2)}for(D=0;D<C;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=C;D<2*C;D++)k[D]=0;return new c(k,0)};function re(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function G(P,C){this.g=P,this.h=C}function J(P,C){if(F(C))throw Error("division by zero");if(F(P))return new G(E,E);if(z(P))return C=J(b(P),C),new G(b(C.g),b(C.h));if(z(C))return C=J(P,b(C)),new G(b(C.g),C.h);if(30<P.g.length){if(z(P)||z(C))throw Error("slowDivide_ only works with positive integers.");for(var k=S,D=C;0>=D.l(P);)k=pe(k),D=pe(D);var V=se(k,1),j=se(D,1);for(D=se(D,2),k=se(k,2);!F(D);){var x=j.add(D);0>=x.l(P)&&(V=V.add(k),j=x),D=se(D,1),k=se(k,1)}return C=Z(P,V.j(C)),new G(V,C)}for(V=E;0<=P.l(C);){for(k=Math.max(1,Math.floor(P.m()/C.m())),D=Math.ceil(Math.log(k)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=y(k),x=j.j(C);z(x)||0<x.l(P);)k-=D,j=y(k),x=j.j(C);F(j)&&(j=S),V=V.add(j),P=Z(P,x)}return new G(V,P)}n.A=function(P){return J(this,P).h},n.and=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],D=0;D<C;D++)k[D]=this.i(D)&P.i(D);return new c(k,this.h&P.h)},n.or=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],D=0;D<C;D++)k[D]=this.i(D)|P.i(D);return new c(k,this.h|P.h)},n.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),k=[],D=0;D<C;D++)k[D]=this.i(D)^P.i(D);return new c(k,this.h^P.h)};function pe(P){for(var C=P.g.length+1,k=[],D=0;D<C;D++)k[D]=P.i(D)<<1|P.i(D-1)>>>31;return new c(k,P.h)}function se(P,C){var k=C>>5;C%=32;for(var D=P.g.length-k,V=[],j=0;j<D;j++)V[j]=0<C?P.i(j+k)>>>C|P.i(j+k+1)<<32-C:P.i(j+k);return new c(V,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,_0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,zi=c}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E0,ol,w0,dc,Uf,T0,I0,S0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tc=="object"&&tc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var U=u[I];if(!(U in v))break e;v=v[U]}u=u[u.length-1],I=v[u],m=m(I),m!=I&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,I=!1,U={next:function(){if(!I&&v<u.length){var W=v++;return{value:m(W,u[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function E(u,m,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,I),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,S.apply(null,arguments)}function O(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function F(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,U,W){for(var ie=Array(arguments.length-2),We=2;We<arguments.length;We++)ie[We-2]=arguments[We];return m.prototype[U].apply(I,ie)}}function z(u){const m=u.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=u[I];return v}return[]}function b(u,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const U=u.length||0,W=I.length||0;u.length=U+W;for(let ie=0;ie<W;ie++)u[U+ie]=I[ie]}else u.push(I)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function re(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function J(u){return J[" "](u),u}J[" "]=function(){};var pe=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function se(u,m,v){for(const I in u)m.call(v,u[I],I,u)}function P(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function C(u){const m={};for(const v in u)m[v]=u[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let v,I;for(let U=1;U<arguments.length;U++){I=arguments[U];for(v in I)u[v]=I[v];for(let W=0;W<k.length;W++)v=k[W],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function V(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function j(u){d.setTimeout(()=>{throw u},0)}function x(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Qe{constructor(){this.h=this.g=null}add(m,v){const I=ht.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var ht=new Z(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,ee=!1,me=new Qe,oe=()=>{const u=d.Promise.resolve(void 0);Ne=()=>{u.then(M)}};var M=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(v){j(v)}var m=ht;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ee=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Se(u,m){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pe){e:{try{J(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Oe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Se.aa.h.call(this)}}F(Se,ce);var Oe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function ze(u,m,v,I,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dn(u){this.src=u,this.g={},this.h=0}Dn.prototype.add=function(u,m,v,I,U){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var ie=vn(u,m,I,U);return-1<ie?(m=u[ie],v||(m.fa=!1)):(m=new ze(m,this.src,W,!!I,U),m.fa=v,u.push(m)),m};function Rr(u,m){var v=m.type;if(v in u.g){var I=u.g[v],U=Array.prototype.indexOf.call(I,m,void 0),W;(W=0<=U)&&Array.prototype.splice.call(I,U,1),W&&(ot(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function vn(u,m,v,I){for(var U=0;U<u.length;++U){var W=u[U];if(!W.da&&W.listener==m&&W.capture==!!v&&W.ha==I)return U}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),qe={};function ai(u,m,v,I,U){if(Array.isArray(m)){for(var W=0;W<m.length;W++)ai(u,m[W],v,I,U);return null}return v=fa(v),u&&u[Fe]?u.K(m,v,y(I)?!!I.capture:!!I,U):Cr(u,m,v,!1,I,U)}function Cr(u,m,v,I,U,W){if(!m)throw Error("Invalid event type");var ie=y(U)?!!U.capture:!!U,We=$s(u);if(We||(u[_n]=We=new Dn(u)),v=We.add(m,v,I,ie,W),v.proxy)return v;if(I=Fl(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)ye||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),I,U);else if(u.attachEvent)u.attachEvent(xr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fl(){function u(v){return m.call(u.src,u.listener,v)}const m=da;return u}function Bs(u,m,v,I,U){if(Array.isArray(m))for(var W=0;W<m.length;W++)Bs(u,m[W],v,I,U);else I=y(I)?!!I.capture:!!I,v=fa(v),u&&u[Fe]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],v=vn(W,v,I,U),-1<v&&(ot(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=$s(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vn(m,v,I,U)),(v=-1<u?m[u]:null)&&Ar(v))}function Ar(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Fe])Rr(m.i,u);else{var v=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(v,I,u.capture):m.detachEvent?m.detachEvent(xr(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=$s(m))?(Rr(v,u),v.h==0&&(v.src=null,m[_n]=null)):ot(u)}}}function xr(u){return u in qe?qe[u]:qe[u]="on"+u}function da(u,m){if(u.da)u=!0;else{m=new Se(m,this);var v=u.listener,I=u.ha||u.src;u.fa&&Ar(u),u=v.call(I,m)}return u}function $s(u){return u=u[_n],u instanceof Dn?u:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function fa(u){return typeof u=="function"?u:(u[zs]||(u[zs]=function(m){return u.handleEvent(m)}),u[zs])}function gt(){q.call(this),this.i=new Dn(this),this.M=this,this.F=null}F(gt,q),gt.prototype[Fe]=!0,gt.prototype.removeEventListener=function(u,m,v,I){Bs(this,u,m,v,I)};function yt(u,m){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new ce(m,u);else if(m instanceof ce)m.target=m.target||u;else{var U=m;m=new ce(I,u),D(m,U)}if(U=!0,v)for(var W=v.length-1;0<=W;W--){var ie=m.g=v[W];U=kr(ie,I,!0,m)&&U}if(ie=m.g=u,U=kr(ie,I,!0,m)&&U,U=kr(ie,I,!1,m)&&U,v)for(W=0;W<v.length;W++)ie=m.g=v[W],U=kr(ie,I,!1,m)&&U}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],I=0;I<v.length;I++)ot(v[I]);delete u.g[m],u.h--}}this.F=null},gt.prototype.K=function(u,m,v,I){return this.i.add(String(u),m,!1,v,I)},gt.prototype.L=function(u,m,v,I){return this.i.add(String(u),m,!0,v,I)};function kr(u,m,v,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,W=0;W<m.length;++W){var ie=m[W];if(ie&&!ie.da&&ie.capture==v){var We=ie.listener,vt=ie.ha||ie.src;ie.fa&&Rr(u.i,ie),U=We.call(vt,I)!==!1&&U}}return U&&!I.defaultPrevented}function pa(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function li(u){u.g=pa(()=>{u.g=null,u.i&&(u.i=!1,li(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ts extends q{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:li(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(u){q.call(this),this.h=u,this.g={}}F(ns,q);var ma=[];function ga(u){se(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ar(m)},u),u.g={}}ns.prototype.N=function(){ns.aa.N.call(this),ga(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ya=d.JSON.stringify,va=d.JSON.parse,_a=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function rs(){}rs.prototype.h=null;function Hs(u){return u.h||(u.h=u.i())}function Ws(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){ce.call(this,"d")}F(er,ce);function qs(){ce.call(this,"c")}F(qs,ce);var tr={},Ea=null;function is(){return Ea=Ea||new gt}tr.La="serverreachability";function wa(u){ce.call(this,tr.La,u)}F(wa,ce);function Pr(u){const m=is();yt(m,new wa(m))}tr.STAT_EVENT="statevent";function Ta(u,m){ce.call(this,tr.STAT_EVENT,u),this.stat=m}F(Ta,ce);function lt(u){const m=is();yt(m,new Ta(m,u))}tr.Ma="timingevent";function Ks(u,m){ce.call(this,tr.Ma,u),this.size=m}F(Ks,ce);function bn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ss(){this.g=!0}ss.prototype.xa=function(){this.g=!1};function os(u,m,v,I,U,W){u.info(function(){if(u.g)if(W)for(var ie="",We=W.split("&"),vt=0;vt<We.length;vt++){var Me=We[vt].split("=");if(1<Me.length){var St=Me[0];Me=Me[1];var dt=St.split("_");ie=2<=dt.length&&dt[1]=="type"?ie+(St+"="+Me+"&"):ie+(St+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+I+") [attempt "+U+"]: "+m+`
`+v+`
`+ie})}function Gs(u,m,v,I,U,W,ie){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+U+"]: "+m+`
`+v+`
`+W+" "+ie})}function Ln(u,m,v,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nh(u,v)+(I?" "+I:"")})}function Ia(u,m){u.info(function(){return"TIMEOUT: "+m})}ss.prototype.info=function(){};function Nh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var U=I[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return ya(v)}catch{return m}}var Qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ul={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vn;function as(){}F(as,rs),as.prototype.g=function(){return new XMLHttpRequest},as.prototype.i=function(){return{}},Vn=new as;function Mn(u,m,v,I){this.j=u,this.i=m,this.l=v,this.R=I||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bl}function Bl(){this.i=null,this.g="",this.h=!1}var Sa={},Xs={};function Ys(u,m,v){u.L=1,u.v=fi(hn(m)),u.m=v,u.P=!0,Ra(u,null)}function Ra(u,m){u.F=Date.now(),Xe(u),u.A=hn(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),mi(v.i,"t",I),u.C=0,v=u.j.J,u.h=new Bl,u.g=su(u.j,v?m:null,!u.m),0<u.O&&(u.M=new ts(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,I=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(ma[0]=U.toString()),U=ma);for(var W=0;W<U.length;W++){var ie=ai(v,U[W],I||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pr(),os(u.i,u.u,u.A,u.l,u.R,u.m)}Mn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Zt(u)==3?m.j():this.Y(u)},Mn.prototype.Y=function(u){try{if(u==this.g)e:{const dt=Zt(this.g);var m=this.g.Ba();const In=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||Na(this.g)))){this.J||dt!=4||m==7||(m==8||0>=In?Pr(3):Pr(2)),ls(this);var v=this.g.Z();this.X=v;t:if($l(this)){var I=Na(this.g);u="";var U=I.length,W=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),ui(this);var ie="";break t}this.h.i=new d.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(W&&m==U-1)});I.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Gs(this.i,this.u,this.A,this.l,this.R,dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var We,vt=this.g;if((We=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(We)){var Me=We;break t}}Me=null}if(v=Me)Ln(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ca(this,v);else{this.o=!1,this.s=3,lt(12),wn(this),ui(this);break e}}if(this.P){v=!0;let fn;for(;!this.J&&this.C<ie.length;)if(fn=Oh(this,ie),fn==Xs){dt==4&&(this.s=4,lt(14),v=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Sa){this.s=4,lt(15),Ln(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Ln(this.i,this.l,fn,null),Ca(this,fn);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||ie.length!=0||this.h.h||(this.s=1,lt(16),v=!1),this.o=this.o&&v,!v)Ln(this.i,this.l,ie,"[Invalid Chunked Response]"),wn(this),ui(this);else if(0<ie.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Da(St),St.M=!0,lt(11))}}else Ln(this.i,this.l,ie,null),Ca(this,ie);dt==4&&wn(this),this.o&&!this.J&&(dt==4?lo(this.j,this):(this.o=!1,Xe(this)))}else ro(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),wn(this),ui(this)}}}catch{}finally{}};function $l(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Oh(u,m){var v=u.C,I=m.indexOf(`
`,v);return I==-1?Xs:(v=Number(m.substring(v,I)),isNaN(v)?Sa:(I+=1,I+v>m.length?Xs:(m=m.slice(I,I+v),u.C=I+v,m)))}Mn.prototype.cancel=function(){this.J=!0,wn(this)};function Xe(u){u.S=Date.now()+u.I,zl(u,u.I)}function zl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=bn(S(u.ba,u),m)}function ls(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Mn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ia(this.i,this.A),this.L!=2&&(Pr(),lt(17)),wn(this),this.s=2,ui(this)):zl(this,this.S-u)};function ui(u){u.j.G==0||u.J||lo(u.j,u)}function wn(u){ls(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ga(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ca(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Gt(v.h,u))){if(!u.K&&Gt(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var U=I;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ao(v),$n(v);else break e;oo(v),lt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=bn(S(v.Za,v),6e3));if(1>=Wl(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Lr(v,11)}else if((u.K||v.g==u)&&ao(v),!re(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Me=U[m];if(v.T=Me[0],Me=Me[1],v.G==2)if(Me[0]=="c"){v.K=Me[1],v.ia=Me[2];const St=Me[3];St!=null&&(v.la=St,v.j.info("VER="+v.la));const dt=Me[4];dt!=null&&(v.Aa=dt,v.j.info("SVER="+v.Aa));const In=Me[5];In!=null&&typeof In=="number"&&0<In&&(I=1.5*In,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const fn=u.g;if(fn){const ms=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var W=I.h;W.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Aa(W,W.h),W.h=null))}if(I.D){const co=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;co&&(I.ya=co,Ge(I.I,I.D,co))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ie=u;if(I.qa=iu(I,I.J?I.ia:null,I.W),ie.K){ql(I.h,ie);var We=ie,vt=I.L;vt&&(We.I=vt),We.B&&(ls(We),Xe(We)),I.g=ie}else ps(I);0<v.i.length&&sr(v)}else Me[0]!="stop"&&Me[0]!="close"||Lr(v,7);else v.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Lr(v,7):Nt(v):Me[0]!="noop"&&v.l&&v.l.ta(Me),v.v=0)}}Pr(4)}catch{}}var Hl=class{constructor(u,m){this.g=u,this.map=m}};function us(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wl(u){return u.h?1:u.g?u.g.size:0}function Gt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Aa(u,m){u.g?u.g.add(m):u.h=m}function ql(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}us.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Kl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return z(u.i)}function Js(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,I=0;I<v;I++)m.push(u[I]);return m}m=[],v=0;for(I in u)m[v++]=u[I];return m}function Zs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const I in u)m[v++]=I;return m}}}function ci(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Zs(u),I=Js(u),U=I.length,W=0;W<U;W++)m.call(void 0,I[W],v&&v[W],u)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),U=null;if(0<=I){var W=u[v].substring(0,I);U=u[v].substring(I+1)}else W=u[v];m(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Nr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Nr){this.h=u.h,hs(this,u.j),this.o=u.o,this.g=u.g,hi(this,u.s),this.l=u.l;var m=u.i,v=new nr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),di(this,v),this.m=u.m}else u&&(m=String(u).match(cs))?(this.h=!1,hs(this,m[1]||"",!0),this.o=Ve(m[2]||""),this.g=Ve(m[3]||"",!0),hi(this,m[4]),this.l=Ve(m[5]||"",!0),di(this,m[6]||"",!0),this.m=Ve(m[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}Nr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(pi(m,eo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(pi(m,eo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(pi(v,v.charAt(0)=="/"?Xl:Ql,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",pi(v,xa)),u.join("")};function hn(u){return new Nr(u)}function hs(u,m,v){u.j=v?Ve(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function di(u,m,v){m instanceof nr?(u.i=m,rr(u.i,u.h)):(v||(m=pi(m,Yl)),u.i=new nr(m,u.h))}function Ge(u,m,v){u.i.set(m,v)}function fi(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ve(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Gl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Gl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var eo=/[#\/\?@]/g,Ql=/[#\?:]/g,Xl=/[#\?]/g,Yl=/[#\?@]/g,xa=/#/g;function nr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Pt(u){u.g||(u.g=new Map,u.h=0,u.i&&Dh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=nr.prototype,n.add=function(u,m){Pt(this),this.i=null,u=Tn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function jn(u,m){Pt(u),m=Tn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fn(u,m){return Pt(u),m=Tn(u,m),u.g.has(m)}n.forEach=function(u,m){Pt(this),this.g.forEach(function(v,I){v.forEach(function(U){u.call(m,U,I,this)},this)},this)},n.na=function(){Pt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const U=u[I];for(let W=0;W<U.length;W++)v.push(m[I])}return v},n.V=function(u){Pt(this);let m=[];if(typeof u=="string")Fn(this,u)&&(m=m.concat(this.g.get(Tn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Pt(this),this.i=null,u=Tn(this,u),Fn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function mi(u,m,v){jn(u,m),0<v.length&&(u.i=null,u.g.set(Tn(u,m),z(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const W=encodeURIComponent(String(I)),ie=this.V(I);for(I=0;I<ie.length;I++){var U=W;ie[I]!==""&&(U+="="+encodeURIComponent(String(ie[I]))),u.push(U)}}return this.i=u.join("&")};function Tn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function rr(u,m){m&&!u.j&&(Pt(u),u.i=null,u.g.forEach(function(v,I){var U=I.toLowerCase();I!=U&&(jn(this,I),mi(this,U,v))},u)),u.j=m}function bh(u,m){const v=new ss;if(d.Image){const I=new Image;I.onload=O(Jt,v,"TestLoadImage: loaded",!0,m,I),I.onerror=O(Jt,v,"TestLoadImage: error",!1,m,I),I.onabort=O(Jt,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=O(Jt,v,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Jl(u,m){const v=new ss,I=new AbortController,U=setTimeout(()=>{I.abort(),Jt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(W=>{clearTimeout(U),W.ok?Jt(v,"TestPingServer: ok",!0,m):Jt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Jt(v,"TestPingServer: error",!1,m)})}function Jt(u,m,v,I,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),I(v)}catch{}}function Lh(){this.g=new _a}function Zl(u,m,v){const I=v||"";try{ci(u,function(U,W){let ie=U;y(U)&&(ie=ya(U)),m.push(I+W+"="+encodeURIComponent(ie))})}catch(U){throw m.push(I+"type="+encodeURIComponent("_badmap")),U}}function Or(u){this.l=u.Ub||null,this.j=u.eb||!1}F(Or,rs),Or.prototype.g=function(){return new ds(this.l,this.j)},Or.prototype.i=function(u){return function(){return u}}({});function ds(u,m){gt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(ds,gt),n=ds.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Bn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Un(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function eu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Un(this):Bn(this),this.readyState==3&&eu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Un(this))},n.Qa=function(u){this.g&&(this.response=u,Un(this))},n.ga=function(){this.g&&Un(this)};function Un(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Bn(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dr(u){let m="";return se(u,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function gi(u,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Dr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ge(u,m,v))}function et(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(et,gt);var Vh=/^https?$/i,ka=["POST","PUT"];n=et.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vn.g(),this.v=this.o?Hs(this.o):Hs(Vn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){fs(this,W);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var U in I)v.set(U,I[U]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())v.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ka,m,void 0))||I||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of v)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{no(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){fs(this,W)}};function fs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,to(u),dn(u)}function to(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),dn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},n.bb=function(){Pa(this)};function Pa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Zt(u)!=4||u.Z()!=2)){if(u.u&&Zt(u)==4)pa(u.Ea,0,u);else if(yt(u,"readystatechange"),Zt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=ie===0){var U=String(u.D).match(cs)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),I=!Vh.test(U?U.toLowerCase():"")}v=I}if(v)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var W=2<Zt(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",to(u)}}finally{dn(u)}}}}function dn(u,m){if(u.g){no(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||yt(u,"ready");try{v.onreadystatechange=I}catch{}}}function no(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Zt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),va(m)}};function Na(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ro(u){const m={};u=(u.g&&2<=Zt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(re(u[I]))continue;var v=V(u[I]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=m[U]||[];m[U]=W,W.push(v)}P(m,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Oa(u){this.Aa=0,this.i=[],this.j=new ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,u),this.cb=ir("retryDelaySeedMs",1e4,u),this.Wa=ir("forwardChannelMaxRetries",2,u),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new us(u&&u.concurrentRequestLimit),this.Da=new Lh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Oa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,I){lt(0),this.W=u,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=iu(this,null,this.W),sr(this)};function Nt(u){if(io(u),u.G==3){var m=u.U++,v=hn(u.I);if(Ge(v,"SID",u.K),Ge(v,"RID",m),Ge(v,"TYPE","terminate"),br(u,v),m=new Mn(u,u.j,m),m.L=2,m.v=fi(hn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Xe(m)}ru(u)}function $n(u){u.g&&(Da(u),u.g.cancel(),u.g=null)}function io(u){$n(u),u.u&&(d.clearTimeout(u.u),u.u=null),ao(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function sr(u){if(!cn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ne||oe(),ee||(Ne(),ee=!0),me.add(m,u),u.B=0}}function Mh(u,m){return Wl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=bn(S(u.Ga,u,m),nu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Mn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=C(W),D(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=yi(this,U,m),v=hn(this.I),Ge(v,"RID",u),Ge(v,"CVER",22),this.D&&Ge(v,"X-HTTP-Session-Id",this.D),br(this,v),W&&(this.O?m="headers="+encodeURIComponent(String(Dr(W)))+"&"+m:this.m&&gi(v,this.m,W)),Aa(this.h,U),this.Ua&&Ge(v,"TYPE","init"),this.P?(Ge(v,"$req",m),Ge(v,"SID","null"),U.T=!0,Ys(U,v,null)):Ys(U,v,m),this.G=2}}else this.G==3&&(u?so(this,u):this.i.length==0||cn(this.h)||so(this))};function so(u,m){var v;m?v=m.l:v=u.U++;const I=hn(u.I);Ge(I,"SID",u.K),Ge(I,"RID",v),Ge(I,"AID",u.T),br(u,I),u.m&&u.o&&gi(I,u.m,u.o),v=new Mn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=yi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Aa(u.h,v),Ys(v,I,m)}function br(u,m){u.H&&se(u.H,function(v,I){Ge(m,I,v)}),u.l&&ci({},function(v,I){Ge(m,I,v)})}function yi(u,m,v){v=Math.min(u.i.length,v);var I=u.l?S(u.l.Na,u.l,u):null;e:{var U=u.i;let W=-1;for(;;){const ie=["count="+v];W==-1?0<v?(W=U[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let We=!0;for(let vt=0;vt<v;vt++){let Me=U[vt].g;const St=U[vt].map;if(Me-=W,0>Me)W=Math.max(0,U[vt].g-100),We=!1;else try{Zl(St,ie,"req"+Me+"_")}catch{I&&I(St)}}if(We){I=ie.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,I}function ps(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ne||oe(),ee||(Ne(),ee=!0),me.add(m,u),u.v=0}}function oo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=bn(S(u.Fa,u),nu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=bn(S(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),$n(this),tu(this))};function Da(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function tu(u){u.g=new Mn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=hn(u.qa);Ge(m,"RID","rpc"),Ge(m,"SID",u.K),Ge(m,"AID",u.T),Ge(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(m,"TO",u.ja),Ge(m,"TYPE","xmlhttp"),br(u,m),u.m&&u.o&&gi(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=fi(hn(m)),v.m=null,v.P=!0,Ra(v,u)}n.Za=function(){this.C!=null&&(this.C=null,$n(this),oo(this),lt(19))};function ao(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function lo(u,m){var v=null;if(u.g==m){ao(u),Da(u),u.g=null;var I=2}else if(Gt(u.h,m))v=m.D,ql(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;I=is(),yt(I,new Ks(I,v)),sr(u)}else ps(u);else if(U=m.s,U==3||U==0&&0<m.X||!(I==1&&Mh(u,m)||I==2&&oo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Lr(u,5);break;case 4:Lr(u,10);break;case 3:Lr(u,6);break;default:Lr(u,2)}}}function nu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Lr(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),I=u.Xa;const U=!I;I=new Nr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||hs(I,"https"),fi(I),U?bh(I.toString(),v):Jl(I.toString(),v)}else lt(2);u.G=0,u.l&&u.l.sa(m),ru(u),io(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const m=Kl(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function iu(u,m,v){var I=v instanceof Nr?hn(v):new Nr(v);if(I.g!="")m&&(I.g=m+"."+I.g),hi(I,I.s);else{var U=d.location;I=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var W=new Nr(null);I&&hs(W,I),m&&(W.g=m),U&&hi(W,U),v&&(W.l=v),I=W}return v=u.D,m=u.ya,v&&m&&Ge(I,v,m),Ge(I,"VER",u.la),br(u,I),I}function su(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new et(new Or({eb:v})):new et(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ba(){}n=ba.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function uo(){}uo.prototype.g=function(u,m){return new Qt(u,m)};function Qt(u,m){gt.call(this),this.g=new Oa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!re(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!re(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new or(this)}F(Qt,gt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Nt(this.g)},Qt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ya(u),u=v);m.i.push(new Hl(m.Ya++,u)),m.G==3&&sr(m)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Qt.aa.N.call(this)};function ou(u){er.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(ou,er);function au(){qs.call(this),this.status=1}F(au,qs);function or(u){this.g=u}F(or,ba),or.prototype.ua=function(){yt(this.g,"a")},or.prototype.ta=function(u){yt(this.g,new ou(u))},or.prototype.sa=function(u){yt(this.g,new au)},or.prototype.ra=function(){yt(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,S0=function(){return new uo},I0=function(){return is()},T0=tr,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,dc=Qs,Ul.COMPLETE="complete",w0=Ul,Ws.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",gt.prototype.listen=gt.prototype.K,ol=Ws,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,E0=et}).apply(typeof tc<"u"?tc:typeof self<"u"?self:typeof window<"u"?window:{});const dv="@firebase/firestore",fv="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new yp("@firebase/firestore");function bo(){return bs.logLevel}function le(n,...e){if(bs.logLevel<=De.DEBUG){const t=e.map(Ep);bs.debug(`Firestore (${na}): ${n}`,...t)}}function ni(n,...e){if(bs.logLevel<=De.ERROR){const t=e.map(Ep);bs.error(`Firestore (${na}): ${n}`,...t)}}function Wo(n,...e){if(bs.logLevel<=De.WARN){const t=e.map(Ep);bs.warn(`Firestore (${na}): ${n}`,...t)}}function Ep(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n="Unexpected state"){const e=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+n;throw ni(e),new Error(e)}function He(n,e){n||Te()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class $R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zR{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yr,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(He(typeof i.accessToken=="string"),new R0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Ht(e)}}class HR{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WR{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new HR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qR{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Nn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){He(this.o===void 0);const i=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new pv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string"),this.R=t.token,new pv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=KR(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function be(n,e){return n<e?-1:n>e?1:0}function $f(n,e){const t=Bf().encode(n),i=Bf().encode(e);for(let o=0;o<Math.min(t.length,i.length);o++){const a=be(t[o],i[o]);if(a!==0)return a}return be(t.length,i.length)}function qo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=-62135596800,gv=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*gv);return new Tt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mv)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gv}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Tt(0,0))}static max(){return new Ce(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="__name__";class hr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Te(),i===void 0?i=e.length-t:i>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=hr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return be(e.length,t.length)}static compareSegments(e,t){const i=hr.isNumericId(e),o=hr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?hr.extractNumericId(e).compare(hr.extractNumericId(t)):$f(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zi.fromString(e.substring(4,e.length-2))}}class nt extends hr{construct(e,t,i){return new nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const GR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends hr{construct(e,t,i){return new Lt(e,t,i)}static isValidIdentifier(e){return GR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new Lt([yv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ge(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new ge(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(t)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(nt.fromString(e))}static fromName(e){return new Ee(nt.fromString(e).popFirst(5))}static empty(){return new Ee(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=-1;function QR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new Tt(t+1,0):new Tt(t,i));return new qi(o,Ee.empty(),e)}function XR(n){return new qi(n.readTime,n.key,_l)}class qi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new qi(Ce.min(),Ee.empty(),_l)}static max(){return new qi(Ce.max(),Ee.empty(),_l)}}function YR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==JR)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,i)=>{t(e)})}static reject(e){return new K((t,i)=>{i(e)})}static waitFor(e){return new K((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next(o=>o?K.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new K((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(_=>{c[y]=_,++d,d===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new K((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function eC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ia(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function ih(n){return n==null}function Cc(n){return n===0&&1/n==-1/0}function tC(n){return typeof n=="number"&&Number.isInteger(n)&&!Cc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="";function nC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vv(e)),e=rC(n.get(t),e);return vv(e)}function rC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case A0:t+="";break;default:t+=a}}return t}function vv(n){return n+A0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function x0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||bt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??bt.RED,this.left=o??bt.EMPTY,this.right=a??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new bt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return bt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,i,o,a){return this}insert(e,t,i){return new bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ev(this.data.getIterator())}getIteratorFrom(e){return new Ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new yn([])}unionWith(e){let t=new It(Lt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new k0("Invalid base64 string: "+a):a}}(e);return new Mt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const iC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(n){if(He(!!n),typeof n=="string"){let e=0;const t=iC.exec(n);if(He(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gi(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="server_timestamp",N0="__type__",O0="__previous_value__",D0="__local_write_time__";function Tp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[N0])===null||t===void 0?void 0:t.stringValue)===P0}function sh(n){const e=n.mapValue.fields[O0];return Tp(e)?sh(e):e}function El(n){const e=Ki(n.mapValue.fields[D0].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,i,o,a,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}const Ac="(default)";class wl{constructor(e,t){this.projectId=e,this.database=t||Ac}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="__type__",L0="__max__",rc={mapValue:{fields:{__type__:{stringValue:L0}}}},V0="__vector__",xc="value";function Qi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tp(n)?4:aC(n)?9007199254740991:oC(n)?10:11:Te()}function yr(n,e){if(n===e)return!0;const t=Qi(n);if(t!==Qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return El(n).isEqual(El(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ki(o.timestampValue),d=Ki(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Gi(o.bytesValue).isEqual(Gi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ct(o.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ct(o.integerValue)===ct(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=ct(o.doubleValue),d=ct(a.doubleValue);return c===d?Cc(c)===Cc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return qo(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(_v(c)!==_v(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!yr(c[p],d[p])))return!1;return!0}(n,e);default:return Te()}}function Tl(n,e){return(n.values||[]).find(t=>yr(t,e))!==void 0}function Ko(n,e){if(n===e)return 0;const t=Qi(n),i=Qi(e);if(t!==i)return be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=ct(a.integerValue||a.doubleValue),p=ct(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return wv(n.timestampValue,e.timestampValue);case 4:return wv(El(n),El(e));case 5:return $f(n.stringValue,e.stringValue);case 6:return function(a,c){const d=Gi(a),p=Gi(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const _=be(d[y],p[y]);if(_!==0)return _}return be(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=be(ct(a.latitude),ct(c.latitude));return d!==0?d:be(ct(a.longitude),ct(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Tv(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,y,_;const E=a.fields||{},S=c.fields||{},O=(d=E[xc])===null||d===void 0?void 0:d.arrayValue,F=(p=S[xc])===null||p===void 0?void 0:p.arrayValue,z=be(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:Tv(O,F)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===rc.mapValue&&c===rc.mapValue)return 0;if(a===rc.mapValue)return 1;if(c===rc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const S=$f(p[E],_[E]);if(S!==0)return S;const O=Ko(d[p[E]],y[_[E]]);if(O!==0)return O}return be(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Te()}}function wv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);const t=Ki(n),i=Ki(e),o=be(t.seconds,i.seconds);return o!==0?o:be(t.nanos,i.nanos)}function Tv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Ko(t[o],i[o]);if(a)return a}return be(t.length,i.length)}function Go(n){return zf(n)}function zf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ki(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=zf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${zf(t.fields[c])}`;return o+"}"}(n.mapValue):Te()}function fc(n){switch(Qi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sh(n);return e?16+fc(e):16;case 5:return 2*n.stringValue.length;case 6:return Gi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+fc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Zi(i.fields,(a,c)=>{o+=a.length+fc(c)}),o}(n.mapValue);default:throw Te()}}function Hf(n){return!!n&&"integerValue"in n}function Ip(n){return!!n&&"arrayValue"in n}function Iv(n){return!!n&&"nullValue"in n}function Sv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pc(n){return!!n&&"mapValue"in n}function oC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[b0])===null||t===void 0?void 0:t.stringValue)===V0}function hl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=hl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===L0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(t)}setAll(e){let t=Lt.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=hl(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Zi(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new ln(hl(this.value))}}function M0(n){const e=[];return Zi(n.fields,(t,i)=>{const o=new Lt([t]);if(pc(i)){const a=M0(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Wt(e,0,Ce.min(),Ce.min(),Ce.min(),ln.empty(),0)}static newFoundDocument(e,t,i,o){return new Wt(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Ce.min(),Ce.min(),ln.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Ce.min(),Ce.min(),ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t){this.position=e,this.inclusive=t}}function Rv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),t.key):i=Ko(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Cv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function lC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{}class wt extends j0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new cC(e,t,i):t==="array-contains"?new fC(e,i):t==="in"?new pC(e,i):t==="not-in"?new mC(e,i):t==="array-contains-any"?new gC(e,i):new wt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new hC(e,i):new dC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ko(t,this.value)):t!==null&&Qi(this.value)===Qi(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends j0{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new vr(e,t)}matches(e){return F0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function F0(n){return n.op==="and"}function U0(n){return uC(n)&&F0(n)}function uC(n){for(const e of n.filters)if(e instanceof vr)return!1;return!0}function Wf(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+Go(n.value);if(U0(n))return n.filters.map(e=>Wf(e)).join(",");{const e=n.filters.map(t=>Wf(t)).join(",");return`${n.op}(${e})`}}function B0(n,e){return n instanceof wt?function(i,o){return o instanceof wt&&i.op===o.op&&i.field.isEqual(o.field)&&yr(i.value,o.value)}(n,e):n instanceof vr?function(i,o){return o instanceof vr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&B0(c,o.filters[d]),!0):!1}(n,e):void Te()}function $0(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${Go(t.value)}`}(n):n instanceof vr?function(t){return t.op.toString()+" {"+t.getFilters().map($0).join(" ,")+"}"}(n):"Filter"}class cC extends wt{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class hC extends wt{constructor(e,t){super(e,"in",t),this.keys=z0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dC extends wt{constructor(e,t){super(e,"not-in",t),this.keys=z0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function z0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class fC extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ip(t)&&Tl(t.arrayValue,this.value)}}class pC extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tl(this.value.arrayValue,t)}}class mC extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Tl(this.value.arrayValue,t)}}class gC extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ip(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Tl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.le=null}}function Av(n,e=null,t=[],i=[],o=null,a=null,c=null){return new yC(n,e,t,i,o,a,c)}function Sp(n){const e=Ae(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Wf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Go(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Go(i)).join(",")),e.le=t}return e.le}function Rp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!B0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cv(n.startAt,e.startAt)&&Cv(n.endAt,e.endAt)}function qf(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function vC(n,e,t,i,o,a,c,d){return new oh(n,e,t,i,o,a,c,d)}function Cp(n){return new oh(n)}function xv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _C(n){return n.collectionGroup!==null}function dl(n){const e=Ae(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new It(Lt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Pc(a,i))}),t.has(Lt.keyField().canonicalString())||e.he.push(new Pc(Lt.keyField(),i))}return e.he}function pr(n){const e=Ae(n);return e.Pe||(e.Pe=EC(e,dl(n))),e.Pe}function EC(n,e){if(n.limitType==="F")return Av(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Pc(o.field,a)});const t=n.endAt?new kc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new kc(n.startAt.position,n.startAt.inclusive):null;return Av(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Kf(n,e,t){return new oh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ah(n,e){return Rp(pr(n),pr(e))&&n.limitType===e.limitType}function H0(n){return`${Sp(pr(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>$0(o)).join(", ")}]`),ih(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Go(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Go(o)).join(",")),`Target(${i})`}(pr(n))}; limitType=${n.limitType})`}function lh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ee.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of dl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=Rv(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,dl(i),o)||i.endAt&&!function(c,d,p){const y=Rv(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,dl(i),o))}(n,e)}function wC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function W0(n){return(e,t)=>{let i=!1;for(const o of dl(n)){const a=TC(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function TC(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),y=d.data.field(a);return p!==null&&y!==null?Ko(p,y):Te()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return x0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new st(Ee.comparator);function ri(){return IC}const q0=new st(Ee.comparator);function al(...n){let e=q0;for(const t of n)e=e.insert(t.key,t);return e}function K0(n){let e=q0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ps(){return fl()}function G0(){return fl()}function fl(){return new Fs(n=>n.toString(),(n,e)=>n.isEqual(e))}const SC=new st(Ee.comparator),RC=new It(Ee.comparator);function Le(...n){let e=RC;for(const t of n)e=e.add(t);return e}const CC=new It(be);function AC(){return CC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function Q0(n){return{integerValue:""+n}}function xC(n,e){return tC(e)?Q0(e):Ap(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function kC(n,e,t){return n instanceof Il?function(o,a){const c={fields:{[N0]:{stringValue:P0},[D0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Tp(a)&&(a=sh(a)),a&&(c.fields[O0]=a),{mapValue:c}}(t,e):n instanceof Qo?Y0(n,e):n instanceof Xo?J0(n,e):function(o,a){const c=X0(o,a),d=kv(c)+kv(o.Ie);return Hf(c)&&Hf(o.Ie)?Q0(d):Ap(o.serializer,d)}(n,e)}function PC(n,e,t){return n instanceof Qo?Y0(n,e):n instanceof Xo?J0(n,e):t}function X0(n,e){return n instanceof Nc?function(i){return Hf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Il extends uh{}class Qo extends uh{constructor(e){super(),this.elements=e}}function Y0(n,e){const t=Z0(e);for(const i of n.elements)t.some(o=>yr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Xo extends uh{constructor(e){super(),this.elements=e}}function J0(n,e){let t=Z0(e);for(const i of n.elements)t=t.filter(o=>!yr(o,i));return{arrayValue:{values:t}}}class Nc extends uh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function kv(n){return ct(n.integerValue||n.doubleValue)}function Z0(n){return Ip(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t){this.field=e,this.transform=t}}function NC(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Qo&&o instanceof Qo||i instanceof Xo&&o instanceof Xo?qo(i.elements,o.elements,yr):i instanceof Nc&&o instanceof Nc?yr(i.Ie,o.Ie):i instanceof Il&&o instanceof Il}(n.transform,e.transform)}class OC{constructor(e,t){this.version=e,this.transformResults=t}}class Yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ch{}function eE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new nE(n.key,Yn.none()):new kl(n.key,n.data,Yn.none());{const t=n.data,i=ln.empty();let o=new It(Lt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new es(n.key,i,new yn(o.toArray()),Yn.none())}}function DC(n,e,t){n instanceof kl?function(o,a,c){const d=o.value.clone(),p=Nv(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof es?function(o,a,c){if(!mc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=Nv(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(tE(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function pl(n,e,t,i){return n instanceof kl?function(a,c,d,p){if(!mc(a.precondition,c))return d;const y=a.value.clone(),_=Ov(a.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof es?function(a,c,d,p){if(!mc(a.precondition,c))return d;const y=Ov(a.fieldTransforms,p,c),_=c.data;return _.setAll(tE(a)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,c,d){return mc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function bC(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=X0(i.transform,o||null);a!=null&&(t===null&&(t=ln.empty()),t.set(i.field,a))}return t||null}function Pv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&qo(i,o,(a,c)=>NC(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class kl extends ch{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class es extends ch{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Nv(n,e,t){const i=new Map;He(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,PC(c,d,t[o]))}return i}function Ov(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,kC(a,c,e))}return i}class nE extends ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LC extends ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&DC(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=G0();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=eE(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(t,i)=>Pv(t,i))&&qo(this.baseMutations,e.baseMutations,(t,i)=>Pv(t,i))}}class kp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){He(e.mutations.length===i.length);let o=function(){return SC}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new kp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,je;function FC(n){switch(n){case Y.OK:return Te();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Te()}}function rE(n){if(n===void 0)return ni("GRPC error has no .code"),Y.UNKNOWN;switch(n){case pt.OK:return Y.OK;case pt.CANCELLED:return Y.CANCELLED;case pt.UNKNOWN:return Y.UNKNOWN;case pt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case pt.INTERNAL:return Y.INTERNAL;case pt.UNAVAILABLE:return Y.UNAVAILABLE;case pt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case pt.NOT_FOUND:return Y.NOT_FOUND;case pt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case pt.ABORTED:return Y.ABORTED;case pt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case pt.DATA_LOSS:return Y.DATA_LOSS;default:return Te()}}(je=pt||(pt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new zi([4294967295,4294967295],0);function Dv(n){const e=Bf().encode(n),t=new _0;return t.update(e),new Uint8Array(t.digest())}function bv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new zi([t,i],0),new zi([o,a],0)]}class Pp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ll(`Invalid padding: ${t}`);if(i<0)throw new ll(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ll(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=zi.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(zi.fromNumber(i)));return o.compare(UC)===1&&(o=new zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Dv(e),[i,o]=bv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ae(i,o,a);if(!this.Re(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Pp(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=Dv(e),[i,o]=bv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ae(i,o,a);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new hh(Ce.min(),o,new st(be),ri(),Le())}}class Pl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Pl(i,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class iE{constructor(e,t){this.targetId=e,this.ge=t}}class sE{constructor(e,t,i=Mt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Lv{constructor(){this.pe=0,this.ye=Vv(),this.we=Mt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),t=Le(),i=Le();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Te()}}),new Pl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=Vv()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,He(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class BC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ri(),this.$e=ic(),this.Ue=ic(),this.Ke=new st(be)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(qf(a))if(i===0){const c=new Ee(a.path);this.ze(t,c,Wt.newNoDocument(c,Ce.min()))}else He(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=Gi(i).toUint8Array()}catch(p){if(p instanceof k0)return Wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Pp(c,o,a)}catch(p){return Wo(p instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,c)=>{const d=this.Xe(c);if(d){if(a.current&&qf(d.target)){const p=new Ee(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,Wt.newNoDocument(p,e))}a.ve&&(t.set(c,a.Fe()),a.Me())}});let i=Le();this.Ue.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.Qe.forEach((a,c)=>c.setReadTime(e));const o=new hh(e,t,this.Ke,this.Qe,i);return this.Qe=ri(),this.$e=ic(),this.Ue=ic(),this.Ke=new st(be),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Lv,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new It(be),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new It(be),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Lv),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ic(){return new st(Ee.comparator)}function Vv(){return new st(Ee.comparator)}const $C={asc:"ASCENDING",desc:"DESCENDING"},zC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HC={and:"AND",or:"OR"};class WC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gf(n,e){return n.useProto3Json||ih(e)?e:{value:e}}function Oc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qC(n,e){return Oc(n,e.toTimestamp())}function mr(n){return He(!!n),Ce.fromTimestamp(function(t){const i=Ki(t);return new Tt(i.seconds,i.nanos)}(n))}function Np(n,e){return Qf(n,e).canonicalString()}function Qf(n,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function aE(n){const e=nt.fromString(n);return He(dE(e)),e}function Xf(n,e){return Np(n.databaseId,e.path)}function mf(n,e){const t=aE(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(uE(t))}function lE(n,e){return Np(n.databaseId,e)}function KC(n){const e=aE(n);return e.length===4?nt.emptyPath():uE(e)}function Yf(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uE(n){return He(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Mv(n,e,t){return{name:Xf(n,e),fields:t.value.mapValue.fields}}function GC(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,_){return y.useProto3Json?(He(_===void 0||typeof _=="string"),Mt.fromBase64String(_||"")):(He(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Mt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const _=y.code===void 0?Y.UNKNOWN:rE(y.code);return new ge(_,y.message||"")}(c);t=new sE(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=mf(n,i.document.name),a=mr(i.document.updateTime),c=i.document.createTime?mr(i.document.createTime):Ce.min(),d=new ln({mapValue:{fields:i.document.fields}}),p=Wt.newFoundDocument(o,a,c,d),y=i.targetIds||[],_=i.removedTargetIds||[];t=new gc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=mf(n,i.document),a=i.readTime?mr(i.readTime):Ce.min(),c=Wt.newNoDocument(o,a),d=i.removedTargetIds||[];t=new gc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=mf(n,i.document),a=i.removedTargetIds||[];t=new gc([],a,o,null)}else{if(!("filter"in e))return Te();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new jC(o,a),d=i.targetId;t=new iE(d,c)}}return t}function QC(n,e){let t;if(e instanceof kl)t={update:Mv(n,e.key,e.value)};else if(e instanceof nE)t={delete:Xf(n,e.key)};else if(e instanceof es)t={update:Mv(n,e.key,e.data),updateMask:iA(e.fieldMask)};else{if(!(e instanceof LC))return Te();t={verify:Xf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof Il)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Qo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Xo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nc)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Te()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:qC(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te()}(n,e.precondition)),t}function XC(n,e){return n&&n.length>0?(He(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?mr(o.updateTime):mr(a);return c.isEqual(Ce.min())&&(c=mr(a)),new OC(c,o.transformResults||[])}(t,e))):[]}function YC(n,e){return{documents:[lE(n,e.path)]}}function JC(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=lE(n,o);const a=function(y){if(y.length!==0)return hE(vr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(_=>function(S){return{field:Vo(S.field),direction:tA(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Gf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function ZC(n){let e=KC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){He(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const S=cE(E);return S instanceof vr&&U0(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(S=>function(F){return new Pc(Mo(F.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(E){let S;return S=typeof E=="object"?E.value:E,ih(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(E){const S=!!E.before,O=E.values||[];return new kc(O,S)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const S=!E.before,O=E.values||[];return new kc(O,S)}(t.endAt)),vC(e,o,c,a,d,"F",p,y)}function eA(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Mo(t.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Mo(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Mo(t.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mo(t.unaryFilter.field);return wt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(n):n.fieldFilter!==void 0?function(t){return wt.create(Mo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vr.create(t.compositeFilter.filters.map(i=>cE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(t.compositeFilter.op))}(n):Te()}function tA(n){return $C[n]}function nA(n){return zC[n]}function rA(n){return HC[n]}function Vo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return Lt.fromServerFormat(n.fieldPath)}function hE(n){return n instanceof wt?function(t){if(t.op==="=="){if(Sv(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(Iv(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Sv(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(Iv(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:nA(t.op),value:t.value}}}(n):n instanceof vr?function(t){const i=t.getFilters().map(o=>hE(o));return i.length===1?i[0]:{compositeFilter:{op:rA(t.op),filters:i}}}(n):Te()}function iA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,i,o,a=Ce.min(),c=Ce.min(),d=Mt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.Tt=e}}function oA(n){const e=ZC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.Tn=new lA}addToCollectionParentIndex(e,t){return this.Tn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(qi.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class lA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new It(nt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new It(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fE=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(fE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Yo(0)}static Kn(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LruGarbageCollector",uA=1048576;function Uv([n,e],[t,i]){const o=be(n,t);return o===0?be(e,i):o}class cA{constructor(e){this.Hn=e,this.buffer=new It(Uv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Uv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(Fv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ia(t)?le(Fv,"Ignoring IndexedDB error during garbage collection: ",t):await ra(t)}await this.er(3e5)})}}class dA{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return K.resolve(rh.ae);const i=new cA(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(jv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,a,c,d,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,d=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(y=Date.now(),bo()<=De.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function fA(n,e){return new dA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.changes=new Fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&pl(i.mutation,o,yn.empty(),Tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Le()){const o=Ps();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=al();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ps();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Le()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=ri();const c=fl(),d=function(){return fl()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof es)?a=a.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),pl(_.mutation,y,_.mutation.getFieldMask(),Tt.now())):c.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,_)=>c.set(y,_)),t.forEach((y,_)=>{var E;return d.set(y,new mA(_,(E=c.get(y))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(e,t){const i=fl();let o=new st((c,d)=>c-d),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||yn.empty();_=d.applyToLocalView(y,_),i.set(p,_);const E=(o.get(d.batchId)||Le()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,_=p.value,E=G0();_.forEach(S=>{if(!a.has(S)){const O=eE(t.get(S),i.get(S));O!==null&&E.set(S,O),a=a.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return K.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_C(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):K.resolve(Ps());let d=_l,p=a;return c.next(y=>K.forEach(y,(_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),a.get(_)?K.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,Le())).next(_=>({batchId:d,changes:K0(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let o=al();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=al();return this.indexManager.getCollectionParents(e,a).next(d=>K.forEach(d,p=>{const y=function(E,S){return new oh(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((E,S)=>{c=c.insert(E,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,Wt.newInvalidDocument(_)))});let d=al();return c.forEach((p,y)=>{const _=a.get(p);_!==void 0&&pl(_.mutation,y,yn.empty(),Tt.now()),lh(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return K.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:oA(o.bundledQuery),readTime:mr(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.overlays=new st(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ps();return K.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Et(e,t,a)}),K.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const o=Ps(),a=t.length+1,c=new Ee(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new st((y,_)=>y-_);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=a.get(y.largestBatchId);_===null&&(_=Ps(),a=a.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const d=Ps(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>d.set(y,_)),!(d.size()>=o)););return K.resolve(d)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new MC(t,i));let a=this.Rr.get(t);a===void 0&&(a=Le(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Vr=new It(xt.mr),this.gr=new It(xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new xt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new xt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Ee(new nt([])),i=new xt(t,e),o=new xt(t,e+1),a=[];return this.gr.forEachInRange([i,o],c=>{this.wr(c),a.push(c.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new nt([])),i=new xt(t,e),o=new xt(t,e+1);let a=Le();return this.gr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new xt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class xt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||be(e.Cr,t.Cr)}static pr(e,t){return be(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new It(xt.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new VC(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Mr=this.Mr.add(new xt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,t){return K.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),a=o<0?0:o;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?wp:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new xt(t,0),o=new xt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],c=>{const d=this.Or(c.Cr);a.push(d)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new It(be);return t.forEach(o=>{const a=new xt(o,0),c=new xt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,c],d=>{i=i.add(d.Cr)})}),K.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Ee.isDocumentKey(a)||(a=a.child(""));const c=new xt(new Ee(a),0);let d=new It(be);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Cr)),!0)},c),K.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){He(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return K.forEach(t.mutations,o=>{const a=new xt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new xt(t,0),o=this.Mr.firstAfterOrEqual(i);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.kr=e,this.docs=function(){return new st(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let i=ri();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Wt.newInvalidDocument(o))}),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ri();const c=t.path,d=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||YR(XR(_),i)<=0||(o.has(_.key)||lh(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Te()}qr(e,t){return K.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new TA(this)}getSize(e){return K.resolve(this.size)}}class TA extends pA{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),K.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.persistence=e,this.Qr=new Fs(t=>Sp(t),Rp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Op,this.targetCount=0,this.Kr=Yo.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),K.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.zn(t),K.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),K.waitFor(a).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new rh(0),this.zr=!1,this.zr=!0,this.jr=new _A,this.referenceDelegate=e(this),this.Hr=new IA(this),this.indexManager=new aA,this.remoteDocumentCache=function(o){return new wA(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new sA(t),this.Yr=new yA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new EA(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new SA(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return K.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class SA extends ZR{constructor(e){super(),this.currentSequenceNumber=e}}class Dp{constructor(e){this.persistence=e,this.ti=new Op,this.ni=null}static ri(e){return new Dp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),K.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,i=>{const o=Ee.fromPath(i);return this.si(e,o).next(a=>{a||t.removeEntry(o,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return K.or([()=>K.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Dc{constructor(e,t){this.persistence=e,this.oi=new Fs(i=>nC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=fA(this,t)}static ri(e,t){return new Dc(e,t)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return K.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?K.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,a.removeEntry(c,Ce.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),K.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fc(e.data.value)),t}ar(e,t,i){return K.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return K.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=Le(),o=Le();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new bp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return IS()?8:eC(Kt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.rs(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.ss(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new RA;return this._s(e,t,c).next(d=>{if(a.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>a.result)}us(e,t,i,o){return i.documentReadCount<this.es?(bo()<=De.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(bo()<=De.DEBUG&&le("QueryEngine","Query:",Lo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(bo()<=De.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):K.resolve())}rs(e,t){if(xv(t))return K.resolve(null);let i=pr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Kf(t,null,"F"),i=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Le(...a);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,d);return this.ls(t,y,c,p.readTime)?this.rs(e,Kf(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,o){return xv(t)||o.isEqual(Ce.min())?K.resolve(null):this.ns.getDocuments(e,i).next(a=>{const c=this.cs(t,a);return this.ls(t,c,i,o)?K.resolve(null):(bo()<=De.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lo(t)),this.hs(e,c,t,QR(o,_l)).next(d=>d))})}cs(e,t){let i=new It(W0(e));return t.forEach((o,a)=>{lh(e,a)&&(i=i.add(a))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,i){return bo()<=De.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.ns.getDocumentsMatchingQuery(e,t,qi.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",AA=3e8;class xA{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new st(be),this.Is=new Fs(a=>Sp(a),Rp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gA(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function kA(n,e,t,i){return new xA(n,e,t,i)}async function mE(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let p=Le();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of a){d.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:c,addedBatchIds:d}))})})}function PA(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,y,_){const E=y.batch,S=E.keys();let O=K.resolve();return S.forEach(F=>{O=O.next(()=>_.getEntry(p,F)).next(z=>{const b=y.docVersions.get(F);He(b!==null),z.version.compareTo(b)<0&&(E.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),_.addEntry(z)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Le();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function gE(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function NA(n,e){const t=Ae(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((_,E)=>{const S=o.get(E);if(!S)return;d.push(t.Hr.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.Hr.addMatchingKeys(a,_.addedDocuments,E)));let O=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(Mt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,i)),o=o.insert(E,O),function(z,b,Z){return z.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=AA?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(S,O,_)&&d.push(t.Hr.updateTargetData(a,O))});let p=ri(),y=Le();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),d.push(OA(a,c,e.documentUpdates).next(_=>{p=_.Vs,y=_.fs})),!i.isEqual(Ce.min())){const _=t.Hr.getLastRemoteSnapshotVersion(a).next(E=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(_)}return K.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.Ts=o,a))}function OA(n,e,t){let i=Le(),o=Le();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=ri();return t.forEach((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):le(Lp,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Vs:c,fs:o}})}function DA(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=wp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function bA(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(a=>a?(o=a,K.resolve(o)):t.Hr.allocateTargetId(i).next(c=>(o=new Fi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Jf(n,e,t){const i=Ae(n),o=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ia(c))throw c;le(Lp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function Bv(n,e,t){const i=Ae(n);let o=Ce.min(),a=Le();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,_){const E=Ae(p),S=E.Is.get(_);return S!==void 0?K.resolve(E.Ts.get(S)):E.Hr.getTargetData(y,_)}(i,c,pr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?o:Ce.min(),t?a:Le())).next(d=>(LA(i,wC(e),d),{documents:d,gs:a})))}function LA(n,e,t){let i=n.Es.get(e)||Ce.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class $v{constructor(){this.activeTargetIds=AC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VA{constructor(){this.ho=new $v,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $v,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="ConnectivityMonitor";class Hv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(zv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(zv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Zf(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="RestConnection",jA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FA{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Ac?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,a){const c=Zf(),d=this.bo(e,t.toUriEncodedString());le(gf,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,a),this.vo(e,d,p,i).then(y=>(le(gf,`Received RPC '${e}' ${c}: `,y),y),y=>{throw Wo(gf,`RPC '${e}' ${c} failed with error: `,y,"url: ",d,"request:",i),y})}Co(e,t,i,o,a,c){return this.So(e,t,i,o,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+na}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const i=jA[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class BA extends FA{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const a=Zf();return new Promise((c,d)=>{const p=new E0;p.setWithCredentials(!0),p.listenOnce(w0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dc.NO_ERROR:const _=p.getResponseJson();le($t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case dc.TIMEOUT:le($t,`RPC '${e}' ${a} timed out`),d(new ge(Y.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const E=p.getStatus();if(le($t,`RPC '${e}' ${a} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S==null?void 0:S.error;if(O&&O.status&&O.message){const F=function(b){const Z=b.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Z)>=0?Z:Y.UNKNOWN}(O.status);d(new ge(F,O.message))}else d(new ge(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ge(Y.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le($t,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);le($t,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=Zf(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=S0(),d=I0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");le($t,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);let S=!1,O=!1;const F=new UA({Fo:b=>{O?le($t,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(S||(le($t,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),le($t,`RPC '${e}' stream ${o} sending:`,b),E.send(b))},Mo:()=>E.close()}),z=(b,Z,re)=>{b.listen(Z,G=>{try{re(G)}catch(J){setTimeout(()=>{throw J},0)}})};return z(E,ol.EventType.OPEN,()=>{O||(le($t,`RPC '${e}' stream ${o} transport opened.`),F.Qo())}),z(E,ol.EventType.CLOSE,()=>{O||(O=!0,le($t,`RPC '${e}' stream ${o} transport closed`),F.Uo())}),z(E,ol.EventType.ERROR,b=>{O||(O=!0,Wo($t,`RPC '${e}' stream ${o} transport errored:`,b),F.Uo(new ge(Y.UNAVAILABLE,"The operation could not be completed")))}),z(E,ol.EventType.MESSAGE,b=>{var Z;if(!O){const re=b.data[0];He(!!re);const G=re,J=(G==null?void 0:G.error)||((Z=G[0])===null||Z===void 0?void 0:Z.error);if(J){le($t,`RPC '${e}' stream ${o} received error:`,J);const pe=J.status;let se=function(k){const D=pt[k];if(D!==void 0)return rE(D)}(pe),P=J.message;se===void 0&&(se=Y.INTERNAL,P="Unknown error status: "+pe+" with message "+J.message),O=!0,F.Uo(new ge(se,P)),E.close()}else le($t,`RPC '${e}' stream ${o} received:`,re),F.Ko(re)}}),z(d,T0.STAT_EVENT,b=>{b.stat===Uf.PROXY?le($t,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===Uf.NOPROXY&&le($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.$o()},0),F}}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n){return new WC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="PersistentStream";class vE{constructor(e,t,i,o,a,c,d,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new yE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(ni(t.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new ge(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(Wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(le(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $A extends vE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=GC(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ce.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?mr(c.readTime):Ce.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Yf(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=qf(p)?{documents:YC(a,p)}:{query:JC(a,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=oE(a,c.resumeToken);const y=Gf(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Oc(a,c.snapshotVersion.toTimestamp());const y=Gf(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=eA(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Yf(this.serializer),t.removeTarget=e,this.I_(t)}}class zA extends vE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=XC(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Yf(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>QC(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{}class WA extends HA{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.So(e,Qf(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(Y.UNKNOWN,a.toString())})}Co(e,t,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Qf(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(Y.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class qA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ni(t),this.N_=!1):le("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class KA{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(c=>{i.enqueueAndForget(async()=>{Us(this)&&(le(Ls,"Restarting streams for network reachability change."),await async function(p){const y=Ae(p);y.W_.add(4),await Nl(y),y.j_.set("Unknown"),y.W_.delete(4),await fh(y)}(this))})}),this.j_=new qA(i,o)}}async function fh(n){if(Us(n))for(const e of n.G_)await e(!0)}async function Nl(n){for(const e of n.G_)await e(!1)}function _E(n,e){const t=Ae(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Fp(t)?jp(t):sa(t).c_()&&Mp(t,e))}function Vp(n,e){const t=Ae(n),i=sa(t);t.K_.delete(e),i.c_()&&EE(t,e),t.K_.size===0&&(i.c_()?i.P_():Us(t)&&t.j_.set("Unknown"))}function Mp(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sa(n).y_(e)}function EE(n,e){n.H_.Ne(e),sa(n).w_(e)}function jp(n){n.H_=new BC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),sa(n).start(),n.j_.B_()}function Fp(n){return Us(n)&&!sa(n).u_()&&n.K_.size>0}function Us(n){return Ae(n).W_.size===0}function wE(n){n.H_=void 0}async function GA(n){n.j_.set("Online")}async function QA(n){n.K_.forEach((e,t)=>{Mp(n,e)})}async function XA(n,e){wE(n),Fp(n)?(n.j_.q_(e),jp(n)):n.j_.set("Unknown")}async function YA(n,e,t){if(n.j_.set("Online"),e instanceof sE&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.K_.delete(d),o.H_.removeTarget(d))}(n,e)}catch(i){le(Ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await bc(n,i)}else if(e instanceof gc?n.H_.We(e):e instanceof iE?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const i=await gE(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.H_.ot(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.K_.get(y);_&&a.K_.set(y,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const _=a.K_.get(p);if(!_)return;a.K_.set(p,_.withResumeToken(Mt.EMPTY_BYTE_STRING,_.snapshotVersion)),EE(a,p);const E=new Fi(_.target,p,y,_.sequenceNumber);Mp(a,E)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){le(Ls,"Failed to raise snapshot:",i),await bc(n,i)}}async function bc(n,e,t){if(!ia(e))throw e;n.W_.add(1),await Nl(n),n.j_.set("Offline"),t||(t=()=>gE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Ls,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await fh(n)})}function TE(n,e){return e().catch(t=>bc(n,t,e))}async function ph(n){const e=Ae(n),t=Xi(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:wp;for(;JA(e);)try{const o=await DA(e.localStore,i);if(o===null){e.U_.length===0&&t.P_();break}i=o.batchId,ZA(e,o)}catch(o){await bc(e,o)}IE(e)&&SE(e)}function JA(n){return Us(n)&&n.U_.length<10}function ZA(n,e){n.U_.push(e);const t=Xi(n);t.c_()&&t.S_&&t.b_(e.mutations)}function IE(n){return Us(n)&&!Xi(n).u_()&&n.U_.length>0}function SE(n){Xi(n).start()}async function ex(n){Xi(n).C_()}async function tx(n){const e=Xi(n);for(const t of n.U_)e.b_(t.mutations)}async function nx(n,e,t){const i=n.U_.shift(),o=kp.from(i,e,t);await TE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await ph(n)}async function rx(n,e){e&&Xi(n).S_&&await async function(i,o){if(function(c){return FC(c)&&c!==Y.ABORTED}(o.code)){const a=i.U_.shift();Xi(i).h_(),await TE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await ph(i)}}(n,e),IE(n)&&SE(n)}async function qv(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),le(Ls,"RemoteStore received new credentials");const i=Us(t);t.W_.add(3),await Nl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await fh(t)}async function ix(n,e){const t=Ae(n);e?(t.W_.delete(2),await fh(t)):e||(t.W_.add(2),await Nl(t),t.j_.set("Unknown"))}function sa(n){return n.J_||(n.J_=function(t,i,o){const a=Ae(t);return a.M_(),new $A(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:GA.bind(null,n),No:QA.bind(null,n),Lo:XA.bind(null,n),p_:YA.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Fp(n)?jp(n):n.j_.set("Unknown")):(await n.J_.stop(),wE(n))})),n.J_}function Xi(n){return n.Y_||(n.Y_=function(t,i,o){const a=Ae(t);return a.M_(),new zA(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:ex.bind(null,n),Lo:rx.bind(null,n),D_:tx.bind(null,n),v_:nx.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await ph(n)):(await n.Y_.stop(),n.U_.length>0&&(le(Ls,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new Up(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(n,e){if(ni("AsyncQueue",`${e}: ${n}`),ia(n))return new ge(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(e){return new Fo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=al(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Fo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.Z_=new st(Ee.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Jo{constructor(e,t,i,o,a,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Jo(e,t,Fo.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ox{constructor(){this.queries=Gv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=Ae(t),a=o.queries;o.queries=Gv(),a.forEach((c,d)=>{for(const p of d.ta)p.onError(i)})})(this,new ge(Y.ABORTED,"Firestore shutting down"))}}function Gv(){return new Fs(n=>H0(n),ah)}async function RE(n,e){const t=Ae(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new sx,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Bp(c,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&$p(t)}async function CE(n,e){const t=Ae(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.ta.indexOf(e);c>=0&&(a.ta.splice(c,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ax(n,e){const t=Ae(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.ta)d.oa(o)&&(i=!0);c.ea=o}}i&&$p(t)}function lx(n,e,t){const i=Ae(n),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(t);i.queries.delete(e)}function $p(n){n.ia.forEach(e=>{e.next()})}var ep,Qv;(Qv=ep||(ep={}))._a="default",Qv.Cache="cache";class AE{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Jo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){this.key=e}}class kE{constructor(e){this.key=e}}class ux{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=W0(e),this.wa=new Fo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new Kv,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const S=o.get(_),O=lh(this.query,E)?E:null,F=!!S&&this.mutatedKeys.has(S.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let b=!1;S&&O?S.data.isEqual(O.data)?F!==z&&(i.track({type:3,doc:O}),b=!0):this.va(S,O)||(i.track({type:2,doc:O}),b=!0,(p&&this.ya(O,p)>0||y&&this.ya(O,y)<0)&&(d=!0)):!S&&O?(i.track({type:0,doc:O}),b=!0):S&&!O&&(i.track({type:1,doc:S}),b=!0,(p||y)&&(d=!0)),b&&(O?(c=c.add(O),a=z?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{wa:c,Da:i,ls:d,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,E)=>function(O,F){const z=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return z(O)-z(F)}(_.type,E.type)||this.ya(_.doc,E.doc)),this.Ca(i),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,c.length!==0||y?{snapshot:new Jo(this.query,e.wa,a,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Kv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new kE(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new xE(i))}),t}Oa(e){this.fa=e.gs,this.pa=Le();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Jo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const zp="SyncEngine";class cx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class hx{constructor(e){this.key=e,this.Ba=!1}}class dx{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Fs(d=>H0(d),ah),this.qa=new Map,this.Qa=new Set,this.$a=new st(Ee.comparator),this.Ua=new Map,this.Ka=new Op,this.Wa={},this.Ga=new Map,this.za=Yo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fx(n,e,t=!0){const i=LE(n);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await PE(i,e,t,!0),o}async function px(n,e){const t=LE(n);await PE(t,e,!0,!1)}async function PE(n,e,t,i){const o=await bA(n.localStore,pr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await mx(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&_E(n.remoteStore,o),d}async function mx(n,e,t,i,o){n.Ha=(E,S,O)=>async function(z,b,Z,re){let G=b.view.ba(Z);G.ls&&(G=await Bv(z.localStore,b.query,!1).then(({documents:P})=>b.view.ba(P,G)));const J=re&&re.targetChanges.get(b.targetId),pe=re&&re.targetMismatches.get(b.targetId)!=null,se=b.view.applyChanges(G,z.isPrimaryClient,J,pe);return Yv(z,b.targetId,se.Ma),se.snapshot}(n,E,S,O);const a=await Bv(n.localStore,e,!0),c=new ux(e,a.gs),d=c.ba(a.documents),p=Pl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);Yv(n,t,y.Ma);const _=new cx(e,t,c);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function gx(n,e,t){const i=Ae(n),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(c=>!ah(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Jf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Vp(i.remoteStore,o.targetId),tp(i,o.targetId)}).catch(ra)):(tp(i,o.targetId),await Jf(i.localStore,o.targetId,!0))}async function yx(n,e){const t=Ae(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Vp(t.remoteStore,i.targetId))}async function vx(n,e,t){const i=Rx(n);try{const o=await function(c,d){const p=Ae(c),y=Tt.now(),_=d.reduce((O,F)=>O.add(F.key),Le());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let F=ri(),z=Le();return p.ds.getEntries(O,_).next(b=>{F=b,F.forEach((Z,re)=>{re.isValidDocument()||(z=z.add(Z))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,F)).next(b=>{E=b;const Z=[];for(const re of d){const G=bC(re,E.get(re.key).overlayedDocument);G!=null&&Z.push(new es(re.key,G,M0(G.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,Z,d)}).next(b=>{S=b;const Z=b.applyToLocalDocumentSet(E,z);return p.documentOverlayCache.saveOverlays(O,b.batchId,Z)})}).then(()=>({batchId:S.batchId,changes:K0(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.Wa[c.currentUser.toKey()];y||(y=new st(be)),y=y.insert(d,p),c.Wa[c.currentUser.toKey()]=y}(i,o.batchId,t),await Ol(i,o.changes),await ph(i.remoteStore)}catch(o){const a=Bp(o,"Failed to persist write");t.reject(a)}}async function NE(n,e){const t=Ae(n);try{const i=await NA(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ua.get(a);c&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?He(c.Ba):o.removedDocuments.size>0&&(He(c.Ba),c.Ba=!1))}),await Ol(t,i,e)}catch(i){await ra(i)}}function Xv(n,e,t){const i=Ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((a,c)=>{const d=c.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=Ae(c);p.onlineState=d;let y=!1;p.queries.forEach((_,E)=>{for(const S of E.ta)S.sa(d)&&(y=!0)}),y&&$p(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function _x(n,e,t){const i=Ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),a=o&&o.key;if(a){let c=new st(Ee.comparator);c=c.insert(a,Wt.newNoDocument(a,Ce.min()));const d=Le().add(a),p=new hh(Ce.min(),new Map,new st(be),c,d);await NE(i,p),i.$a=i.$a.remove(a),i.Ua.delete(e),Hp(i)}else await Jf(i.localStore,e,!1).then(()=>tp(i,e,t)).catch(ra)}async function Ex(n,e){const t=Ae(n),i=e.batch.batchId;try{const o=await PA(t.localStore,e);DE(t,i,null),OE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ol(t,o)}catch(o){await ra(o)}}async function wx(n,e,t){const i=Ae(n);try{const o=await function(c,d){const p=Ae(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,d).next(E=>(He(E!==null),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);DE(i,e,t),OE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ol(i,o)}catch(o){await ra(o)}}function OE(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function DE(n,e,t){const i=Ae(n);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function tp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||bE(n,i)})}function bE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Vp(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Hp(n))}function Yv(n,e,t){for(const i of t)i instanceof xE?(n.Ka.addReference(i.key,e),Tx(n,i)):i instanceof kE?(le(zp,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||bE(n,i.key)):Te()}function Tx(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(le(zp,"New document in limbo: "+t),n.Qa.add(i),Hp(n))}function Hp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ee(nt.fromString(e)),i=n.za.next();n.Ua.set(i,new hx(t)),n.$a=n.$a.insert(t,i),_E(n.remoteStore,new Fi(pr(Cp(t.path)),i,"TargetPurposeLimboResolution",rh.ae))}}async function Ol(n,e,t){const i=Ae(n),o=[],a=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,p)=>{c.push(i.Ha(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const E=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=bp.Yi(p.targetId,y);a.push(E)}}))}),await Promise.all(c),i.La.p_(o),await async function(p,y){const _=Ae(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>K.forEach(y,S=>K.forEach(S.Hi,O=>_.persistence.referenceDelegate.addReference(E,S.targetId,O)).next(()=>K.forEach(S.Ji,O=>_.persistence.referenceDelegate.removeReference(E,S.targetId,O)))))}catch(E){if(!ia(E))throw E;le(Lp,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const O=_.Ts.get(S),F=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(F);_.Ts=_.Ts.insert(S,z)}}}(i.localStore,a))}async function Ix(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){le(zp,"User change. New user:",e.toKey());const i=await mE(t.localStore,e);t.currentUser=e,function(a,c){a.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ge(Y.CANCELLED,c))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ol(t,i.Rs)}}function Sx(n,e){const t=Ae(n),i=t.Ua.get(e);if(i&&i.Ba)return Le().add(i.key);{let o=Le();const a=t.qa.get(e);if(!a)return o;for(const c of a){const d=t.ka.get(c);o=o.unionWith(d.view.Sa)}return o}}function LE(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_x.bind(null,e),e.La.p_=ax.bind(null,e.eventManager),e.La.Ja=lx.bind(null,e.eventManager),e}function Rx(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ex.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wx.bind(null,e),e}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return kA(this.persistence,new CA,e.initialUser,this.serializer)}Xa(e){return new pE(Dp.ri,this.serializer)}Za(e){return new VA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class Cx extends Lc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){He(this.persistence.referenceDelegate instanceof Dc);const i=this.persistence.referenceDelegate.garbageCollector;return new hA(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new pE(i=>Dc.ri(i,t),this.serializer)}}class np{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Xv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ix.bind(null,this.syncEngine),await ix(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ox}()}createDatastore(e){const t=dh(e.databaseInfo.databaseId),i=function(a){return new BA(a)}(e.databaseInfo);return function(a,c,d,p){return new WA(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new KA(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Xv(this.syncEngine,t,0),function(){return Hv.D()?new Hv:new MA}())}createSyncEngine(e,t){return function(o,a,c,d,p,y,_){const E=new dx(o,a,c,d,p,y);return _&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ae(o);le(Ls,"RemoteStore shutting down."),a.W_.add(5),await Nl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}np.provider={build:()=>new np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="FirestoreClient";class Ax{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Ht.UNAUTHENTICATED,this.clientId=C0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{le(Yi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(le(Yi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Bp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vf(n,e){n.asyncQueue.verifyOperationInProgress(),le(Yi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await mE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Jv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await xx(n);le(Yi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>qv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>qv(e.remoteStore,o)),n._onlineComponents=e}async function xx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Yi,"Using user provided OfflineComponentProvider");try{await vf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),await vf(n,new Lc)}}else le(Yi,"Using default OfflineComponentProvider"),await vf(n,new Cx(void 0));return n._offlineComponents}async function ME(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Yi,"Using user provided OnlineComponentProvider"),await Jv(n,n._uninitializedComponentsProvider._online)):(le(Yi,"Using default OnlineComponentProvider"),await Jv(n,new np))),n._onlineComponents}function kx(n){return ME(n).then(e=>e.syncEngine)}async function jE(n){const e=await ME(n),t=e.eventManager;return t.onListen=fx.bind(null,e.syncEngine),t.onUnlisten=gx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=px.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yx.bind(null,e.syncEngine),t}function Px(n,e,t={}){const i=new Yr;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,y){const _=new VE({next:S=>{_.su(),c.enqueueAndForget(()=>CE(a,E));const O=S.docs.has(d);!O&&S.fromCache?y.reject(new ge(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&p&&p.source==="server"?y.reject(new ge(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new AE(Cp(d.path),_,{includeMetadataChanges:!0,Ta:!0});return RE(a,E)}(await jE(n),n.asyncQueue,e,t,i)),i.promise}function Nx(n,e,t={}){const i=new Yr;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,d,p,y){const _=new VE({next:S=>{_.su(),c.enqueueAndForget(()=>CE(a,E)),S.fromCache&&p.source==="server"?y.reject(new ge(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new AE(d,_,{includeMetadataChanges:!0,Ta:!0});return RE(a,E)}(await jE(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n,e,t){if(!t)throw new ge(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ox(n,e,t,i){if(e===!0&&i===!0)throw new ge(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function e_(n){if(!Ee.isDocumentKey(n))throw new ge(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function t_(n){if(Ee.isDocumentKey(n))throw new ge(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Wp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te()}function _r(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wp(n);throw new ge(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",n_=!0;class r_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=n_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:n_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uA)throw new ge(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ox("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new BR;switch(i.type){case"firstParty":return new WR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Zv.get(t);i&&(le("ComponentProvider","Removing Datastore"),Zv.delete(t),i.terminate())}(this),Promise.resolve()}}function Dx(n,e,t,i={}){var o;const a=(n=_r(n,mh))._getSettings(),c=`${e}:${t}`;if(a.host!==BE&&a.host!==c&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Ht.MOCK_USER;else{d=f0(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ge(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ht(y)}n._authCredentials=new $R(new R0(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gh(this.firestore,e,this._query)}}class un{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class Hi extends gh{constructor(e,t,i){super(e,t,Cp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Ee(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function $E(n,e,...t){if(n=kt(n),UE("collection","path",e),n instanceof mh){const i=nt.fromString(e,...t);return t_(i),new Hi(n,null,i)}{if(!(n instanceof un||n instanceof Hi))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return t_(i),new Hi(n.firestore,null,i)}}function Kr(n,e,...t){if(n=kt(n),arguments.length===1&&(e=C0.newId()),UE("doc","path",e),n instanceof mh){const i=nt.fromString(e,...t);return e_(i),new un(n,null,new Ee(i))}{if(!(n instanceof un||n instanceof Hi))throw new ge(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return e_(i),new un(n.firestore,n instanceof Hi?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="AsyncQueue";class s_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new yE(this,"async_queue_retry"),this.Su=()=>{const i=yf();i&&le(i_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=yf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=yf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Yr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ia(e))throw e;le(i_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw ni("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Up.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class oa extends mh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new s_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s_(e),this._firestoreClient=void 0,await e}}}function bx(n,e){const t=typeof n=="object"?n:_p(),i=typeof n=="string"?n:Ac,o=nh(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=c0("firestore");a&&Dx(o,...a)}return o}function qp(n){if(n._terminated)throw new ge(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lx(n),n._firestoreClient}function Lx(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,y,_){return new sC(d,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,FE(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Ax(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(Mt.fromBase64String(e))}catch(t){throw new ge(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zo(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=/^__.*__$/;class Mx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,t,this.fieldTransforms):new kl(e,this.data,t,this.fieldTransforms)}}class zE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class vh{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Vc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(HE(this.Lu)&&Vx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class jx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||dh(e)}ju(e,t,i,o=!1){return new vh({Lu:e,methodName:t,zu:i,path:Lt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qp(n){const e=n._freezeSettings(),t=dh(n._databaseId);return new jx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WE(n,e,t,i,o,a={}){const c=n.ju(a.merge||a.mergeFields?2:0,e,t,o);Zp("Data must be an object, but it was:",c,i);const d=KE(i,c);let p,y;if(a.merge)p=new yn(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const S=rp(e,E,t);if(!c.contains(S))throw new ge(Y.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);QE(_,S)||_.push(S)}p=new yn(_),y=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,y=c.fieldTransforms;return new Mx(new ln(d),p,y)}class _h extends aa{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _h}}function qE(n,e,t){return new vh({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xp extends aa{_toFieldTransform(e){return new xp(e.path,new Il)}isEqual(e){return e instanceof Xp}}class Yp extends aa{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=qE(this,e,!0),i=this.Hu.map(a=>la(a,t)),o=new Qo(i);return new xp(e.path,o)}isEqual(e){return e instanceof Yp&&Ho(this.Hu,e.Hu)}}class Jp extends aa{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=qE(this,e,!0),i=this.Hu.map(a=>la(a,t)),o=new Xo(i);return new xp(e.path,o)}isEqual(e){return e instanceof Jp&&Ho(this.Hu,e.Hu)}}function Fx(n,e,t,i){const o=n.ju(1,e,t);Zp("Data must be an object, but it was:",o,i);const a=[],c=ln.empty();Zi(i,(p,y)=>{const _=em(e,p,t);y=kt(y);const E=o.Uu(_);if(y instanceof _h)a.push(_);else{const S=la(y,E);S!=null&&(a.push(_),c.set(_,S))}});const d=new yn(a);return new zE(c,d,o.fieldTransforms)}function Ux(n,e,t,i,o,a){const c=n.ju(1,e,t),d=[rp(e,i,t)],p=[o];if(a.length%2!=0)throw new ge(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)d.push(rp(e,a[S])),p.push(a[S+1]);const y=[],_=ln.empty();for(let S=d.length-1;S>=0;--S)if(!QE(y,d[S])){const O=d[S];let F=p[S];F=kt(F);const z=c.Uu(O);if(F instanceof _h)y.push(O);else{const b=la(F,z);b!=null&&(y.push(O),_.set(O,b))}}const E=new yn(y);return new zE(_,E,c.fieldTransforms)}function la(n,e){if(GE(n=kt(n)))return Zp("Unsupported field value:",e,n),KE(n,e);if(n instanceof aa)return function(i,o){if(!HE(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let p=la(d,o.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=kt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Tt.fromDate(i);return{timestampValue:Oc(o.serializer,a)}}if(i instanceof Tt){const a=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Oc(o.serializer,a)}}if(i instanceof Kp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zo)return{bytesValue:oE(o.serializer,i._byteString)};if(i instanceof un){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Np(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Gp)return function(c,d){return{mapValue:{fields:{[b0]:{stringValue:V0},[xc]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw d.Wu("VectorValues must only contain numeric values.");return Ap(d.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Wp(i)}`)}(n,e)}function KE(n,e){const t={};return x0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(n,(i,o)=>{const a=la(o,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function GE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof Kp||n instanceof Zo||n instanceof un||n instanceof aa||n instanceof Gp)}function Zp(n,e,t){if(!GE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Wp(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function rp(n,e,t){if((e=kt(e))instanceof yh)return e._internalPath;if(typeof e=="string")return em(n,e);throw Vc("Field path arguments must be of type string or ",n,!1,void 0,t)}const Bx=new RegExp("[~\\*/\\[\\]]");function em(n,e,t){if(e.search(Bx)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yh(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vc(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ge(Y.INVALID_ARGUMENT,d+n+p)}function QE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(YE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $x extends XE{data(){return super.data()}}function YE(n,e){return typeof e=="string"?em(n,e):e instanceof yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hx{convertValue(e,t="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zi(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[xc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ct(c.doubleValue));return new Gp(a)}convertGeoPoint(e){return new Kp(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=sh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const t=Ki(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=nt.fromString(e);He(dE(i));const o=new wl(i.get(1),i.get(3)),a=new Ee(i.popFirst(5));return o.isEqual(t)||ni(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZE extends XE{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(YE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class yc extends ZE{data(e={}){return super.data(e)}}class Wx{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ul(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new yc(this._firestore,this._userDataWriter,i.key,i,new ul(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new yc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ul(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new yc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ul(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:qx(d.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){n=_r(n,un);const e=_r(n.firestore,oa);return Px(qp(e),n._key).then(t=>Xx(e,n,t))}class ew extends Hx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function Kx(n){n=_r(n,gh);const e=_r(n.firestore,oa),t=qp(e),i=new ew(e);return zx(n._query),Nx(t,n._query).then(o=>new Wx(e,i,n,o))}function oc(n,e,t){n=_r(n,un);const i=_r(n.firestore,oa),o=JE(n.converter,e,t);return tm(i,[WE(Qp(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Yn.none())])}function Gx(n,e,t,...i){n=_r(n,un);const o=_r(n.firestore,oa),a=Qp(o);let c;return c=typeof(e=kt(e))=="string"||e instanceof yh?Ux(a,"updateDoc",n._key,e,t,i):Fx(a,"updateDoc",n._key,e),tm(o,[c.toMutation(n._key,Yn.exists(!0))])}function Qx(n,e){const t=_r(n.firestore,oa),i=Kr(n),o=JE(n.converter,e);return tm(t,[WE(Qp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Yn.exists(!1))]).then(()=>i)}function tm(n,e){return function(i,o){const a=new Yr;return i.asyncQueue.enqueueAndForget(async()=>vx(await kx(i),o,a)),a.promise}(qp(n),e)}function Xx(n,e,t){const i=t.docs.get(e._key),o=new ew(n);return new ZE(n,o,e._key,i,new ul(t.hasPendingWrites,t.fromCache),e.converter)}function Yx(){return new Xp("serverTimestamp")}function Jx(...n){return new Yp("arrayUnion",n)}function Zx(...n){return new Jp("arrayRemove",n)}(function(e,t=!0){(function(o){na=o})(js),Ds(new Wi("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new oa(new zR(i.getProvider("auth-internal")),new qR(c,i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(y.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),fr(dv,fv,e),fr(dv,fv,"esm2017")})();var _f={exports:{}},Ef,o_;function ek(){if(o_)return Ef;o_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ef=n,Ef}var wf,a_;function tk(){if(a_)return wf;a_=1;var n=ek();function e(){}function t(){}return t.resetWarningCache=e,wf=function(){function i(c,d,p,y,_,E){if(E!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},wf}var l_;function nk(){return l_||(l_=1,_f.exports=tk()()),_f.exports}var rk=nk();const Pe=Jc(rk);var Tf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var u_;function ik(){return u_||(u_=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(a=o(a,i(d)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var c="";for(var d in a)e.call(a,d)&&a[d]&&(c=o(c,d));return c}function o(a,c){return c?a?a+" "+c:a+c:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Tf)),Tf.exports}var sk=ik();const we=Jc(sk);function ip(){return ip=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ip.apply(null,arguments)}function tw(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function c_(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function ok(n){var e=ak(n,"string");return typeof e=="symbol"?e:String(e)}function ak(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function lk(n,e,t){var i=R.useRef(n!==void 0),o=R.useState(e),a=o[0],c=o[1],d=n!==void 0,p=i.current;return i.current=d,!d&&p&&a!==e&&c(e),[d?n:a,R.useCallback(function(y){for(var _=arguments.length,E=new Array(_>1?_-1:0),S=1;S<_;S++)E[S-1]=arguments[S];t&&t.apply(void 0,[y].concat(E)),c(y)},[t])]}function nm(n,e){return Object.keys(e).reduce(function(t,i){var o,a=t,c=a[c_(i)],d=a[i],p=tw(a,[c_(i),i].map(ok)),y=e[i],_=lk(d,c,n[y]),E=_[0],S=_[1];return ip({},p,(o={},o[i]=E,o[y]=S,o))},n)}function sp(n,e){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},sp(n,e)}function uk(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,sp(n,e)}const ck=["xxl","xl","lg","md","sm","xs"],hk="xs",rm=R.createContext({prefixes:{},breakpoints:ck,minBreakpoint:hk});function xe(n,e){const{prefixes:t}=R.useContext(rm);return n||t[e]||e}function nw(){const{breakpoints:n}=R.useContext(rm);return n}function rw(){const{minBreakpoint:n}=R.useContext(rm);return n}function im(n){return n&&n.ownerDocument||document}function dk(n){var e=im(n);return e&&e.defaultView||window}function fk(n,e){return dk(n).getComputedStyle(n,e)}var pk=/([A-Z])/g;function mk(n){return n.replace(pk,"-$1").toLowerCase()}var gk=/^ms-/;function ac(n){return mk(n).replace(gk,"-ms-")}var yk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function vk(n){return!!(n&&yk.test(n))}function Jr(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(ac(e))||fk(n).getPropertyValue(ac(e));Object.keys(e).forEach(function(o){var a=e[o];!a&&a!==0?n.style.removeProperty(ac(o)):vk(o)?i+=o+"("+a+") ":t+=ac(o)+": "+a+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}const h_={disabled:!1},iw=Vt.createContext(null);var _k=function(e){return e.scrollTop},cl="unmounted",bi="exited",Qn="entering",Hr="entered",Sl="exiting",oi=function(n){uk(e,n);function e(i,o){var a;a=n.call(this,i,o)||this;var c=o,d=c&&!c.isMounting?i.enter:i.appear,p;return a.appearStatus=null,i.in?d?(p=bi,a.appearStatus=Qn):p=Hr:i.unmountOnExit||i.mountOnEnter?p=cl:p=bi,a.state={status:p},a.nextCallback=null,a}e.getDerivedStateFromProps=function(o,a){var c=o.in;return c&&a.status===cl?{status:bi}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var a=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==Qn&&c!==Hr&&(a=Qn):(c===Qn||c===Hr)&&(a=Sl)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,a,c,d;return a=c=d=o,o!=null&&typeof o!="number"&&(a=o.exit,c=o.enter,d=o.appear!==void 0?o.appear:c),{exit:a,enter:c,appear:d}},t.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===Qn){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:jo.findDOMNode(this);c&&_k(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bi&&this.setState({status:cl})},t.performEnter=function(o){var a=this,c=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[jo.findDOMNode(this),d],y=p[0],_=p[1],E=this.getTimeouts(),S=d?E.appear:E.enter;if(!o&&!c||h_.disabled){this.safeSetState({status:Hr},function(){a.props.onEntered(y)});return}this.props.onEnter(y,_),this.safeSetState({status:Qn},function(){a.props.onEntering(y,_),a.onTransitionEnd(S,function(){a.safeSetState({status:Hr},function(){a.props.onEntered(y,_)})})})},t.performExit=function(){var o=this,a=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:jo.findDOMNode(this);if(!a||h_.disabled){this.safeSetState({status:bi},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Sl},function(){o.props.onExiting(d),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:bi},function(){o.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},t.setNextCallback=function(o){var a=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,a.nextCallback=null,o(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(o,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:jo.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],y=p[0],_=p[1];this.props.addEndListener(y,_)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===cl)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var d=tw(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Vt.createElement(iw.Provider,{value:null},typeof c=="function"?c(o,d):Vt.cloneElement(Vt.Children.only(c),d))},e}(Vt.Component);oi.contextType=iw;oi.propTypes={};function Oo(){}oi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Oo,onEntering:Oo,onEntered:Oo,onExit:Oo,onExiting:Oo,onExited:Oo};oi.UNMOUNTED=cl;oi.EXITED=bi;oi.ENTERING=Qn;oi.ENTERED=Hr;oi.EXITING=Sl;function Ek(n){return n.code==="Escape"||n.keyCode===27}function wk(){const n=R.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function ua(n){if(!n||typeof n=="function")return null;const{major:e}=wk();return e>=19?n.props.ref:n.ref}const Eh=!!(typeof window<"u"&&window.document&&window.document.createElement);var op=!1,ap=!1;try{var If={get passive(){return op=!0},get once(){return ap=op=!0}};Eh&&(window.addEventListener("test",If,If),window.removeEventListener("test",If,!0))}catch{}function Tk(n,e,t,i){if(i&&typeof i!="boolean"&&!ap){var o=i.once,a=i.capture,c=t;!ap&&o&&(c=t.__once||function d(p){this.removeEventListener(e,d,a),t.call(this,p)},t.__once=c),n.addEventListener(e,c,op?i:a)}n.addEventListener(e,t,i)}function Ik(n,e,t,i){var o=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,o),t.__once&&n.removeEventListener(e,t.__once,o)}function Mc(n,e,t,i){return Tk(n,e,t,i),function(){Ik(n,e,t,i)}}function Sk(n,e,t,i){if(i===void 0&&(i=!0),n){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,i),n.dispatchEvent(o)}}function Rk(n){var e=Jr(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Ck(n,e,t){t===void 0&&(t=5);var i=!1,o=setTimeout(function(){i||Sk(n,"transitionend",!0)},e+t),a=Mc(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(o),a()}}function Ak(n,e,t,i){t==null&&(t=Rk(n)||0);var o=Ck(n,t,i),a=Mc(n,"transitionend",e);return function(){o(),a()}}function d_(n,e){const t=Jr(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function sm(n,e){const t=d_(n,"transitionDuration"),i=d_(n,"transitionDelay"),o=Ak(n,a=>{a.target===n&&(o(),e(a))},t+i)}function sl(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...o){e.apply(this,o),t.apply(this,o)}},null)}function sw(n){n.offsetHeight}const f_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function xk(n,e){const t=f_(n),i=f_(e);return o=>{t&&t(o),i&&i(o)}}function kk(n,e){return R.useMemo(()=>xk(n,e),[n,e])}function Pk(n){return n&&"setState"in n?jo.findDOMNode(n):n??null}const om=Vt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:o,onExited:a,addEndListener:c,children:d,childRef:p,...y},_)=>{const E=R.useRef(null),S=kk(E,p),O=se=>{S(Pk(se))},F=se=>P=>{se&&E.current&&se(E.current,P)},z=R.useCallback(F(n),[n]),b=R.useCallback(F(e),[e]),Z=R.useCallback(F(t),[t]),re=R.useCallback(F(i),[i]),G=R.useCallback(F(o),[o]),J=R.useCallback(F(a),[a]),pe=R.useCallback(F(c),[c]);return T.jsx(oi,{ref:_,...y,onEnter:z,onEntered:Z,onEntering:b,onExit:re,onExited:J,onExiting:G,addEndListener:pe,nodeRef:E,children:typeof d=="function"?(se,P)=>d(se,{...P,ref:O}):Vt.cloneElement(d,{ref:O})})}),Nk={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Ok(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],o=Nk[n];return i+parseInt(Jr(e,o[0]),10)+parseInt(Jr(e,o[1]),10)}const Dk={[bi]:"collapse",[Sl]:"collapsing",[Qn]:"collapsing",[Hr]:"collapse show"},bk=Vt.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:o,className:a,children:c,dimension:d="height",in:p=!1,timeout:y=300,mountOnEnter:_=!1,unmountOnExit:E=!1,appear:S=!1,getDimensionValue:O=Ok,...F},z)=>{const b=typeof d=="function"?d():d,Z=R.useMemo(()=>sl(se=>{se.style[b]="0"},n),[b,n]),re=R.useMemo(()=>sl(se=>{const P=`scroll${b[0].toUpperCase()}${b.slice(1)}`;se.style[b]=`${se[P]}px`},e),[b,e]),G=R.useMemo(()=>sl(se=>{se.style[b]=null},t),[b,t]),J=R.useMemo(()=>sl(se=>{se.style[b]=`${O(b,se)}px`,sw(se)},i),[i,O,b]),pe=R.useMemo(()=>sl(se=>{se.style[b]=null},o),[b,o]);return T.jsx(om,{ref:z,addEndListener:sm,...F,"aria-expanded":F.role?p:null,onEnter:Z,onEntering:re,onEntered:G,onExit:J,onExiting:pe,childRef:ua(c),in:p,timeout:y,mountOnEnter:_,unmountOnExit:E,appear:S,children:(se,P)=>Vt.cloneElement(c,{...P,className:we(a,c.props.className,Dk[se],b==="width"&&"collapse-horizontal")})})});function Lk(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n},[n]),e}function bl(n){const e=Lk(n);return R.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const wh=n=>R.forwardRef((e,t)=>T.jsx("div",{...e,ref:t,className:we(e.className,n)})),ow=wh("h4");ow.displayName="DivStyledAsH4";const aw=R.forwardRef(({className:n,bsPrefix:e,as:t=ow,...i},o)=>(e=xe(e,"alert-heading"),T.jsx(t,{ref:o,className:we(n,e),...i})));aw.displayName="AlertHeading";function Vk(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n},[n]),e}function Wr(n){const e=Vk(n);return R.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function Mk(){const n=R.useRef(!0),e=R.useRef(()=>n.current);return R.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function jk(n){const e=R.useRef(null);return R.useEffect(()=>{e.current=n}),e.current}const Fk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Uk=typeof document<"u",p_=Uk||Fk?R.useLayoutEffect:R.useEffect,Bk=["as","disabled"];function $k(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function zk(n){return!n||n.trim()==="#"}function am({tagName:n,disabled:e,href:t,target:i,rel:o,role:a,onClick:c,tabIndex:d=0,type:p}){n||(t!=null||i!=null||o!=null?n="a":n="button");const y={tagName:n};if(n==="button")return[{type:p||"button",disabled:e},y];const _=S=>{if((e||n==="a"&&zk(t))&&S.preventDefault(),e){S.stopPropagation();return}c==null||c(S)},E=S=>{S.key===" "&&(S.preventDefault(),_(S))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?o:void 0,onClick:_,onKeyDown:E},y]}const lw=R.forwardRef((n,e)=>{let{as:t,disabled:i}=n,o=$k(n,Bk);const[a,{tagName:c}]=am(Object.assign({tagName:t,disabled:i},o));return T.jsx(c,Object.assign({},o,a,{ref:e}))});lw.displayName="Button";const Hk=["onKeyDown"];function Wk(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function qk(n){return!n||n.trim()==="#"}const lm=R.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=Wk(n,Hk);const[o]=am(Object.assign({tagName:"a"},i)),a=Wr(c=>{o.onKeyDown(c),t==null||t(c)});return qk(i.href)||i.role==="button"?T.jsx("a",Object.assign({ref:e},i,o,{onKeyDown:a})):T.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});lm.displayName="Anchor";const uw=R.forwardRef(({className:n,bsPrefix:e,as:t=lm,...i},o)=>(e=xe(e,"alert-link"),T.jsx(t,{ref:o,className:we(n,e),...i})));uw.displayName="AlertLink";const Kk={[Qn]:"show",[Hr]:"show"},jc=R.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...o},a)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=R.useCallback((p,y)=>{sw(p),i==null||i(p,y)},[i]);return T.jsx(om,{ref:a,addEndListener:sm,...c,onEnter:d,childRef:ua(e),children:(p,y)=>R.cloneElement(e,{...y,className:we("fade",n,e.props.className,Kk[p],t[p])})})});jc.displayName="Fade";const Gk={"aria-label":Pe.string,onClick:Pe.func,variant:Pe.oneOf(["white"])},Th=R.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},o)=>T.jsx("button",{ref:o,type:"button",className:we("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));Th.displayName="CloseButton";Th.propTypes=Gk;const cw=R.forwardRef((n,e)=>{const{bsPrefix:t,show:i=!0,closeLabel:o="Close alert",closeVariant:a,className:c,children:d,variant:p="primary",onClose:y,dismissible:_,transition:E=jc,...S}=nm(n,{show:"onClose"}),O=xe(t,"alert"),F=bl(Z=>{y&&y(!1,Z)}),z=E===!0?jc:E,b=T.jsxs("div",{role:"alert",...z?void 0:S,ref:e,className:we(c,O,p&&`${O}-${p}`,_&&`${O}-dismissible`),children:[_&&T.jsx(Th,{onClick:F,"aria-label":o,variant:a}),d]});return z?T.jsx(z,{unmountOnExit:!0,...S,ref:void 0,in:i,children:b}):i?b:null});cw.displayName="Alert";const Zr=Object.assign(cw,{Link:uw,Heading:aw}),hw=R.forwardRef(({bsPrefix:n,bg:e="primary",pill:t=!1,text:i,className:o,as:a="span",...c},d)=>{const p=xe(n,"badge");return T.jsx(a,{ref:d,...c,className:we(o,p,t&&"rounded-pill",i&&`text-${i}`,e&&`bg-${e}`)})});hw.displayName="Badge";const qt=R.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:o=!1,disabled:a=!1,className:c,...d},p)=>{const y=xe(e,"btn"),[_,{tagName:E}]=am({tagName:n,disabled:a,...d}),S=E;return T.jsx(S,{..._,...d,ref:p,disabled:a,className:we(c,y,o&&"active",t&&`${y}-${t}`,i&&`${y}-${i}`,d.href&&a&&"disabled")})});qt.displayName="Button";const um=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=xe(e,"card-body"),T.jsx(t,{ref:o,className:we(n,e),...i})));um.displayName="CardBody";const dw=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=xe(e,"card-footer"),T.jsx(t,{ref:o,className:we(n,e),...i})));dw.displayName="CardFooter";const cm=R.createContext(null);cm.displayName="CardHeaderContext";const fw=R.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},o)=>{const a=xe(n,"card-header"),c=R.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return T.jsx(cm.Provider,{value:c,children:T.jsx(t,{ref:o,...i,className:we(e,a)})})});fw.displayName="CardHeader";const pw=R.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...o},a)=>{const c=xe(n,"card-img");return T.jsx(i,{ref:a,className:we(t?`${c}-${t}`:c,e),...o})});pw.displayName="CardImg";const mw=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=xe(e,"card-img-overlay"),T.jsx(t,{ref:o,className:we(n,e),...i})));mw.displayName="CardImgOverlay";const gw=R.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},o)=>(e=xe(e,"card-link"),T.jsx(t,{ref:o,className:we(n,e),...i})));gw.displayName="CardLink";const Qk=wh("h6"),yw=R.forwardRef(({className:n,bsPrefix:e,as:t=Qk,...i},o)=>(e=xe(e,"card-subtitle"),T.jsx(t,{ref:o,className:we(n,e),...i})));yw.displayName="CardSubtitle";const vw=R.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},o)=>(e=xe(e,"card-text"),T.jsx(t,{ref:o,className:we(n,e),...i})));vw.displayName="CardText";const Xk=wh("h5"),_w=R.forwardRef(({className:n,bsPrefix:e,as:t=Xk,...i},o)=>(e=xe(e,"card-title"),T.jsx(t,{ref:o,className:we(n,e),...i})));_w.displayName="CardTitle";const Ew=R.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:o,body:a=!1,children:c,as:d="div",...p},y)=>{const _=xe(n,"card");return T.jsx(d,{ref:y,...p,className:we(e,_,t&&`bg-${t}`,i&&`text-${i}`,o&&`border-${o}`),children:a?T.jsx(um,{children:c}):c})});Ew.displayName="Card";const Pn=Object.assign(Ew,{Img:pw,Title:_w,Subtitle:yw,Body:um,Link:gw,Text:vw,Header:fw,Footer:dw,ImgOverlay:mw});function Yk(n,e){return R.Children.toArray(n).some(t=>R.isValidElement(t)&&t.type===e)}function Jk({as:n,bsPrefix:e,className:t,...i}){e=xe(e,"col");const o=nw(),a=rw(),c=[],d=[];return o.forEach(p=>{const y=i[p];delete i[p];let _,E,S;typeof y=="object"&&y!=null?{span:_,offset:E,order:S}=y:_=y;const O=p!==a?`-${p}`:"";_&&c.push(_===!0?`${e}${O}`:`${e}${O}-${_}`),S!=null&&d.push(`order${O}-${S}`),E!=null&&d.push(`offset${O}-${E}`)}),[{...i,className:we(t,...c,...d)},{as:n,bsPrefix:e,spans:c}]}const Uo=R.forwardRef((n,e)=>{const[{className:t,...i},{as:o="div",bsPrefix:a,spans:c}]=Jk(n);return T.jsx(o,{...i,ref:e,className:we(t,!c.length&&a)})});Uo.displayName="Col";const Zn=R.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...o},a)=>{const c=xe(n,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return T.jsx(t,{ref:a,...o,className:we(i,e?`${c}${d}`:c)})});Zn.displayName="Container";var Zk=Function.prototype.bind.call(Function.prototype.call,[].slice);function ks(n,e){return Zk(n.querySelectorAll(e))}function eP(){const[,n]=R.useReducer(e=>e+1,0);return n}function m_(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const Fc=R.createContext(null),hm=(n,e=null)=>n!=null?String(n):e||null,dm=R.createContext(null);dm.displayName="NavContext";const tP="data-rr-ui-",nP="rrUi";function Ih(n){return`${tP}${n}`}function rP(n){return`${nP}${n}`}const ww=R.createContext(Eh?window:void 0);ww.Provider;function fm(){return R.useContext(ww)}const iP=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",sP=typeof document<"u",oP=sP||iP?R.useLayoutEffect:R.useEffect,ca=R.createContext(null);ca.displayName="NavbarContext";const aP={type:Pe.string,tooltip:Pe.bool,as:Pe.elementType},Sh=R.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...o},a)=>T.jsx(n,{...o,ref:a,className:we(e,`${t}-${i?"tooltip":"feedback"}`)}));Sh.displayName="Feedback";Sh.propTypes=aP;const ii=R.createContext({}),pm=R.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:o=!1,isInvalid:a=!1,as:c="input",...d},p)=>{const{controlId:y}=R.useContext(ii);return e=xe(e,"form-check-input"),T.jsx(c,{...d,ref:p,type:i,id:n||y,className:we(t,e,o&&"is-valid",a&&"is-invalid")})});pm.displayName="FormCheckInput";const Uc=R.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},o)=>{const{controlId:a}=R.useContext(ii);return n=xe(n,"form-check-label"),T.jsx("label",{...i,ref:o,htmlFor:t||a,className:we(e,n)})});Uc.displayName="FormCheckLabel";const Tw=R.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:o=!1,disabled:a=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:y,feedbackType:_,className:E,style:S,title:O="",type:F="checkbox",label:z,children:b,as:Z="input",...re},G)=>{e=xe(e,"form-check"),t=xe(t,"form-switch");const{controlId:J}=R.useContext(ii),pe=R.useMemo(()=>({controlId:n||J}),[J,n]),se=!b&&z!=null&&z!==!1||Yk(b,Uc),P=T.jsx(pm,{...re,type:F==="switch"?"checkbox":F,ref:G,isValid:c,isInvalid:d,disabled:a,as:Z});return T.jsx(ii.Provider,{value:pe,children:T.jsx("div",{style:S,className:we(E,se&&e,i&&`${e}-inline`,o&&`${e}-reverse`,F==="switch"&&t),children:b||T.jsxs(T.Fragment,{children:[P,se&&T.jsx(Uc,{title:O,children:z}),y&&T.jsx(Sh,{type:_,tooltip:p,children:y})]})})})});Tw.displayName="FormCheck";const Bc=Object.assign(Tw,{Input:pm,Label:Uc}),Iw=R.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:o,className:a,isValid:c=!1,isInvalid:d=!1,plaintext:p,readOnly:y,as:_="input",...E},S)=>{const{controlId:O}=R.useContext(ii);return n=xe(n,"form-control"),T.jsx(_,{...E,type:e,size:i,ref:S,readOnly:y,id:o||O,className:we(a,p?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",d&&"is-invalid")})});Iw.displayName="FormControl";const lP=Object.assign(Iw,{Feedback:Sh}),Sw=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=xe(e,"form-floating"),T.jsx(t,{ref:o,className:we(n,e),...i})));Sw.displayName="FormFloating";const mm=R.forwardRef(({controlId:n,as:e="div",...t},i)=>{const o=R.useMemo(()=>({controlId:n}),[n]);return T.jsx(ii.Provider,{value:o,children:T.jsx(e,{...t,ref:i})})});mm.displayName="FormGroup";const Rw=R.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:o,htmlFor:a,...c},d)=>{const{controlId:p}=R.useContext(ii);e=xe(e,"form-label");let y="col-form-label";typeof t=="string"&&(y=`${y} ${y}-${t}`);const _=we(o,e,i&&"visually-hidden",t&&y);return a=a||p,t?T.jsx(Uo,{ref:d,as:"label",className:_,htmlFor:a,...c}):T.jsx(n,{ref:d,className:_,htmlFor:a,...c})});Rw.displayName="FormLabel";const Cw=R.forwardRef(({bsPrefix:n,className:e,id:t,...i},o)=>{const{controlId:a}=R.useContext(ii);return n=xe(n,"form-range"),T.jsx("input",{...i,type:"range",ref:o,className:we(e,n),id:t||a})});Cw.displayName="FormRange";const Aw=R.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:o=!1,isInvalid:a=!1,id:c,...d},p)=>{const{controlId:y}=R.useContext(ii);return n=xe(n,"form-select"),T.jsx("select",{...d,size:t,ref:p,className:we(i,n,e&&`${n}-${e}`,o&&"is-valid",a&&"is-invalid"),id:c||y})});Aw.displayName="FormSelect";const xw=R.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...o},a)=>(n=xe(n,"form-text"),T.jsx(t,{...o,ref:a,className:we(e,n,i&&"text-muted")})));xw.displayName="FormText";const kw=R.forwardRef((n,e)=>T.jsx(Bc,{...n,ref:e,type:"switch"}));kw.displayName="Switch";const uP=Object.assign(kw,{Input:Bc.Input,Label:Bc.Label}),Pw=R.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:o,...a},c)=>(n=xe(n,"form-floating"),T.jsxs(mm,{ref:c,className:we(e,n),controlId:i,...a,children:[t,T.jsx("label",{htmlFor:i,children:o})]})));Pw.displayName="FloatingLabel";const cP={_ref:Pe.any,validated:Pe.bool,as:Pe.elementType},gm=R.forwardRef(({className:n,validated:e,as:t="form",...i},o)=>T.jsx(t,{...i,ref:o,className:we(n,e&&"was-validated")}));gm.displayName="Form";gm.propTypes=cP;const zt=Object.assign(gm,{Group:mm,Control:lP,Floating:Sw,Check:Bc,Switch:uP,Label:Rw,Text:xw,Range:Cw,Select:Aw,FloatingLabel:Pw}),g_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function hP(n,e){const t=g_(n),i=g_(e);return o=>{t&&t(o),i&&i(o)}}function Rh(n,e){return R.useMemo(()=>hP(n,e),[n,e])}const Nw=R.createContext(null),dP=["as","active","eventKey"];function fP(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Ow({key:n,onClick:e,active:t,id:i,role:o,disabled:a}){const c=R.useContext(Fc),d=R.useContext(dm),p=R.useContext(Nw);let y=t;const _={role:o};if(d){!o&&d.role==="tablist"&&(_.role="tab");const E=d.getControllerId(n??null),S=d.getControlledId(n??null);_[Ih("event-key")]=n,_.id=E||i,y=t==null&&n!=null?d.activeKey===n:t,(y||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(_["aria-controls"]=S)}return _.role==="tab"&&(_["aria-selected"]=y,y||(_.tabIndex=-1),a&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=Wr(E=>{a||(e==null||e(E),n!=null&&c&&!E.isPropagationStopped()&&c(n,E))}),[_,{isActive:y}]}const Dw=R.forwardRef((n,e)=>{let{as:t=lw,active:i,eventKey:o}=n,a=fP(n,dP);const[c,d]=Ow(Object.assign({key:hm(o,a.href),active:i},a));return c[Ih("active")]=d.isActive,T.jsx(t,Object.assign({},a,c,{ref:e}))});Dw.displayName="NavItem";const pP=["as","onSelect","activeKey","role","onKeyDown"];function mP(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const y_=()=>{},v_=Ih("event-key"),bw=R.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:o,role:a,onKeyDown:c}=n,d=mP(n,pP);const p=eP(),y=R.useRef(!1),_=R.useContext(Fc),E=R.useContext(Nw);let S,O;E&&(a=a||"tablist",o=E.activeKey,S=E.getControlledId,O=E.getControllerId);const F=R.useRef(null),z=G=>{const J=F.current;if(!J)return null;const pe=ks(J,`[${v_}]:not([aria-disabled=true])`),se=J.querySelector("[aria-selected=true]");if(!se||se!==document.activeElement)return null;const P=pe.indexOf(se);if(P===-1)return null;let C=P+G;return C>=pe.length&&(C=0),C<0&&(C=pe.length-1),pe[C]},b=(G,J)=>{G!=null&&(i==null||i(G,J),_==null||_(G,J))},Z=G=>{if(c==null||c(G),!E)return;let J;switch(G.key){case"ArrowLeft":case"ArrowUp":J=z(-1);break;case"ArrowRight":case"ArrowDown":J=z(1);break;default:return}J&&(G.preventDefault(),b(J.dataset[rP("EventKey")]||null,G),y.current=!0,p())};R.useEffect(()=>{if(F.current&&y.current){const G=F.current.querySelector(`[${v_}][aria-selected=true]`);G==null||G.focus()}y.current=!1});const re=Rh(e,F);return T.jsx(Fc.Provider,{value:b,children:T.jsx(dm.Provider,{value:{role:a,activeKey:hm(o),getControlledId:S||y_,getControllerId:O||y_},children:T.jsx(t,Object.assign({},d,{onKeyDown:Z,ref:re,role:a}))})})});bw.displayName="Nav";const gP=Object.assign(bw,{Item:Dw});function Sf(n){n===void 0&&(n=im());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function yP(n){const e=R.useRef(n);return e.current=n,e}function vP(n){const e=yP(n);R.useEffect(()=>()=>e.current(),[])}function _P(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const __=Ih("modal-open");class ym{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return _P(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[i]:o.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Jr(o,i)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(__,""),Jr(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(__),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Rf=(n,e)=>Eh?n==null?(e||im()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function EP(n,e){const t=fm(),[i,o]=R.useState(()=>Rf(n,t==null?void 0:t.document));if(!i){const a=Rf(n);a&&o(a)}return R.useEffect(()=>{},[e,i]),R.useEffect(()=>{const a=Rf(n);a!==i&&o(a)},[n,i]),i}function wP({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:o}){const a=R.useRef(null),c=R.useRef(e),d=Wr(t);R.useEffect(()=>{e?c.current=!0:d(a.current)},[e,d]);const p=Rh(a,ua(n)),y=R.cloneElement(n,{ref:p});return e?y:o||!c.current&&i?null:y}const TP=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function IP(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function SP(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:o,onExiting:a,onExited:c,addEndListener:d,children:p}=n,y=IP(n,TP);const _=R.useRef(null),E=Rh(_,ua(p)),S=J=>pe=>{J&&_.current&&J(_.current,pe)},O=R.useCallback(S(e),[e]),F=R.useCallback(S(t),[t]),z=R.useCallback(S(i),[i]),b=R.useCallback(S(o),[o]),Z=R.useCallback(S(a),[a]),re=R.useCallback(S(c),[c]),G=R.useCallback(S(d),[d]);return Object.assign({},y,{nodeRef:_},e&&{onEnter:O},t&&{onEntering:F},i&&{onEntered:z},o&&{onExit:b},a&&{onExiting:Z},c&&{onExited:re},d&&{addEndListener:G},{children:typeof p=="function"?(J,pe)=>p(J,Object.assign({},pe,{ref:E})):R.cloneElement(p,{ref:E})})}const RP=["component"];function CP(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const AP=R.forwardRef((n,e)=>{let{component:t}=n,i=CP(n,RP);const o=SP(i);return T.jsx(t,Object.assign({ref:e},o))});function xP({in:n,onTransition:e}){const t=R.useRef(null),i=R.useRef(!0),o=Wr(e);return p_(()=>{if(!t.current)return;let a=!1;return o({in:n,element:t.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[n,o]),p_(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function kP({children:n,in:e,onExited:t,onEntered:i,transition:o}){const[a,c]=R.useState(!e);e&&a&&c(!1);const d=xP({in:!!e,onTransition:y=>{const _=()=>{y.isStale()||(y.in?i==null||i(y.element,y.initial):(c(!0),t==null||t(y.element)))};Promise.resolve(o(y)).then(_,E=>{throw y.in||c(!0),E})}}),p=Rh(d,ua(n));return a&&!e?null:R.cloneElement(n,{ref:p})}function E_(n,e,t){return n?T.jsx(AP,Object.assign({},t,{component:n})):e?T.jsx(kP,Object.assign({},t,{transition:e})):T.jsx(wP,Object.assign({},t))}const PP=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function NP(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let Cf;function OP(n){return Cf||(Cf=new ym({ownerDocument:n==null?void 0:n.document})),Cf}function DP(n){const e=fm(),t=n||OP(e),i=R.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:R.useCallback(o=>{i.current.dialog=o},[]),setBackdropRef:R.useCallback(o=>{i.current.backdrop=o},[])})}const Lw=R.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:o,style:a,children:c,backdrop:d=!0,keyboard:p=!0,onBackdropClick:y,onEscapeKeyDown:_,transition:E,runTransition:S,backdropTransition:O,runBackdropTransition:F,autoFocus:z=!0,enforceFocus:b=!0,restoreFocus:Z=!0,restoreFocusOptions:re,renderDialog:G,renderBackdrop:J=qe=>T.jsx("div",Object.assign({},qe)),manager:pe,container:se,onShow:P,onHide:C=()=>{},onExit:k,onExited:D,onExiting:V,onEnter:j,onEntering:x,onEntered:Qe}=n,ht=NP(n,PP);const Ke=fm(),Ne=EP(se),ee=DP(pe),me=Mk(),oe=jk(t),[M,q]=R.useState(!t),ce=R.useRef(null);R.useImperativeHandle(e,()=>ee,[ee]),Eh&&!oe&&t&&(ce.current=Sf(Ke==null?void 0:Ke.document)),t&&M&&q(!1);const ye=Wr(()=>{if(ee.add(),ot.current=Mc(document,"keydown",Ue),ze.current=Mc(document,"focus",()=>setTimeout(Oe),!0),P&&P(),z){var qe,ai;const Cr=Sf((qe=(ai=ee.dialog)==null?void 0:ai.ownerDocument)!=null?qe:Ke==null?void 0:Ke.document);ee.dialog&&Cr&&!m_(ee.dialog,Cr)&&(ce.current=Cr,ee.dialog.focus())}}),Se=Wr(()=>{if(ee.remove(),ot.current==null||ot.current(),ze.current==null||ze.current(),Z){var qe;(qe=ce.current)==null||qe.focus==null||qe.focus(re),ce.current=null}});R.useEffect(()=>{!t||!Ne||ye()},[t,Ne,ye]),R.useEffect(()=>{M&&Se()},[M,Se]),vP(()=>{Se()});const Oe=Wr(()=>{if(!b||!me()||!ee.isTopModal())return;const qe=Sf(Ke==null?void 0:Ke.document);ee.dialog&&qe&&!m_(ee.dialog,qe)&&ee.dialog.focus()}),Fe=Wr(qe=>{qe.target===qe.currentTarget&&(y==null||y(qe),d===!0&&C())}),Ue=Wr(qe=>{p&&Ek(qe)&&ee.isTopModal()&&(_==null||_(qe),qe.defaultPrevented||C())}),ze=R.useRef(),ot=R.useRef(),Dn=(...qe)=>{q(!0),D==null||D(...qe)};if(!Ne)return null;const Rr=Object.assign({role:i,ref:ee.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},ht,{style:a,className:o,tabIndex:-1});let vn=G?G(Rr):T.jsx("div",Object.assign({},Rr,{children:R.cloneElement(c,{role:"document"})}));vn=E_(E,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:k,onExiting:V,onExited:Dn,onEnter:j,onEntering:x,onEntered:Qe,children:vn});let _n=null;return d&&(_n=J({ref:ee.setBackdropRef,onClick:Fe}),_n=E_(O,F,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:_n})),T.jsx(T.Fragment,{children:jo.createPortal(T.jsxs(T.Fragment,{children:[_n,vn]}),Ne)})});Lw.displayName="Modal";const bP=Object.assign(Lw,{Manager:ym});function LP(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function VP(n,e){n.classList?n.classList.add(e):LP(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function w_(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function MP(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=w_(n.className,e):n.setAttribute("class",w_(n.className&&n.className.baseVal||"",e))}const Do={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Vw extends ym{adjustAndStore(e,t,i){const o=t.style[e];t.dataset[e]=o,Jr(t,{[e]:`${parseFloat(Jr(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Jr(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(VP(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ks(t,Do.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth)),ks(t,Do.STICKY_CONTENT).forEach(a=>this.adjustAndStore(o,a,-e.scrollBarWidth)),ks(t,Do.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(o,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();MP(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ks(t,Do.FIXED_CONTENT).forEach(a=>this.restore(i,a)),ks(t,Do.STICKY_CONTENT).forEach(a=>this.restore(o,a)),ks(t,Do.NAVBAR_TOGGLER).forEach(a=>this.restore(o,a))}}let Af;function jP(n){return Af||(Af=new Vw(n)),Af}const Mw=R.createContext({onHide(){}}),FP=R.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:o,...a},c)=>{const d=R.useContext(Mw),p=bl(()=>{d==null||d.onHide(),i==null||i()});return T.jsxs("div",{ref:c,...a,children:[o,t&&T.jsx(Th,{"aria-label":n,variant:e,onClick:p})]})}),jw=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=xe(e,"nav-item"),T.jsx(t,{ref:o,className:we(n,e),...i})));jw.displayName="NavItem";const Fw=R.forwardRef(({bsPrefix:n,className:e,as:t=lm,active:i,eventKey:o,disabled:a=!1,...c},d)=>{n=xe(n,"nav-link");const[p,y]=Ow({key:hm(o,c.href),active:i,disabled:a,...c});return T.jsx(t,{...c,...p,ref:d,disabled:a,className:we(e,n,a&&"disabled",y.isActive&&"active")})});Fw.displayName="NavLink";const Uw=R.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:o,fill:a=!1,justify:c=!1,navbar:d,navbarScroll:p,className:y,activeKey:_,...E}=nm(n,{activeKey:"onSelect"}),S=xe(i,"nav");let O,F,z=!1;const b=R.useContext(ca),Z=R.useContext(cm);return b?(O=b.bsPrefix,z=d??!0):Z&&({cardHeaderBsPrefix:F}=Z),T.jsx(gP,{as:t,ref:e,activeKey:_,className:we(y,{[S]:!z,[`${O}-nav`]:z,[`${O}-nav-scroll`]:z&&p,[`${F}-${o}`]:!!F,[`${S}-${o}`]:!!o,[`${S}-fill`]:a,[`${S}-justified`]:c}),...E})});Uw.displayName="Nav";const xf=Object.assign(Uw,{Item:jw,Link:Fw}),Bw=R.forwardRef(({bsPrefix:n,className:e,as:t,...i},o)=>{n=xe(n,"navbar-brand");const a=t||(i.href?"a":"span");return T.jsx(a,{...i,ref:o,className:we(e,n)})});Bw.displayName="NavbarBrand";const $w=R.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=xe(e,"navbar-collapse");const o=R.useContext(ca);return T.jsx(bk,{in:!!(o&&o.expanded),...t,children:T.jsx("div",{ref:i,className:e,children:n})})});$w.displayName="NavbarCollapse";const zw=R.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:o="button",onClick:a,...c},d)=>{n=xe(n,"navbar-toggler");const{onToggle:p,expanded:y}=R.useContext(ca)||{},_=bl(E=>{a&&a(E),p&&p()});return o==="button"&&(c.type="button"),T.jsx(o,{...c,ref:d,onClick:_,"aria-label":i,className:we(e,n,!y&&"collapsed"),children:t||T.jsx("span",{className:`${n}-icon`})})});zw.displayName="NavbarToggle";const lp=new WeakMap,T_=(n,e)=>{if(!n||!e)return;const t=lp.get(e)||new Map;lp.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function UP(n,e=typeof window>"u"?void 0:window){const t=T_(n,e),[i,o]=R.useState(()=>t?t.matches:!1);return oP(()=>{let a=T_(n,e);if(!a)return o(!1);let c=lp.get(e);const d=()=>{o(a.matches)};return a.refCount++,a.addListener(d),d(),()=>{a.removeListener(d),a.refCount--,a.refCount<=0&&(c==null||c.delete(a.media)),a=void 0}},[n]),i}function BP(n){const e=Object.keys(n);function t(d,p){return d===p?p:d?`${d} and ${p}`:p}function i(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function o(d){const p=i(d);let y=n[p];return typeof y=="number"?y=`${y-.2}px`:y=`calc(${y} - 0.2px)`,`(max-width: ${y})`}function a(d){let p=n[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(d,p,y){let _;typeof d=="object"?(_=d,y=p,p=!0):(p=p||!0,_={[d]:p});let E=R.useMemo(()=>Object.entries(_).reduce((S,[O,F])=>((F==="up"||F===!0)&&(S=t(S,a(O))),(F==="down"||F===!0)&&(S=t(S,o(O))),S),""),[JSON.stringify(_)]);return UP(E,y)}return c}const $P=BP({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Hw=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=xe(e,"offcanvas-body"),T.jsx(t,{ref:o,className:we(n,e),...i})));Hw.displayName="OffcanvasBody";const zP={[Qn]:"show",[Hr]:"show"},Ww=R.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:o=!1,unmountOnExit:a=!1,appear:c=!1,...d},p)=>(n=xe(n,"offcanvas"),T.jsx(om,{ref:p,addEndListener:sm,in:i,mountOnEnter:o,unmountOnExit:a,appear:c,...d,childRef:ua(t),children:(y,_)=>R.cloneElement(t,{..._,className:we(e,t.props.className,(y===Qn||y===Sl)&&`${n}-toggling`,zP[y])})})));Ww.displayName="OffcanvasToggling";const qw=R.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...o},a)=>(n=xe(n,"offcanvas-header"),T.jsx(FP,{ref:a,...o,className:we(e,n),closeLabel:t,closeButton:i})));qw.displayName="OffcanvasHeader";const HP=wh("h5"),Kw=R.forwardRef(({className:n,bsPrefix:e,as:t=HP,...i},o)=>(e=xe(e,"offcanvas-title"),T.jsx(t,{ref:o,className:we(n,e),...i})));Kw.displayName="OffcanvasTitle";function WP(n){return T.jsx(Ww,{...n})}function qP(n){return T.jsx(jc,{...n})}const Gw=R.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:o="start",responsive:a,show:c=!1,backdrop:d=!0,keyboard:p=!0,scroll:y=!1,onEscapeKeyDown:_,onShow:E,onHide:S,container:O,autoFocus:F=!0,enforceFocus:z=!0,restoreFocus:b=!0,restoreFocusOptions:Z,onEntered:re,onExit:G,onExiting:J,onEnter:pe,onEntering:se,onExited:P,backdropClassName:C,manager:k,renderStaticNode:D=!1,...V},j)=>{const x=R.useRef();n=xe(n,"offcanvas");const[Qe,ht]=R.useState(!1),Ke=bl(S),Ne=$P(a||"xs","up");R.useEffect(()=>{ht(a?c&&!Ne:c)},[c,a,Ne]);const ee=R.useMemo(()=>({onHide:Ke}),[Ke]);function me(){return k||(y?(x.current||(x.current=new Vw({handleContainerOverflow:!1})),x.current):jP())}const oe=(ye,...Se)=>{ye&&(ye.style.visibility="visible"),pe==null||pe(ye,...Se)},M=(ye,...Se)=>{ye&&(ye.style.visibility=""),P==null||P(...Se)},q=R.useCallback(ye=>T.jsx("div",{...ye,className:we(`${n}-backdrop`,C)}),[C,n]),ce=ye=>T.jsx("div",{...ye,...V,className:we(e,a?`${n}-${a}`:n,`${n}-${o}`),"aria-labelledby":i,children:t});return T.jsxs(T.Fragment,{children:[!Qe&&(a||D)&&ce({}),T.jsx(Mw.Provider,{value:ee,children:T.jsx(bP,{show:Qe,ref:j,backdrop:d,container:O,keyboard:p,autoFocus:F,enforceFocus:z&&!y,restoreFocus:b,restoreFocusOptions:Z,onEscapeKeyDown:_,onShow:E,onHide:Ke,onEnter:oe,onEntering:se,onEntered:re,onExit:G,onExiting:J,onExited:M,manager:me(),transition:WP,backdropTransition:qP,renderBackdrop:q,renderDialog:ce})})]})});Gw.displayName="Offcanvas";const KP=Object.assign(Gw,{Body:Hw,Header:qw,Title:Kw}),Qw=R.forwardRef(({onHide:n,...e},t)=>{const i=R.useContext(ca),o=bl(()=>{i==null||i.onToggle==null||i.onToggle(),n==null||n()});return T.jsx(KP,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:o})});Qw.displayName="NavbarOffcanvas";const Xw=R.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},o)=>(e=xe(e,"navbar-text"),T.jsx(t,{ref:o,className:we(n,e),...i})));Xw.displayName="NavbarText";const Yw=R.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:o="light",bg:a,fixed:c,sticky:d,className:p,as:y="nav",expanded:_,onToggle:E,onSelect:S,collapseOnSelect:O=!1,...F}=nm(n,{expanded:"onToggle"}),z=xe(t,"navbar"),b=R.useCallback((...G)=>{S==null||S(...G),O&&_&&(E==null||E(!1))},[S,O,_,E]);F.role===void 0&&y!=="nav"&&(F.role="navigation");let Z=`${z}-expand`;typeof i=="string"&&(Z=`${Z}-${i}`);const re=R.useMemo(()=>({onToggle:()=>E==null?void 0:E(!_),bsPrefix:z,expanded:!!_,expand:i}),[z,_,i,E]);return T.jsx(ca.Provider,{value:re,children:T.jsx(Fc.Provider,{value:b,children:T.jsx(y,{ref:e,...F,className:we(p,z,i&&Z,o&&`${z}-${o}`,a&&`bg-${a}`,d&&`sticky-${d}`,c&&`fixed-${c}`)})})})});Yw.displayName="Navbar";const lc=Object.assign(Yw,{Brand:Bw,Collapse:$w,Offcanvas:Qw,Text:Xw,Toggle:zw}),$c=R.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},o)=>{const a=xe(n,"row"),c=nw(),d=rw(),p=`${a}-cols`,y=[];return c.forEach(_=>{const E=i[_];delete i[_];let S;E!=null&&typeof E=="object"?{cols:S}=E:S=E;const O=_!==d?`-${_}`:"";S!=null&&y.push(`${p}${O}-${S}`)}),T.jsx(t,{ref:o,...i,className:we(e,a,...y)})});$c.displayName="Row";const vm=R.forwardRef(({bsPrefix:n,className:e,striped:t,bordered:i,borderless:o,hover:a,size:c,variant:d,responsive:p,...y},_)=>{const E=xe(n,"table"),S=we(e,E,d&&`${E}-${d}`,c&&`${E}-${c}`,t&&`${E}-${typeof t=="string"?`striped-${t}`:"striped"}`,i&&`${E}-bordered`,o&&`${E}-borderless`,a&&`${E}-hover`),O=T.jsx("table",{...y,className:S,ref:_});if(p){let F=`${E}-responsive`;return typeof p=="string"&&(F=`${F}-${p}`),T.jsx("div",{className:F,children:O})}return O}),ei=n=>`$${new Intl.NumberFormat("es-CL",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(n)}`,Jw=({items:n})=>T.jsx("div",{className:"item-list bg-light",children:T.jsx(Zn,{className:"py-4",children:T.jsx($c,{xs:1,sm:2,md:3,lg:4,className:"g-4",children:n.map(e=>{var t;return T.jsx(Uo,{children:T.jsxs(Pn,{className:"h-100 shadow-sm border",children:[T.jsx(Pn.Img,{variant:"top",src:((t=e.images)==null?void 0:t[0])||"https://publicdomainvectors.org/photos/mono-gnome-question.png",alt:e.name,className:"p-3",style:{height:"200px",objectFit:"contain"}}),T.jsxs(Pn.Body,{className:"d-flex flex-column",children:[T.jsx(Pn.Title,{children:e.name}),T.jsx(Pn.Text,{className:"text-muted small",children:e.description}),T.jsx(Pn.Text,{className:"text-muted",children:T.jsxs("small",{children:["Categoría: ",e.category]})}),T.jsx(Pn.Text,{className:"h5 text-success mt-auto mb-3",children:ei(e.price)}),T.jsx(On,{to:`/item/${e.id}`,className:"btn btn-success",children:"Ver Detalles"})]})]})},e.id)})})})});Jw.propTypes={items:Pe.arrayOf(Pe.shape({id:Pe.string.isRequired,name:Pe.string.isRequired,description:Pe.string,price:Pe.number.isRequired,category:Pe.string.isRequired,images:Pe.arrayOf(Pe.string)})).isRequired};const up=()=>{const[n,e]=R.useState([]),{id:t}=n0(),i=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return R.useEffect(()=>{(async()=>{try{const a=$E(dr,"items"),d=(await Kx(a)).docs.map(y=>({id:y.id,...y.data()})),p=t?d.filter(y=>i(y.category)===i(t)):d;e(p)}catch(a){console.error("❌ Error obteniendo productos:",a)}})()},[t]),T.jsx(Jw,{items:n})};up.propTypes={greeting:Pe.string};const Zw=({stock:n,initial:e=1,onAdd:t,onChange:i})=>{const[o,a]=R.useState(e),c=()=>{if(o<n){const p=o+1;a(p),i==null||i(p)}},d=()=>{if(o>1){const p=o-1;a(p),i==null||i(p)}};return T.jsxs("div",{className:"d-flex flex-column align-items-center",children:[T.jsxs("div",{className:"btn-group mb-3",role:"group","aria-label":"Cantidad",style:{width:"222px"},children:[T.jsx("button",{className:"btn btn-outline-success",onClick:d,disabled:o<=1,children:"-"}),T.jsx("span",{className:"btn btn-outline-success disabled",children:o}),T.jsx("button",{className:"btn btn-outline-success",onClick:c,disabled:o>=n,children:"+"})]}),T.jsx("button",{className:"btn btn-success",onClick:()=>t(o),disabled:n<=0,style:{width:"222px",height:"38px"},children:n>0?"Agregar al Carrito":"Sin Stock"})]})};Zw.propTypes={stock:Pe.number.isRequired,initial:Pe.number,onAdd:Pe.func.isRequired,onChange:Pe.func};const eT=R.createContext(),tT=({children:n})=>{const[e,t]=R.useState(()=>{const _=localStorage.getItem("cart");return _?JSON.parse(_):[]});R.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const i=(_,E)=>{c(_.id)?t(S=>S.map(O=>O.id===_.id?{...O,quantity:O.quantity+E}:O)):t(S=>[...S,{..._,quantity:E}])},o=_=>{t(E=>E.filter(S=>S.id!==_))},a=()=>{t([])},c=_=>e.some(E=>E.id===_),d=()=>e.reduce((_,E)=>_+E.quantity,0),p=()=>e.reduce((_,E)=>_+E.price*E.quantity,0),y=(_,E)=>{E<1||t(S=>S.map(O=>O.id===_?{...O,quantity:E}:O))};return T.jsx(eT.Provider,{value:{cart:e,addItem:i,removeItem:o,clear:a,isInCart:c,getTotalQuantity:d,getTotalPrice:p,updateItemQuantity:y},children:n})};tT.propTypes={children:Pe.node.isRequired};const Ll=()=>{const n=R.useContext(eT);if(!n)throw new Error("useCart debe ser usado dentro de un CartProvider");return n};function _m(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function nT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GP=nT,rT=new Al("auth","Firebase",nT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new yp("@firebase/auth");function QP(n,...e){zc.logLevel<=De.WARN&&zc.warn(`Auth (${js}): ${n}`,...e)}function vc(n,...e){zc.logLevel<=De.ERROR&&zc.error(`Auth (${js}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n,...e){throw wm(n,...e)}function Jn(n,...e){return wm(n,...e)}function Em(n,e,t){const i=Object.assign(Object.assign({},GP()),{[e]:t});return new Al("auth","Firebase",i).create(e,{appName:n.name})}function Os(n){return Em(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Er(n,"argument-error"),Em(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return rT.create(n,...e)}function Re(n,e,...t){if(!n)throw wm(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vc(e),new Error(e)}function si(n,e){n||Gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function YP(){return I_()==="http:"||I_()==="https:"}function I_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YP()||ES()||"connection"in navigator)?navigator.onLine:!0}function ZP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=yS()||wS()}get(){return JP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Vl(3e4,6e4);function Im(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ha(n,e,t,i,o={}){return sT(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=xl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return _S()||(y.referrerPolicy="no-referrer"),iT.fetch()(oT(n,n.config.apiHost,t,d),y)})}async function sT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},eN),e);try{const o=new rN(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw uc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw uc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw uc(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Em(n,_,y);Er(n,_)}}catch(o){if(o instanceof Tr)throw o;Er(n,"network-request-failed",{message:String(o)})}}async function nN(n,e,t,i,o={}){const a=await ha(n,e,t,i,o);return"mfaPendingCredential"in a&&Er(n,"multi-factor-auth-required",{_serverResponse:a}),a}function oT(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Tm(n.config,o):`${n.config.apiScheme}://${o}`}class rN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Jn(this.auth,"network-request-failed")),tN.get())})}}function uc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Jn(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e){return ha(n,"POST","/v1/accounts:delete",e)}async function aT(n,e){return ha(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sN(n,e=!1){const t=kt(n),i=await t.getIdToken(e),o=Sm(i);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:ml(kf(o.auth_time)),issuedAtTime:ml(kf(o.iat)),expirationTime:ml(kf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function kf(n){return Number(n)*1e3}function Sm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=l0(t);return o?JSON.parse(o):(vc("Failed to decode base64 JWT payload"),null)}catch(o){return vc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function S_(n){const e=Sm(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Tr&&oN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function oN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Rl(n,aT(t,{idToken:i}));Re(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?lT(a.providerUserInfo):[],d=uN(n.providerData,c),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new hp(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function lN(n){const e=kt(n);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uN(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function lT(n){return n.map(e=>{var{providerId:t}=e,i=_m(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(n,e){const t=await sT(n,{},async()=>{const i=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=oT(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",iT.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hN(n,e){return ha(n,"POST","/v2/accounts:revokeToken",Im(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=S_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await cN(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Bo;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Re(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Re(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=_m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return sN(this,e)}reload(){return lN(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Hc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await Rl(this,iN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,p,y,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,O=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,F=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,b=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Z=(y=t.createdAt)!==null&&y!==void 0?y:void 0,re=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:G,emailVerified:J,isAnonymous:pe,providerData:se,stsTokenManager:P}=t;Re(G&&P,e,"internal-error");const C=Bo.fromJSON(this.name,P);Re(typeof G=="string",e,"internal-error"),Oi(E,e.name),Oi(S,e.name),Re(typeof J=="boolean",e,"internal-error"),Re(typeof pe=="boolean",e,"internal-error"),Oi(O,e.name),Oi(F,e.name),Oi(z,e.name),Oi(b,e.name),Oi(Z,e.name),Oi(re,e.name);const k=new Qr({uid:G,auth:e,email:S,emailVerified:J,displayName:E,isAnonymous:pe,photoURL:F,phoneNumber:O,tenantId:z,stsTokenManager:C,createdAt:Z,lastLoginAt:re});return se&&Array.isArray(se)&&(k.providerData=se.map(D=>Object.assign({},D))),b&&(k._redirectEventId=b),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new Bo;o.updateFromServerResponse(t);const a=new Qr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Hc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?lT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Bo;d.updateFromIdToken(i);const p=new Qr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;function Xr(n){si(n instanceof Function,"Expected a class definition");let e=R_.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,R_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}uT.type="NONE";const C_=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(n,e,t){return`firebase:${n}:${e}:${t}`}class $o{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=_c(this.userKey,o.apiKey,a),this.fullPersistenceKey=_c("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new $o(Xr(C_),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||Xr(C_);const c=_c(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const _=await y._get(c);if(_){const E=Qr._fromJSON(e,_);y!==a&&(d=E),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new $o(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new $o(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mT(e))return"Blackberry";if(gT(e))return"Webos";if(hT(e))return"Safari";if((e.includes("chrome/")||dT(e))&&!e.includes("edge/"))return"Chrome";if(pT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function cT(n=Kt()){return/firefox\//i.test(n)}function hT(n=Kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dT(n=Kt()){return/crios\//i.test(n)}function fT(n=Kt()){return/iemobile/i.test(n)}function pT(n=Kt()){return/android/i.test(n)}function mT(n=Kt()){return/blackberry/i.test(n)}function gT(n=Kt()){return/webos/i.test(n)}function Rm(n=Kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dN(n=Kt()){var e;return Rm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fN(){return TS()&&document.documentMode===10}function yT(n=Kt()){return Rm(n)||pT(n)||gT(n)||mT(n)||/windows phone/i.test(n)||fT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n,e=[]){let t;switch(n){case"Browser":t=A_(Kt());break;case"Worker":t=`${A_(Kt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${js}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(n,e={}){return ha(n,"GET","/v2/passwordPolicy",Im(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=6;class yN{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:gN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x_(this),this.idTokenSubscription=new x_(this),this.beforeStateQueue=new pN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Xr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await aT(this,{idToken:e}),i=await Qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Nn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ZP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Os(this));const t=e?kt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mN(this),t=new yN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await hN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Xr(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&QP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ch(n){return kt(n)}class x_{constructor(e){this.auth=e,this.observer=null,this.addObserver=PS(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _N(n){Cm=n}function EN(n){return Cm.loadJS(n)}function wN(){return Cm.gapiScript}function TN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(n,e){const t=nh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ho(a,e??{}))return o;Er(o,"already-initialized")}return t.initialize({options:e})}function SN(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Xr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function RN(n,e,t){const i=Ch(n);Re(i._canInitEmulator,i,"emulator-config-failed"),Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=_T(e),{host:c,port:d}=CN(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),AN()}function _T(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CN(n){const e=_T(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:k_(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:k_(c)}}}function k_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function AN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(n,e){return nN(n,"POST","/v1/accounts:signInWithIdp",Im(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="http://localhost";class Vs extends ET{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=_m(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Vs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return zo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,zo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zo(e,t)}buildRequest(){const e={requestUri:xN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Am{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ml{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return qr.credential(t,i)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Ml{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ml{constructor(){super("twitter.com")}static credential(e,t){return Vs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Mi.credential(t,i)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Qr._fromIdTokenResponse(e,i,o),c=P_(i);return new ea({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=P_(i);return new ea({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function P_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Tr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Wc(e,t,i,o)}}function wT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(n,a,e,i):a})}async function kN(n,e,t=!1){const i=await Rl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ea._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(n,e,t=!1){const{auth:i}=n;if(Nn(i.app))return Promise.reject(Os(i));const o="reauthenticate";try{const a=await Rl(n,wT(i,o,e,n),t);Re(a.idToken,i,"internal-error");const c=Sm(a.idToken);Re(c,i,"internal-error");const{sub:d}=c;return Re(n.uid===d,i,"user-mismatch"),ea._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Er(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(n,e,t=!1){if(Nn(n.app))return Promise.reject(Os(n));const i="signIn",o=await wT(n,i,e),a=await ea._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n,e){return kt(n).setPersistence(e)}function DN(n,e,t,i){return kt(n).onIdTokenChanged(e,t,i)}function bN(n,e,t){return kt(n).beforeAuthStateChanged(e,t)}function LN(n,e,t,i){return kt(n).onAuthStateChanged(e,t,i)}function VN(n){return kt(n).signOut()}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=1e3,jN=10;class IT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);fN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jN):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},MN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}IT.type="LOCAL";const ST=IT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RT.type="SESSION";const CT=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Ah(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,a)),p=await FN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const y=xm("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const S=E;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(S.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function BN(n){gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function $N(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function HN(){return AT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebaseLocalStorageDb",WN=1,Kc="firebaseLocalStorage",kT="fbase_key";class jl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xh(n,e){return n.transaction([Kc],e?"readwrite":"readonly").objectStore(Kc)}function qN(){const n=indexedDB.deleteDatabase(xT);return new jl(n).toPromise()}function dp(){const n=indexedDB.open(xT,WN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Kc,{keyPath:kT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Kc)?e(i):(i.close(),await qN(),e(await dp()))})})}async function N_(n,e,t){const i=xh(n,!0).put({[kT]:e,value:t});return new jl(i).toPromise()}async function KN(n,e){const t=xh(n,!1).get(e),i=await new jl(t).toPromise();return i===void 0?null:i.value}function O_(n,e){const t=xh(n,!0).delete(e);return new jl(t).toPromise()}const GN=800,QN=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>QN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(HN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $N(),!this.activeServiceWorker)return;this.sender=new UN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dp();return await N_(e,qc,"1"),await O_(e,qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>N_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>KN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>O_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=xh(o,!1).getAll();return new jl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const XN=PT;new Vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(n,e){return e?Xr(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends ET{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YN(n){return NN(n.auth,new km(n),n.bypassAuthState)}function JN(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),PN(t,new km(n),n.bypassAuthState)}async function ZN(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),kN(t,new km(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YN;case"linkViaPopup":case"linkViaRedirect":return ZN;case"reauthViaPopup":case"reauthViaRedirect":return JN;default:Er(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Vl(2e3,1e4);async function t2(n,e,t){if(Nn(n.app))return Promise.reject(Jn(n,"operation-not-supported-in-this-environment"));const i=Ch(n);XP(n,e,Am);const o=NT(i,t);return new Ns(i,"signInViaPopup",e,o).executeNotNull()}class Ns extends OT{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e2.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="pendingRedirect",Ec=new Map;class r2 extends OT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ec.get(this.auth._key());if(!e){try{const i=await i2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ec.set(this.auth._key(),e)}return this.bypassAuthState||Ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i2(n,e){const t=a2(e),i=o2(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function s2(n,e){Ec.set(n._key(),e)}function o2(n){return Xr(n._redirectPersistence)}function a2(n){return _c(n2,n.config.apiKey,n.name)}async function l2(n,e,t=!1){if(Nn(n.app))return Promise.reject(Os(n));const i=Ch(n),o=NT(i,e),c=await new r2(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=10*60*1e3;class c2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!DT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Jn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u2&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function DT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(n,e={}){return ha(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p2=/^https?/;async function m2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await d2(n);for(const t of e)try{if(g2(t))return}catch{}Er(n,"unauthorized-domain")}function g2(n){const e=cp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!p2.test(t))return!1;if(f2.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Vl(3e4,6e4);function b_(){const n=gr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function v2(n){return new Promise((e,t)=>{var i,o,a;function c(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),t(Jn(n,"network-request-failed"))},timeout:y2.get()})}if(!((o=(i=gr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=gr().gapi)===null||a===void 0)&&a.load)c();else{const d=TN("iframefcb");return gr()[d]=()=>{gapi.load?c():t(Jn(n,"network-request-failed"))},EN(`${wN()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw wc=null,e})}let wc=null;function _2(n){return wc=wc||v2(n),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new Vl(5e3,15e3),w2="__/auth/iframe",T2="emulator/auth/iframe",I2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R2(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tm(e,T2):`https://${n.config.authDomain}/${w2}`,i={apiKey:e.apiKey,appName:n.name,v:js},o=S2.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${xl(i).slice(1)}`}async function C2(n){const e=await _2(n),t=gr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:R2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I2,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=Jn(n,"network-request-failed"),d=gr().setTimeout(()=>{a(c)},E2.get());function p(){gr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x2=500,k2=600,P2="_blank",N2="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O2(n,e,t,i=x2,o=k2){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},A2),{width:i.toString(),height:o.toString(),top:a,left:c}),y=Kt().toLowerCase();t&&(d=dT(y)?P2:t),cT(y)&&(e=e||N2,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[O,F])=>`${S}${O}=${F},`,"");if(dN(y)&&d!=="_self")return D2(e||"",d),new L_(null);const E=window.open(e||"",d,_);Re(E,n,"popup-blocked");try{E.focus()}catch{}return new L_(E)}function D2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="__/auth/handler",L2="emulator/auth/handler",V2=encodeURIComponent("fac");async function V_(n,e,t,i,o,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:js,eventId:o};if(e instanceof Am){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",kS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Ml){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await n._getAppCheckToken(),y=p?`#${V2}=${encodeURIComponent(p)}`:"";return`${M2(n)}?${xl(d).slice(1)}${y}`}function M2({config:n}){return n.emulator?Tm(n,L2):`https://${n.authDomain}/${b2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CT,this._completeRedirectFn=l2,this._overrideRedirectResult=s2}async _openPopup(e,t,i,o){var a;si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await V_(e,t,i,cp(),o);return O2(e,c,xm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await V_(e,t,i,cp(),o);return BN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(si(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await C2(e),i=new c2(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pf,{type:Pf},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Pf];c!==void 0&&t(!!c),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=m2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yT()||hT()||Rm()}}const F2=j2;var M_="@firebase/auth",j_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $2(n){Ds(new Wi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(n)},y=new vN(i,o,a,p);return SN(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ds(new Wi("auth-internal",e=>{const t=Ch(e.getProvider("auth").getImmediate());return(i=>new U2(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(M_,j_,B2(n)),fr(M_,j_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=5*60,H2=d0("authIdTokenMaxAge")||z2;let F_=null;const W2=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>H2)return;const o=t==null?void 0:t.token;F_!==o&&(F_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function q2(n=_p()){const e=nh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=IN(n,{popupRedirectResolver:F2,persistence:[XN,ST,CT]}),i=d0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=W2(a.toString());bN(t,c,()=>c(t.currentUser)),DN(t,d=>c(d))}}const o=u0("auth");return o&&RN(t,`http://${o}`),t}function K2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_N({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=Jn("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",K2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$2("Browser");const bT=R.createContext(),kh=()=>R.useContext(bT),LT=({children:n})=>{const[e,t]=R.useState(null),[i,o]=R.useState(!0),[a,c]=R.useState(null);R.useEffect(()=>{const _=LN(Ph,E=>{t(E),o(!1),c(null)});return()=>_()},[]);const y={user:e,loading:i,error:a,loginWithGoogle:async()=>{try{return c(null),await YO()}catch(_){console.error("Error en login con Google:",_);let E="Error al iniciar sesión con Google";switch(_.code){case"auth/configuration-not-found":E="Error de configuración en Firebase.",console.error("Detalles del error:",_);break;case"auth/popup-blocked":E="El popup fue bloqueado por el navegador. Por favor, permite ventanas emergentes.";break;case"auth/popup-closed-by-user":E="Inicio de sesión cancelado.";break;case"auth/cancelled-popup-request":E="Solicitud de inicio de sesión cancelada.";break;case"auth/internal-error":E="Error interno de Firebase. Por favor, intenta de nuevo.",console.error("Detalles del error interno:",_);break;default:E=`Error: ${_.message}`,console.error("Error desconocido:",_)}throw c(E),_}},logout:async()=>{try{c(null),await JO()}catch(_){throw console.error("Error en logout:",_),c("Error al cerrar sesión"),_}}};return T.jsx(bT.Provider,{value:y,children:!i&&n})};LT.propTypes={children:Pe.node.isRequired};const VT=R.createContext(),cc="wishlist",Pm=()=>R.useContext(VT),MT=({children:n})=>{const[e,t]=R.useState([]),{user:i}=kh();R.useEffect(()=>{i?a():o()},[i]),R.useEffect(()=>{i||localStorage.setItem(cc,JSON.stringify(e))},[e,i]);const o=()=>{try{const E=localStorage.getItem(cc);E&&t(JSON.parse(E))}catch(E){console.error("Error al cargar wishlist del localStorage:",E),t([])}},a=async()=>{if(i)try{const E=Kr(dr,"wishlists",i.uid),S=await Dl(E);S.exists()?t(S.data().items||[]):(await oc(E,{items:[]}),t([]))}catch(E){console.error("Error al cargar wishlist de Firestore:",E),t([])}},c=async E=>{if(!p(E.id)){if(i)try{const S=Kr(dr,"wishlists",i.uid);await oc(S,{items:Jx(E)},{merge:!0})}catch(S){console.error("Error al agregar a wishlist en Firestore:",S);return}t(S=>[...S,E])}},d=async E=>{if(i)try{const S=Kr(dr,"wishlists",i.uid),O=e.find(F=>F.id===E);await oc(S,{items:Zx(O)},{merge:!0})}catch(S){console.error("Error al remover de wishlist en Firestore:",S);return}t(S=>S.filter(O=>O.id!==E))},p=E=>e.some(S=>S.id===E),y=async()=>{if(i)try{const E=JSON.parse(localStorage.getItem(cc)||"[]");if(E.length>0){const S=Kr(dr,"wishlists",i.uid);await oc(S,{items:E},{merge:!0}),localStorage.removeItem(cc)}}catch(E){console.error("Error al migrar wishlist local a Firestore:",E)}};R.useEffect(()=>{i&&y()},[i]);const _={wishlist:e,addToWishlist:c,removeFromWishlist:d,isInWishlist:p};return T.jsx(VT.Provider,{value:_,children:n})};MT.propTypes={children:Pe.node.isRequired};var jT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},U_=Vt.createContext&&Vt.createContext(jT),G2=["attr","size","title"];function Q2(n,e){if(n==null)return{};var t=X2(n,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function X2(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Gc(){return Gc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gc.apply(this,arguments)}function B_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Qc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B_(Object(t),!0).forEach(function(i){Y2(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):B_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Y2(n,e,t){return e=J2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function J2(n){var e=Z2(n,"string");return typeof e=="symbol"?e:e+""}function Z2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function FT(n){return n&&n.map((e,t)=>Vt.createElement(e.tag,Qc({key:t},e.attr),FT(e.child)))}function Ir(n){return e=>Vt.createElement(eO,Gc({attr:Qc({},n.attr)},e),FT(n.child))}function eO(n){var e=t=>{var{attr:i,size:o,title:a}=n,c=Q2(n,G2),d=o||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),Vt.createElement("svg",Gc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:Qc(Qc({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Vt.createElement("title",null,a),n.children)};return U_!==void 0?Vt.createElement(U_.Consumer,null,t=>e(t)):e(jT)}function tO(n){return Ir({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(n)}function nO(n){return Ir({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z"},child:[]}]})(n)}function rO(n){return Ir({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function UT(n){return Ir({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function BT(n){return Ir({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(n)}function iO(n){return Ir({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function sO(n){return Ir({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function oO(n){return Ir({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function $T(n){return Ir({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function aO(n){return Ir({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(n)}const zT=({product:n,currentImageIndex:e,onImageChange:t})=>{const i=gp(),{addItem:o}=Ll(),{addToWishlist:a,removeFromWishlist:c,isInWishlist:d}=Pm();if(!n)return T.jsx("div",{className:"text-center my-5 text-danger",children:"Producto no encontrado"});const p=()=>{d(n.id)?c(n.id):a(n)};return T.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center bg-light",children:T.jsx(Zn,{fluid:!0,className:"py-5",children:T.jsx($c,{className:"justify-content-center",children:T.jsx(Uo,{xs:11,className:"px-4",children:T.jsx(Pn,{className:"border-success shadow-lg mx-auto",style:{maxWidth:"1000px"},children:T.jsxs($c,{className:"g-0",children:[T.jsx(Uo,{lg:7,children:T.jsx("div",{className:"p-3",children:T.jsxs("div",{id:`carousel-${n.id}`,className:"carousel slide","data-bs-ride":"carousel",style:{height:"600px"},children:[T.jsx("div",{className:"carousel-inner h-100",children:n.images&&n.images.length>0?n.images.map((y,_)=>T.jsx("div",{className:`carousel-item h-100 ${_===e?"active":""}`,children:T.jsx("div",{className:"w-100 h-100",style:{backgroundImage:`url(${y})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#fff"}})},_)):T.jsx("div",{className:"carousel-item active h-100",children:T.jsx("div",{className:"w-100 h-100 bg-light d-flex align-items-center justify-content-center",children:T.jsx("span",{className:"text-muted",children:"Imagen no disponible"})})})}),n.images&&n.images.length>1&&T.jsxs(T.Fragment,{children:[T.jsxs("button",{className:"carousel-control-prev",type:"button",onClick:()=>t(y=>y===0?n.images.length-1:y-1),children:[T.jsx("span",{className:"carousel-control-prev-icon bg-success rounded-circle p-3","aria-hidden":"true"}),T.jsx("span",{className:"visually-hidden",children:"Anterior"})]}),T.jsxs("button",{className:"carousel-control-next",type:"button",onClick:()=>t(y=>y===n.images.length-1?0:y+1),children:[T.jsx("span",{className:"carousel-control-next-icon bg-success rounded-circle p-3","aria-hidden":"true"}),T.jsx("span",{className:"visually-hidden",children:"Siguiente"})]})]})]})})}),T.jsx(Uo,{lg:5,children:T.jsxs(Pn.Body,{className:"p-4",children:[T.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[T.jsxs("div",{children:[T.jsx(Pn.Title,{as:"h2",className:"mb-2",children:n.name}),T.jsx(Pn.Subtitle,{className:"mb-3 h2 text-success fw-bold",children:ei(n.price)})]}),T.jsx("button",{onClick:()=>i("/"),className:"btn p-0 d-flex align-items-center justify-content-center",style:{width:"28px",height:"28px",backgroundColor:"white",border:"2px solid #000",borderRadius:"50%",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",color:"#000",cursor:"pointer",transition:"all 0.2s ease-in-out"},title:"Volver a la página principal",children:T.jsx("span",{"aria-hidden":"true",style:{fontSize:"18px",fontWeight:"bold",lineHeight:1,position:"relative",top:"-1px"},children:"×"})})]}),T.jsx(Pn.Text,{children:n.description}),T.jsx("div",{className:"mt-4",children:T.jsxs("div",{className:"d-flex flex-column gap-3",children:[T.jsx("div",{className:"d-flex flex-column align-items-center",children:T.jsx(Zw,{stock:n.stock,initial:1,onAdd:y=>{o(n,y)}})}),T.jsx("div",{className:"d-flex flex-column align-items-center",children:T.jsx(qt,{variant:"outline-success",onClick:p,className:"d-flex align-items-center justify-content-center gap-2",style:{width:"222px",height:"38px"},children:d(n.id)?T.jsxs(T.Fragment,{children:[T.jsx(UT,{size:18}),"Quitar de Wishlist"]}):T.jsxs(T.Fragment,{children:[T.jsx(aO,{size:18}),"Agregar a Wishlist"]})})}),T.jsxs("small",{className:"text-center text-muted",children:["Stock disponible: ",n.stock]})]})})]})})]})})})})})})};zT.propTypes={product:Pe.shape({id:Pe.string.isRequired,name:Pe.string.isRequired,description:Pe.string.isRequired,category:Pe.string.isRequired,price:Pe.number.isRequired,stock:Pe.number.isRequired,images:Pe.arrayOf(Pe.string)}).isRequired,currentImageIndex:Pe.number.isRequired,onImageChange:Pe.func.isRequired};const lO=()=>{const[n,e]=R.useState(null),[t,i]=R.useState(0),{id:o}=n0(),[a,c]=R.useState(!0);return R.useEffect(()=>{(async()=>{c(!0);try{const p=Kr(dr,"items",o),y=await Dl(p);y.exists()?(e({id:y.id,...y.data()}),i(0)):console.error("❌ No se encontró el producto en Firestore.")}catch(p){console.error("❌ Error obteniendo producto:",p)}finally{c(!1)}})()},[o]),a?T.jsx("div",{className:"text-center my-5",children:"Cargando..."}):n?T.jsx("div",{className:"w-100 position-relative pt-4",children:T.jsx(zT,{product:n,currentImageIndex:t,onImageChange:i})}):T.jsx("div",{className:"text-center my-5 pt-5 fw-bold text-danger",children:"Producto no encontrado"})},uO=()=>{const{cart:n,removeItem:e,clear:t,getTotalPrice:i,updateItemQuantity:o}=Ll(),{user:a}=kh(),c=p=>{const y=p.images&&p.images.length>0?p.images[0]:p.image;return y?T.jsx("img",{src:y,alt:p.title,className:"rounded me-2",style:{width:"50px",height:"50px",objectFit:"cover"}}):T.jsx("div",{className:"d-flex align-items-center justify-content-center rounded border border-dashed bg-light me-2",style:{width:"50px",height:"50px"},children:T.jsx(BT,{className:"text-secondary"})})};if(n.length===0)return T.jsx(Zn,{className:"py-5 mt-5 text-center",children:T.jsxs(Zr,{variant:"info",className:"mt-4",children:[T.jsx("h4",{children:"Tu carrito está vacío"}),T.jsx("div",{className:"mt-3",children:T.jsx(On,{to:"/",className:"btn btn-primary",children:"Volver a la tienda"})})]})});const d=i();return T.jsxs(Zn,{className:"py-5 mt-4",children:[T.jsx("h2",{children:"Tu Carrito"}),a&&T.jsxs(Zr,{variant:"info",className:"mb-3",children:["Comprando como: ",a.email]}),T.jsxs(vm,{responsive:!0,hover:!0,children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Producto"}),T.jsx("th",{children:"Precio"}),T.jsx("th",{children:"Cantidad"}),T.jsx("th",{children:"Subtotal"}),T.jsx("th",{children:"Acciones"})]})}),T.jsx("tbody",{children:n.map(p=>T.jsxs("tr",{children:[T.jsx("td",{children:T.jsxs("div",{className:"d-flex align-items-center",children:[c(p),T.jsxs("div",{children:[T.jsx("strong",{children:p.title||p.name}),T.jsx("p",{className:"text-muted mb-0",children:p.description})]})]})}),T.jsx("td",{children:ei(p.price)}),T.jsx("td",{children:T.jsxs("div",{className:"d-flex align-items-center gap-2",children:[T.jsx(qt,{variant:p.quantity<=1?"outline-success":"success",size:"sm",onClick:()=>o(p.id,p.quantity-1),disabled:p.quantity<=1,children:T.jsx(iO,{})}),T.jsx("span",{className:"mx-2",children:p.quantity}),T.jsx(qt,{variant:p.quantity>=p.stock?"outline-success":"success",size:"sm",onClick:()=>o(p.id,p.quantity+1),disabled:p.quantity>=p.stock,children:T.jsx(sO,{})})]})}),T.jsx("td",{children:ei(p.price*p.quantity)}),T.jsx("td",{children:T.jsx(qt,{variant:"danger",size:"sm",onClick:()=>e(p.id),title:"Eliminar del carrito",children:T.jsx($T,{})})})]},p.id))}),T.jsx("tfoot",{children:T.jsxs("tr",{children:[T.jsx("td",{colSpan:"3",className:"text-end",children:T.jsx("strong",{children:"Total:"})}),T.jsx("td",{children:T.jsx("strong",{children:ei(d)})}),T.jsx("td",{})]})})]}),T.jsxs("div",{className:"d-flex justify-content-between mt-3",children:[T.jsx(qt,{variant:"outline-danger",onClick:t,children:"Vaciar Carrito"}),T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx(On,{to:"/",className:"btn btn-outline-primary",children:"Seguir comprando"}),T.jsx(On,{to:"/checkout",className:"btn btn-success",children:"Finalizar Compra"})]})]})]})},cO=async(n,e)=>{try{const t=Kr(dr,"items",n),i=await Dl(t);return i.exists()?i.data().stock>=e:(console.error("Producto no encontrado"),!1)}catch(t){return console.error("Error al verificar stock:",t),!1}},hO=async(n,e)=>{try{const t=Kr(dr,"items",n),i=await Dl(t);if(!i.exists())throw new Error("Producto no encontrado");const a=i.data().stock-e;if(a<0)throw new Error("Stock insuficiente");return await Gx(t,{stock:a}),!0}catch(t){throw console.error("Error al actualizar stock:",t),t}},dO=()=>{const n=gp(),{cart:e,clear:t}=Ll(),{user:i}=kh(),[o,a]=R.useState(!1),[c,d]=R.useState(null),[p,y]=R.useState(null),[_,E]=R.useState({name:"",phone:"",email:(i==null?void 0:i.email)||"",confirmEmail:(i==null?void 0:i.email)||""}),S=Z=>{const{name:re,value:G}=Z.target;E(J=>({...J,[re]:G}))},O=()=>{if(!_.name.trim())throw new Error("El nombre es requerido");if(!_.phone.trim())throw new Error("El teléfono es requerido");if(!_.email.trim())throw new Error("El email es requerido");if(_.email!==_.confirmEmail)throw new Error("Los emails no coinciden");if(e.length===0)throw new Error("El carrito está vacío")},F=async()=>{for(const Z of e)if(!await cO(Z.id,Z.quantity))throw new Error(`Stock insuficiente para ${Z.name}`)},z=async()=>{for(const Z of e)await hO(Z.id,Z.quantity)},b=async Z=>{Z.preventDefault(),a(!0),d(null);try{O(),await F();const re={buyer:{name:_.name.trim(),phone:_.phone.trim(),email:_.email.trim()},items:e.map(J=>({id:J.id,title:J.name||"Producto sin título",price:Number(J.price)||0,quantity:Number(J.quantity)||0,subtotal:(Number(J.price)||0)*(Number(J.quantity)||0),customizations:J.customizations||{}})),total:e.reduce((J,pe)=>J+(Number(pe.price)||0)*(Number(pe.quantity)||0),0),date:Yx(),status:"generada"},G=await Qx($E(dr,"orders"),{...re});await z(),y(G.id),t()}catch(re){console.error("Error en checkout:",re),d(re.message||"Error al procesar la orden")}finally{a(!1)}};return p?T.jsxs(Zn,{className:"py-5 mt-5 text-center",children:[T.jsxs(Zr,{variant:"success",className:"mt-4",children:[T.jsx("h4",{children:"¡Gracias por tu compra!"}),T.jsxs("p",{children:["Tu número de orden es: ",p]})]}),T.jsx(qt,{variant:"success",onClick:()=>n("/"),children:"Volver a la tienda"})]}):T.jsxs(Zn,{className:"py-5 mt-4",children:[T.jsx("h2",{children:"Checkout"}),i&&T.jsxs(Zr,{variant:"info",children:["Comprando como: ",i.email]}),c&&T.jsx(Zr,{variant:"danger",children:c}),T.jsxs(zt,{onSubmit:b,children:[T.jsxs(zt.Group,{className:"mb-3",children:[T.jsx(zt.Label,{children:"Nombre completo"}),T.jsx(zt.Control,{type:"text",name:"name",value:_.name,onChange:S,required:!0})]}),T.jsxs(zt.Group,{className:"mb-3",children:[T.jsx(zt.Label,{children:"Teléfono"}),T.jsx(zt.Control,{type:"tel",name:"phone",value:_.phone,onChange:S,required:!0})]}),T.jsxs(zt.Group,{className:"mb-3",children:[T.jsx(zt.Label,{children:"Email"}),T.jsx(zt.Control,{type:"email",name:"email",value:_.email,onChange:S,required:!0,readOnly:!!i})]}),!i&&T.jsxs(zt.Group,{className:"mb-3",children:[T.jsx(zt.Label,{children:"Confirmar Email"}),T.jsx(zt.Control,{type:"email",name:"confirmEmail",value:_.confirmEmail,onChange:S,required:!0})]}),T.jsxs("div",{className:"d-flex justify-content-between",children:[T.jsx(qt,{variant:"secondary",onClick:()=>n("/cart"),children:"Volver al carrito"}),T.jsx(qt,{type:"submit",variant:"success",disabled:o||e.length===0,children:o?"Procesando...":"Finalizar Compra"})]})]})]})},fO=()=>{const{wishlist:n,removeFromWishlist:e}=Pm(),{addItem:t}=Ll(),i=a=>{t(a,1),e(a.id)},o=a=>{const c=a.images&&a.images.length>0?a.images[0]:a.image;return c?T.jsx("img",{src:c,alt:a.title,style:{width:"50px",height:"50px",objectFit:"cover",marginRight:"10px",borderRadius:"4px"}}):T.jsx("div",{style:{width:"50px",height:"50px",marginRight:"10px",borderRadius:"4px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center",border:"1px dashed #dee2e6"},children:T.jsx(BT,{style:{color:"#adb5bd"}})})};return n.length===0?T.jsx(Zn,{className:"py-5 mt-5 text-center",children:T.jsxs(Zr,{variant:"info",className:"mt-4",children:[T.jsx("h4",{children:"No hay productos en tu lista de deseos"}),T.jsx("div",{className:"mt-3",children:T.jsx(On,{to:"/",className:"btn btn-primary",children:"Ir a la tienda"})})]})}):T.jsxs(Zn,{className:"py-5 mt-4",children:[T.jsx("h2",{children:"Mi Lista de Deseos"}),T.jsxs(vm,{responsive:!0,hover:!0,children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Producto"}),T.jsx("th",{children:"Precio"}),T.jsx("th",{children:"Categoría"}),T.jsx("th",{children:"Acciones"})]})}),T.jsx("tbody",{children:n.map(a=>T.jsxs("tr",{children:[T.jsx("td",{children:T.jsxs("div",{className:"d-flex align-items-center",children:[o(a),T.jsxs("div",{children:[T.jsx("strong",{children:a.title}),T.jsx("p",{className:"text-muted mb-0",children:a.description})]})]})}),T.jsx("td",{children:ei(a.price)}),T.jsx("td",{children:T.jsx("span",{className:"badge bg-secondary",children:a.category})}),T.jsx("td",{children:T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx(qt,{variant:"danger",size:"sm",onClick:()=>e(a.id),title:"Eliminar de la lista de deseos",children:T.jsx($T,{})}),T.jsx(qt,{variant:"primary",size:"sm",onClick:()=>i(a),title:"Agregar al carrito",children:T.jsx(nO,{})})]})})]},a.id))})]}),T.jsxs("div",{className:"d-flex justify-content-between mt-3",children:[T.jsx(On,{to:"/",className:"btn btn-outline-primary",children:"Seguir comprando"}),T.jsx(On,{to:"/cart",className:"btn btn-success",children:"Ir al carrito"})]})]})},pO=()=>{const[n,e]=R.useState(""),[t,i]=R.useState(null),[o,a]=R.useState(null),[c,d]=R.useState(!1),p=async y=>{var _,E;if(y.preventDefault(),!n.trim()){a("Por favor, ingresa un ID de orden");return}d(!0),a(null),i(null);try{const S=Kr(dr,"orders",n.trim()),O=await Dl(S);if(!O.exists()){a("No se encontró ninguna orden con ese ID");return}const F=O.data();i({id:O.id,items:F.items,total:F.total,date:((E=(_=F.date)==null?void 0:_.toDate)==null?void 0:E.call(_))||new Date,status:F.status})}catch(S){console.error("Error al buscar la orden:",S),a("Error al buscar la orden. Por favor, intenta de nuevo.")}finally{d(!1)}};return T.jsxs(Zn,{className:"py-5 mt-4",children:[T.jsx("h2",{className:"mb-4",children:"Mis Pedidos"}),T.jsx(zt,{onSubmit:p,className:"mb-4",children:T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx(zt.Group,{className:"flex-grow-1",children:T.jsx(zt.Control,{type:"text",placeholder:"Ingresa el ID de tu pedido",value:n,onChange:y=>e(y.target.value)})}),T.jsx(qt,{variant:"success",type:"submit",disabled:c,children:c?"Buscando...":T.jsxs(T.Fragment,{children:[T.jsx(oO,{className:"me-2"}),"Buscar"]})})]})}),o&&T.jsx(Zr,{variant:"danger",children:o}),t&&T.jsxs("div",{children:[T.jsxs(Zr,{variant:"success",className:"d-flex justify-content-between align-items-center",children:[T.jsxs("div",{children:[T.jsx("strong",{children:"Orden ID:"})," ",t.id]}),T.jsx("div",{children:T.jsx("span",{className:`badge bg-${t.status==="generada"?"success":"warning"}`,children:t.status||"generada"})})]}),T.jsxs(vm,{responsive:!0,hover:!0,className:"mt-3",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Producto"}),T.jsx("th",{children:"Precio"}),T.jsx("th",{children:"Cantidad"}),T.jsx("th",{children:"Subtotal"})]})}),T.jsx("tbody",{children:t.items.map((y,_)=>T.jsxs("tr",{children:[T.jsx("td",{children:T.jsx("strong",{children:y.title})}),T.jsx("td",{children:ei(y.price)}),T.jsx("td",{children:y.quantity}),T.jsx("td",{children:ei(y.price*y.quantity)})]},_))}),T.jsx("tfoot",{children:T.jsxs("tr",{children:[T.jsx("td",{colSpan:"3",className:"text-end",children:T.jsx("strong",{children:"Total:"})}),T.jsx("td",{children:T.jsx("strong",{children:ei(t.items.reduce((y,_)=>y+_.price*_.quantity,0))})})]})})]}),T.jsxs("div",{className:"text-muted mt-2",children:["Fecha: ",t.date.toLocaleDateString()," ",t.date.toLocaleTimeString()]})]})]})};var mO="firebase",gO="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(mO,gO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebasestorage.googleapis.com",yO="storageBucket",vO=2*60*1e3,_O=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Tr{constructor(e,t,i=0){super(Nf(e),`Firebase Storage: ${t} (${Nf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wr;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wr||(wr={}));function Nf(n){return"storage/"+n}function EO(){const n="An unknown error occurred, please check the error payload for server response.";return new Sr(wr.UNKNOWN,n)}function wO(){return new Sr(wr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TO(){return new Sr(wr.CANCELED,"User canceled the upload/download.")}function IO(n){return new Sr(wr.INVALID_URL,"Invalid URL '"+n+"'.")}function SO(n){return new Sr(wr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $_(n){return new Sr(wr.INVALID_ARGUMENT,n)}function WT(){return new Sr(wr.APP_DELETED,"The Firebase app was deleted.")}function RO(n){return new Sr(wr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Xn.makeFromUrl(e,t)}catch{return new Xn(e,"")}if(i.path==="")return i;throw SO(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function y(J){J.path_=decodeURIComponent(J.path)}const _="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",O=new RegExp(`^https?://${E}/${_}/b/${o}/o${S}`,"i"),F={bucket:1,path:3},z=t===HT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",Z=new RegExp(`^https?://${z}/${o}/${b}`,"i"),G=[{regex:d,indices:p,postModify:a},{regex:O,indices:F,postModify:y},{regex:Z,indices:{bucket:1,path:2},postModify:y}];for(let J=0;J<G.length;J++){const pe=G[J],se=pe.regex.exec(e);if(se){const P=se[pe.indices.bucket];let C=se[pe.indices.path];C||(C=""),i=new Xn(P,C),pe.postModify(i);break}}if(i==null)throw IO(e);return i}}class CO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(n,e,t){let i=1,o=null,a=null,c=!1,d=0;function p(){return d===2}let y=!1;function _(...b){y||(y=!0,e.apply(null,b))}function E(b){o=setTimeout(()=>{o=null,n(O,p())},b)}function S(){a&&clearTimeout(a)}function O(b,...Z){if(y){S();return}if(b){S(),_.call(null,b,...Z);return}if(p()||c){S(),_.call(null,b,...Z);return}i<64&&(i*=2);let G;d===1?(d=2,G=0):G=(i+Math.random())*1e3,E(G)}let F=!1;function z(b){F||(F=!0,S(),!y&&(o!==null?(b||(d=2),clearTimeout(o),E(0)):b||(d=1)))}return E(0),a=setTimeout(()=>{c=!0,z(!0)},t),z}function xO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){return n!==void 0}function z_(n,e,t,i){if(i<e)throw $_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw $_(`Invalid value for '${n}'. Expected ${t} or less.`)}function PO(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Xc;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Xc||(Xc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t,i,o,a,c,d,p,y,_,E,S=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=_,this.connectionFactory_=E,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,F)=>{this.resolve_=O,this.reject_=F,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new hc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=d=>{const p=d.loaded,y=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const d=a.getErrorCode()===Xc.NO_ERROR,p=a.getStatus();if(!d||NO(p,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===Xc.ABORT;i(!1,new hc(!1,null,_));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new hc(y,a))})},t=(i,o)=>{const a=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());kO(p)?a(p):a()}catch(p){c(p)}else if(d!==null){const p=EO();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?WT():TO();c(p)}else{const p=wO();c(p)}};this.canceled_?t(!1,new hc(!1,null,!0)):this.backoffId_=AO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hc{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function DO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function bO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function VO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function MO(n,e,t,i,o,a,c=!0){const d=PO(n.urlParams),p=n.url+d,y=Object.assign({},n.headers);return LO(y,e),DO(y,t),bO(y,a),VO(y,i),new OO(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function FO(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this._service=e,t instanceof Xn?this._location=t:this._location=Xn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Yc(e,t)}get root(){const e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FO(this._location.path)}get storage(){return this._service}get parent(){const e=jO(this._location.path);if(e===null)return null;const t=new Xn(this._location.bucket,e);return new Yc(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw RO(e)}}function H_(n,e){const t=e==null?void 0:e[yO];return t==null?null:Xn.makeFromBucketSpec(t,n)}function UO(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:f0(o,n.app.options.projectId))}class BO{constructor(e,t,i,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=HT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vO,this._maxUploadRetryTime=_O,this._requests=new Set,o!=null?this._bucket=Xn.makeFromBucketSpec(o,this._host):this._bucket=H_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=H_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){z_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){z_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yc(this,e)}_makeRequest(e,t,i,o,a=!0){if(this._deleted)return new CO(WT());{const c=MO(e,this._appId,i,o,t,this._firebaseVersion,a);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const W_="@firebase/storage",q_="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="storage";function $O(n=_p(),e){n=kt(n);const i=nh(n,qT).getImmediate({identifier:e}),o=c0("storage");return o&&zO(i,...o),i}function zO(n,e,t,i={}){UO(n,e,t,i)}function HO(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new BO(t,i,o,e,js)}function WO(){Ds(new Wi(qT,HO,"PUBLIC").setMultipleInstances(!0)),fr(W_,q_,""),fr(W_,q_,"esm2017")}WO();const qO=()=>{const{getTotalQuantity:n}=Ll(),e=n();return T.jsx(On,{to:"/cart",className:"text-decoration-none text-dark",children:T.jsxs("div",{className:"position-relative d-inline-block",children:[T.jsx("i",{className:"bi bi-cart3 fs-3"}),e>0&&T.jsx("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:e})]})})},KO=()=>{const{user:n,loginWithGoogle:e,logout:t,error:i}=kh(),o=async()=>{try{await e()}catch(c){console.error("Error al iniciar sesión:",c)}},a=async()=>{try{await t()}catch(c){console.error("Error al cerrar sesión:",c)}};return T.jsxs("div",{className:"d-flex align-items-center flex-column",children:[i&&T.jsx(Zr,{variant:"danger",className:"mb-2 p-2",children:i}),n?T.jsxs("div",{className:"d-flex align-items-center gap-2",children:[T.jsx("span",{className:"text-success",children:n.email}),T.jsx(qt,{variant:"outline-danger",size:"sm",onClick:a,children:"Cerrar Sesión"})]}):T.jsxs(qt,{variant:"outline-success",onClick:o,className:"d-flex align-items-center gap-2",children:[T.jsx(tO,{})," Iniciar con Google"]})]})},GO=()=>{const{wishlist:n}=Pm(),e=[{id:"invitaciones",name:"Invitaciones"},{id:"decoracion",name:"Decoración"},{id:"recuerdos",name:"Recuerdos"},{id:"accesorios",name:"Accesorios"},{id:"iluminacion",name:"Iluminación"}];return T.jsx(lc,{bg:"light",expand:"lg",fixed:"top",children:T.jsxs(Zn,{children:[T.jsx(lc.Brand,{as:On,to:"/",children:"MiMatri"}),T.jsx(lc.Toggle,{"aria-controls":"basic-navbar-nav"}),T.jsxs(lc.Collapse,{id:"basic-navbar-nav",children:[T.jsx(xf,{className:"me-auto",children:e.map(t=>T.jsx(xf.Link,{as:On,to:`/category/${t.id}`,children:t.name},t.id))}),T.jsxs(xf,{className:"ms-auto d-flex align-items-center gap-3",children:[T.jsx(On,{to:"/wishlist",className:"text-decoration-none",children:T.jsxs(qt,{variant:"outline-secondary",className:"d-flex align-items-center gap-2",children:[T.jsx(UT,{}),"Wishlist",n.length>0&&T.jsx(hw,{bg:"danger",pill:!0,className:"ms-1",children:n.length})]})}),T.jsx(On,{to:"/my-orders",className:"text-decoration-none",children:T.jsxs(qt,{variant:"outline-secondary",className:"d-flex align-items-center gap-2",children:[T.jsx(rO,{}),"Mis Pedidos"]})}),T.jsx(KO,{}),T.jsx(qO,{})]})]})]})})};function QO(){return T.jsx(sS,{children:T.jsx(LT,{children:T.jsx(tT,{children:T.jsx(MT,{children:T.jsxs("div",{className:"App",children:[T.jsx(GO,{}),T.jsx(ZO,{})]})})})})})}const XO={apiKey:"AIzaSyAxj6WQNIEzCFuK8NyXqnMWhKHOtoPrGyE",authDomain:"codermimatri.firebaseapp.com",projectId:"codermimatri",storageBucket:"codermimatri.appspot.com",messagingSenderId:"964385798831",appId:"1:964385798831:web:42fcaaf728f6a3f8a1725a",measurementId:"G-58F87S04QX"},KT=g0(XO),Ph=q2(),dr=bx(KT);$O(KT);ON(Ph,ST).then(()=>console.log("Persistencia configurada correctamente")).catch(n=>console.error("Error al configurar persistencia:",n));const GT=new qr;GT.setCustomParameters({prompt:"select_account",access_type:"offline",display:"popup",redirect_uri:window.location.origin});const YO=async()=>{try{const n=await t2(Ph,GT);return console.log("Usuario autenticado:",n.user),n.user}catch(n){if(n.code==="auth/popup-closed-by-user")return console.log("Ventana de autenticación cerrada por el usuario"),null;throw console.error("Error al iniciar sesión con Google:",n),n}},JO=async()=>{try{await VN(Ph),console.log("Sesión cerrada correctamente")}catch(n){throw console.error("Error al cerrar sesión:",n),n}},ZO=()=>T.jsxs(JI,{children:[T.jsx(Di,{path:"/",element:T.jsx(up,{})}),T.jsx(Di,{path:"/category/:id",element:T.jsx(up,{})}),T.jsx(Di,{path:"/item/:id",element:T.jsx(lO,{})}),T.jsx(Di,{path:"/cart",element:T.jsx(uO,{})}),T.jsx(Di,{path:"/checkout",element:T.jsx(dO,{})}),T.jsx(Di,{path:"/wishlist",element:T.jsx(fO,{})}),T.jsx(Di,{path:"/my-orders",element:T.jsx(pO,{})})]});oI.createRoot(document.getElementById("root")).render(T.jsx(R.StrictMode,{children:T.jsx(QO,{})}));
